<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lisk Service :: Lisk documentation</title>
    <link rel="canonical" href="https://lisk.com/documentation/lisk-service/index.html">
    <link rel="next" href="setup/docker.html">
    <meta name="description" content="Describes the general purpose, architecture and usage of Lisk Service.">
    <meta name="generator" content="Antora 3.1.1">

  <link id="theme" rel="stylesheet" title="Default" href="../_/css/site.css">
  <link rel="stylesheet" title="Dark" href="../_/css/dark-site.css">

    <script>var uiRootPath = '../_'</script>
    <script src="../_/js/vendor/medium-zoom.js"></script>
    <script type="text/javascript" id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="e4db29b5-cd94-4bcf-87e4-04f4ca564240" data-blockingmode="manual"></script>
    <!-- Matomo -->
    <script>
      var _paq = window._paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="https://lisk.matomo.cloud/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '2']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src='//cdn.matomo.cloud/lisk.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Code -->
    <!-- Matomo Tag Manager -->
    <script>
      var _mtm = window._mtm = window._mtm || [];
      _mtm.push({'mtm.startTime': (new Date().getTime()), 'event': 'mtm.Start'});
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src='https://cdn.matomo.cloud/lisk.matomo.cloud/container_RUW6y8yf.js'; s.parentNode.insertBefore(g,s);
    </script>
    <!-- End Matomo Tag Manager -->
<link rel="icon" href="../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="top-logo">
        <a href=".." class="lisk-logo"></a>
        <a href=".." class="docs-logo"></a>
      </div>
      <!--<a class="navbar-item" href="https://lisk.com/documentation">Lisk documentation</a>-->
      <div id="docsearch" class="navbar-menu search-box hide-for-print">
        <!--<input id="search-input-toolbar" type="text" placeholder="Search me ...">-->
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">APIs</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../api/lisk-node-rpc.html">Lisk node RPC API</a>
            <a class="navbar-item" href="../api/lisk-service-http.html">Lisk Service HTTP
              API</a>
            <a class="navbar-item" href="../api/lisk-service-rpc.html">Lisk Service RPC
              API</a>
            <a class="navbar-item" href="../api/lisk-service-pubsub.html">Lisk Service
              Pub/Sub API</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Explorers</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://lisk.observer/" target="_blank">Lisk Observer</a>
            <a class="navbar-item" href="https://liskscan.com/" target="_blank">LiskScan</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../lisk-sdk/">Lisk SDK</a>
            <a class="navbar-item" href="../lisk-service/">Lisk Service</a>
            <a class="navbar-item" href="../lisk-core/">Lisk Core</a>
            <a class="navbar-item" href="https://lisk.com/wallet" target="_blank">Lisk Wallets</a>
          </div>
        </div>
        <button onclick="switch_style('toggle')" id="theme-toggle" class="theme-toggle navbar-item"></button>
        <!-- <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div> -->
      </div>
    </div>
  </nav>
</header><div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
  <div class="components-versions">
      <div class="page-components">
    <button class="component-menu-toggle" title="Show other documentations">Lisk Service</button>
    <div class="component-menu">
        <a class="component" href="../lisk-core/index.html">Lisk Core</a>
        <a class="component" href="../index.html">Lisk Documentation</a>
        <a class="component" href="../lisk-sdk/index.html">Lisk SDK</a>
        <a class="component is-current" href="index.html">Lisk Service</a>
    </div>
  </div>
    <span></span>
      </div>
  <span></span>
  <span></span>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Lisk Service</a></li>
  </ul>
</nav>
    <div id="docsearch-toolbar" class="search-box hide-for-print toolbar-search">
      <!--<input id="search-input" type="text" placeholder="Search me ...">-->
    </div>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/docs-service-v0.6/modules/ROOT/pages/index.adoc"><img class="pencil">Edit this Page</a></div>
  </div>
<div class="body">
<div class="nav-container" data-component="lisk-service" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Lisk Service</a></h3>
<ul class="nav-list">
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Setup</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup/docker.html">Installation with Docker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup/source.html">Installation from source code</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configuration/docker.html">Configuration with Docker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configuration/source.html">Configuration with PM2</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Management</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="management/docker.html">Docker commands</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="management/source.html">PM2 commands</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="management/post-transactions.html">Posting transactions with Lisk Service</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">References</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="reference/configuration.html">Lisk Service Configuration Reference</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk Service</span>
    <span class="version">0.6.5 (latest)</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../lisk-core/index.html">Lisk Core</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../lisk-core/index.html">3.0.4 (latest)</a>
        </li>
        <li class="version">
          <a href="../lisk-core/v4/index.html">4.0.0 (beta)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../index.html">Lisk Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../index.html">default</a>
        </li>
        <li class="version">
          <a href="../beta/index.html">beta</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../lisk-sdk/index.html">Lisk SDK</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../lisk-sdk/index.html">5.2.2 (latest)</a>
        </li>
        <li class="version">
          <a href="../lisk-sdk/v6/index.html">6.0.0 (beta)</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">Lisk Service</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">0.6.5 (latest)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Lisk Service</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#architecture">Architecture</a>
<ul class="sectlevel2">
<li><a href="#microservices">Microservices</a></li>
</ul>
</li>
<li><a href="#usage">APIs &amp; Usage</a>
<ul class="sectlevel2">
<li><a href="#the-http-api">The HTTP API</a></li>
<li><a href="#the-json-rpc-api">The JSON-RPC API</a></li>
<li><a href="#the-subscribe-api">The Subscribe API</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://github.com/LiskHQ/lisk-service" target="_blank" rel="noopener">Lisk Service</a> is a web application that allows interaction with various blockchain networks based on <a href="../understand-blockchain/lisk-protocol/index.html" class="xref page">Lisk</a> and <a href="https://en.bitcoin.it/wiki/Protocol_documentation">Bitcoin</a> protocols.</p>
</div>
<div class="paragraph">
<p>The main focus of Lisk Service is to provide data to the UI clients such as <a href="https://lisk.com/wallet">Lisk Desktop</a> and <a href="https://lisk.com/wallet">Lisk Mobile</a>.
Lisk Service makes it possible to access all blockchain live data in a similar way to the regular Lisk SDK API, and in addition provides users with much more details and endpoints, such as geolocation and various statistics about network usage.</p>
</div>
<div class="paragraph">
<p>The project implementation is based on <a href="#microservices">Microservices</a>.
The technical stack is designed to deliver several microservices, and each of them provides one particular functionality.
The data is served in JSON format and exposed by a <a href="../api/lisk-service-http.html" class="xref page">public RESTful API</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="architecture"><a class="anchor" href="#architecture"></a>Architecture</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/architecture.png" alt="Architecture">
</div>
</div>
<div class="sect2">
<h3 id="microservices"><a class="anchor" href="#microservices"></a>Microservices</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. The Lisk Service microservices</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Microservice</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Gateway</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Gateway component provides a RESTful <a href="../api/lisk-service-http.html" class="xref page">HTTP API</a>, which all users of Lisk Service can access and use.
Its main purpose is to proxy API requests from users to other components provided by Lisk Service.
It also maintains backwards compatibility when its public API is changed or replaced by a new version.
This provides users with a <strong>central point of data access</strong> that never breaks existing application compatibility.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Lisk</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The REST client component acts as a bridge between the Lisk SDK and the <a href="#gateway">Lisk Service Gateway</a>.
Its main purpose is to provide enriched data from the Lisk SDK API.
This component is designed to provide high availability, together with efficient and reliable access to the Lisk SDK API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Market</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Market service allows price data retrieval.
It supports multiple sources to maintain the current up-to-date Lisk token price, and ensures this is available to the clients in real time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Newsfeed</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Newsfeed service is a single-purpose microservice that aggregates content sharing platforms and shares collected data with UI clients such as Lisk Desktop.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Template</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Template service is an abstract service whereby all of the services from Lisk Service are inherited from.
It allows all services to share a similar interface and design pattern.
The purpose here is to reduce code duplication and increase consistency between each service, hence simplifying code maintenance and testing.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usage"><a class="anchor" href="#usage"></a>APIs &amp; Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once Lisk Service is <a href="setup/docker.html" class="xref page">set up</a>, <a href="configuration/docker.html" class="xref page">configured</a> and started, it is possible to retrieve data from the blockchain network.</p>
</div>
<div class="paragraph">
<p>Lisk Service provides the data through several alternative APIs:</p>
</div>
<div class="sect2">
<h3 id="the-http-api"><a class="anchor" href="#the-http-api"></a>The HTTP API</h3>
<div class="paragraph">
<p>The <a href="../api/lisk-service-http.html" class="xref page">HTTP API</a> offers a RESTful API with various additional endpoints as compared to the HTTP API of a normal Lisk node.</p>
</div>
<div class="paragraph">
<p>This API can be utilized to build powerful wallets and user interfaces for blockchain applications which are built with the Lisk SDK.</p>
</div>
<div class="sect3">
<h4 id="public-lisk-service-apis"><a class="anchor" href="#public-lisk-service-apis"></a>Public Lisk Service APIs</h4>
<div class="paragraph">
<p>There is a public HTTP API for every public Lisk blockchain network, which can be used to query the desired information from the network.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Lisk Mainnet</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Public API base URL: <code><a href="https://service.lisk.com/api/v2" class="bare">https://service.lisk.com/api/v2</a></code></p>
</li>
<li>
<p>API specification: <a href="../api/lisk-service-http.html" class="xref page">Lisk Service HTTP API reference (Mainnet)</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Lisk Testnet</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Public API base URL: <code><a href="https://testnet-service.lisk.com/api/v2" class="bare">https://testnet-service.lisk.com/api/v2</a></code></p>
</li>
<li>
<p>API specification: <a href="../api/lisk-service-http-testnet.html" class="xref page">Lisk Service HTTP API reference (Testnet)</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In the Public API base URLs listed above, in order to fetch the required entities it is necessary to add them at the end of the respective URL. e.g. <code>/blocks</code>, and <code>/transactions</code>, etc.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://service.lisk.com/api/v2/transactions" class="bare">https://service.lisk.com/api/v2/transactions</a></p>
</li>
<li>
<p><a href="https://testnet-service.lisk.com/api/v2/transactions" class="bare">https://testnet-service.lisk.com/api/v2/transactions</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-request-data-with-curl"><a class="anchor" href="#example-request-data-with-curl"></a>Example: Request data with curl</h4>
<div class="listingblock">
<div class="title">Example request: Obtain a list of all 101 currently forging delegates</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -X GET "http://localhost:9901/api/v2/forgers" -H  "accept: application/json"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example response</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "data": [
    {
      "username": "spaceone_pool",
      "totalVotesReceived": "24200000000000",
      "address": "lsk52ox9f8t7oghqtbtytvpkqzv4wf2srjsvoaff7",
      "minActiveHeight": 16357328,
      "isConsensusParticipant": true,
      "nextForgingTime": 1635159800
    },
    {
      "username": "btf",
      "totalVotesReceived": "17250000000000",
      "address": "lsk49cfgah7bz84ncoqkhsvg5o2bsmj23x3vqo9y5",
      "minActiveHeight": 16486490,
      "isConsensusParticipant": true,
      "nextForgingTime": 1635159810
    },
    // ...
    {
      "username": "gregoryh",
      "totalVotesReceived": "21998000000000",
      "address": "lskfkvo54opxs7cn6aefjhuupbr6zv7yegyow9sb4",
      "minActiveHeight": 16467538,
      "isConsensusParticipant": true,
      "nextForgingTime": 1635160820
    }
  ],
  "meta": {
    "count": 103,
    "offset": 0,
    "total": 103
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="the-json-rpc-api"><a class="anchor" href="#the-json-rpc-api"></a>The JSON-RPC API</h3>
<div class="paragraph">
<p>The JSON-RPC API provides blockchain data in standardized JSON format over a WebSocket connection.
The API uses the <code>socket.io</code> library and it is compatible with JSON-RPC 2.0 standard.</p>
</div>
<div class="paragraph">
<p>Check out the <a href="../api/lisk-service-rpc.html" class="xref page">RPC endpoints (Lisk Service)</a> reference for an overview of all available RPC requests.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Lisk Mainnet</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Public API: <code>wss://service.lisk.com/rpc-v2</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Lisk Testnet</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Public API: <code>wss://testnet-service.lisk.com/rpc-v2</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="example-emit-to-remote-procedure-calls-with-socket-io"><a class="anchor" href="#example-emit-to-remote-procedure-calls-with-socket-io"></a>Example: Emit to remote-procedure calls with socket.io</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">node --version
# v16.15.0
npm i socket.io-client <i class="conum" data-value="1"></i><b>(1)</b>
npm i jsome <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Use the <a href="https://www.npmjs.com/package/socket.io-client" target="_blank" rel="noopener">socket.io-client</a> to connect to the RPC API.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Optionally install <code>jsome</code> to prettify the API response.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">rpc.js</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">// 1. Require the dependencies
const io = require('socket.io-client'); // The socket.io client
const jsome = require('jsome'); // Prettifies the JSON output

jsome.params.colored = true;

// Use local Service node
const WS_RPC_ENDPOINT = 'ws://localhost:9901/rpc-v2';
//Use public Service node
//const WS_RPC_ENDPOINT = "wss://service.lisk.com/rpc-v2";

// 2. Connect to Lisk Service via WebSockets
const socket = io(WS_RPC_ENDPOINT, {
  forceNew: true,
  transports: ['websocket']
});

// 3. Emit the remote procedure call
socket.emit('request', {
  jsonrpc: '2.0',
  method: 'get.forgers',
  params: {limit: "5", offset: "0"} },
  answer =&gt; {
    // console.log(answer);
    jsome(answer);
    process.exit(0);
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run the above script with Node.js to receive the API response in the terminal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">node rpc.js</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="the-subscribe-api"><a class="anchor" href="#the-subscribe-api"></a>The Subscribe API</h3>
<div class="paragraph">
<p>The Subscribe API, or sometimes called the Publish/Subscribe or Event-Driven API uses a two-way streaming connection, which means that not only the client can request the server for a data update, but also the server can notify the client about new data instantly as it arrives.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Check out the <a href="../api/lisk-service-pubsub.html" class="xref page">Publish/Subscribe API (Lisk Service)</a> reference for an overview of all available RPC requests.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Lisk Mainnet</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Public API: <code>wss://testnet-service.lisk.com/blockchain</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Lisk Testnet</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Public API: <code>wss://testnet-service.lisk.com/blockchain</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="example-subscribe-to-events-with-socket-io"><a class="anchor" href="#example-subscribe-to-events-with-socket-io"></a>Example: Subscribe to events with socket.io</h4>
<div class="paragraph">
<p>Use the <a href="https://www.npmjs.com/package/socket.io-client" target="_blank" rel="noopener">socket.io-client</a> to connect to the RPC API.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm i socket.io-client</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">subscribe.js</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const io = require('socket.io-client');
const jsome = require('jsome');

jsome.params.colored = true;

// Uses local Service node
const WS_SUBSCRIBE_ENDPOINT = 'ws://localhost:9901/blockchain';
// Uses public Service node
//const WS_SUBSCRIBE_ENDPOINT = "wss://service.lisk.com/blockchain";

const socket = io(WS_SUBSCRIBE_ENDPOINT, {
	forceNew: true,
	transports: ['websocket'],
});

const subscribe = event =&gt; {
	socket.on(event, answer =&gt; {
		console.log(`====== ${event} ======`);
		// console.log(answer);
		jsome(answer);
	});
};

subscribe('update.block');
subscribe('update.round');
subscribe('update.forgers');
subscribe('update.transactions.confirmed');
subscribe('update.fee_estimates');

// To log all events
[
	'connect', 'reconnect',
	'connect_error', 'connect_timeout', 'error', 'disconnect',
	'reconnect', 'reconnect_attempt',
	'reconnecting', 'reconnect_error', 'reconnect_failed',
].forEach(item =&gt; {
	socket.on(item, res =&gt; {
		console.log(`Event: ${item}, res: ${res || '-'}`);
	});
});

// To log incoming data
['status'].forEach(eventName =&gt; {
	socket.on(eventName, newData =&gt; {
		console.log(
			`Received data from ${WS_SUBSCRIBE_ENDPOINT}/${eventName}: ${newData}`,
		);
	});
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run the above script with Node.js to receive all published events from the Subscribe API:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">node subscribe.js</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="next"><a href="setup/docker.html">Installation with Docker</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="footerdiv">
    <p>© 2023 Lisk Foundation</p>
    <!-- <div class="community-section">
      <p class="community-section__text">Follow Lisk on: </p>
      <div class="community-section__icons"> -->
    <div class="community_icons">
        <a href="https://lisk.chat" title="Discord" target="_blank" class="footer_icon icon-discord"><p>Discord</p></a>
        <a href="https://dev.lisk.com" title="Discourse" target="_blank" class="footer_icon icon-discourse"><p>Discourse</p></a>
        <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer_icon icon-github"><p>GitHub</p></a>
  <!--    </div> -->
    </div>
  </div>
</footer>
<script src="../_/js/site.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script async src="../_/js/vendor/glossary.js"></script>
<script async src="../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../_/js/vendor/swagger-ui.js"></script>
<script async src="../_/js/vendor/component-versions.js"></script>
<script src="../_/js/vendor/custom.js"></script>
  <script src="../_/js/vendor/docsearch.js"></script>
  <!--<script src="../_/js/vendor/docsearch.min.js"></script>-->
  <!--<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script>-->
  <script>
    docsearch({
      container: '#docsearch',
        appId: 'C4SU57KGV9',
      apiKey: '55aa8709b04eb62f08f87571cf77547c',
      indexName: 'lisk-docs-search'
    });
    docsearch({
      container: '#docsearch-toolbar',
        appId: 'C4SU57KGV9',
      apiKey: '55aa8709b04eb62f08f87571cf77547c',
      indexName: 'lisk-docs-search'
    });
  </script>
  <!--<script>
    function focusSearchInput () { document.querySelector('#search-input').focus() }
    var search = docsearch({
        appId: 'C4SU57KGV9',
      apiKey: '55aa8709b04eb62f08f87571cf77547c',
      indexName: 'lisk-docs-search',
      inputSelector: '#search-input',
      autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
      algoliaOptions: { hitsPerPage: 10 }
    }).autocomplete
    search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
    focusSearchInput()
    window.addEventListener('load', focusSearchInput)
  </script>-->
<!--  <script>
    function focusSearchInputToolbar () { document.querySelector('#search-input-toolbar').focus() }
    var search = docsearch({
        appId: 'C4SU57KGV9',
      apiKey: '55aa8709b04eb62f08f87571cf77547c',
      indexName: 'lisk-docs-search',
      inputSelector: '#search-input-toolbar',
      autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
      algoliaOptions: { hitsPerPage: 10 }
    }).autocomplete
    search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
    focusSearchInputToolbar()
    window.addEventListener('load', focusSearchInputToolbar)
  </script>-->
  </body>
</html>
