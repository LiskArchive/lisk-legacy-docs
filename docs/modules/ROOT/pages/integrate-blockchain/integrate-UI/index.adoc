= Integrating with UI
Muhammad Talha <muhammad.talha@lightcurve.io>
:toc: preamble
:toclevels: 5
:sectnums:
:page-toclevels: 4
:idprefix:
:idseparator: -
:imagesdir: ../../assets/images
:sdk_docs: lisk-sdk::

// External URLs
:url_helloapp_readMe: https://github.com/LiskHQ/lisk-sdk-examples/tree/1582-UI-boiler-plate/guides/07-ui-boilerplate/hello_frontend#readme
:url_boilerPlate: https://github.com/LiskHQ/lisk-sdk-examples/tree/1582-UI-boiler-plate/guides/07-ui-boilerplate/hello_frontend




// Project URLs
:url_helloapp_overview: integrate-blockchain/index.adoc#integrating-a-user-interface
:url_guides_setup: build-blockchain/create-sidechain-app.adoc
:url_guides_module: build-blockchain/module/index.adoc
:url_guides_plugin: build-blockchain/plugin/index.adoc

In this chapter, you'll learn how to integrate a user interface with the Hello sidechain application.

As defined in the xref:{url_helloapp_overview}[Hello World sidechain application's overview], the UI should provide the following functionalities:

[#hello]
====
* The UI should allow the user to send and later list all the Hello messages sent on the sidechain.
* The UI should provide the account creation feature, along with fetching the details of any account.
* The UI should have a page to transfer LSKs to any account on the sidechain.
* The UI should also provide a faucet screen, where an account can be seeded with LSKs.
====

== Preliminaries and directory structure
Our goal in this chapter is to focus on the integration steps that should be taken for a UI.
To jump start with the integration directly, we have created a {url_boilerPlate}[boiler-plate UI] project for you.

Throughout this guide we will build on top of this template and integrate the aforementioned features to the Hello sApp.

.Prerequisites
[NOTE]
====
To use this guide, it is assumed that the following criteria have been met:

. Lisk Commander is installed, and a basic sidechain client is already initialized, as explained in the guide xref:{url_guides_setup}[].
. A new module `HelloModule` is created and contains all the functionalities as described in the guides for xref:{url_guides_module}[].
. A new plugin `HelloInfoPlugin` is created and contains all the functionalities as described in the guides for xref:{url_guides_plugin}[].
. The UI template based on the react and semantic-UI has been created as described in the boiler-plate's {url_helloapp_readMe}[README.md] file.
====

Once all the aforementioned pre-requisites have been met, the `hello` directory should look like the following:

.hello/
----
hello/
├── hello_client/
└── hello_frontend/
    ├── public/
    ├── src/
    │    ├── components/ <1>
    │    │    ├── faucet.js
    │    │    ├── getAccountDetails.js
    │    │    ├── getHello.js
    │    │    ├── home.js 
    │    │    ├── messageTimeline.js
    │    │    ├── newAccount.js
    │    │    ├── sendHello.js
    │    │    └── transfer.js
    │    ├── layout/
    │    │    └── header.js
    │    ├── App.css
    │    ├── App.js
    │    ├── App.test.js
    │    ├── index.css
    │    ├── index.js
    │    ├── logo.png
    │    ├── reportWebVitals.js
    │    └── setupTest.ts
    ├── package-lock.json 
    └── package.json
----

<1> Contains all the web pages, that will provide the  <<hello, aforementioned functionalities>>.

== Installing dependencies
With the UI template ready, we now need to install the `@liskhq/lisk-client` package. Through `lisk-client`, the UI will communicate with the *hello_client*.
[source, bash]
----
npm install @liskhq/lisk-client --save
----

Next, install `buffer` to *hello_frontend*.
[source, bash]
----
npm install --save buffer
----

Our frontend will use the `BigInt` type in the transaction creation process so, update the `eslintConfig` object in the *package.json* to match the following:

.hello_frontend/package.json
[source,json]
----
{
  // [...]
    "eslintConfig": {
    "extends": [
        "react-app",
        "react-app/jest"
    ],
    "env": {
        "es2020": true,
        "browser": true,
        "node": true,
        "mocha": true
        }
    },
  // [...]
}
----

After updating the `package.json` file, install the dependencies in the `hello_frontend`:

[source,bash]
----
npm install
----

== Creating api.js
Inside the *hello_frontend/src* directory, create a file called `api.js`. 
This script file will contain the code to fetch an instance of apiClient.
With apiClient, the frontend will be able to invoke endpoints, create and send transactions, etc.

.hello_frontend/src/api.js
[source,typescript]
----
//Always use the browser version of the '@liskhq/lisk-client' for UI projects.
import { apiClient } from '@liskhq/lisk-client/browser'; 

const RPC_ENDPOINT = 'ws://localhost:7887/rpc-ws';

let clientCache;

export const getClient = async () => {
    if (!clientCache) {
        clientCache = await apiClient.createWSClient(RPC_ENDPOINT);
    }
    return clientCache;
};
----

