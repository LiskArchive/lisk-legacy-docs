<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Communicating to a Lisk node via RPC :: Lisk documentation</title>
    <link rel="canonical" href="https://liskhq.github.io/lisk-docs/beta/understand-blockchain/sdk/rpc.html">
    <link rel="prev" href="plugins.html">
    <link rel="next" href="codec-schema.html">
    <meta name="description" content="Introduces the Lisk communication architecture, which is based on IPC Unix Sockets and WebSocket.">
    <meta name="generator" content="Antora 3.1.1">

  <link id="theme" rel="stylesheet" title="Default" href="../../../_/css/site.css">
  <link rel="stylesheet" title="Dark" href="../../../_/css/dark-site.css">

    <script>var uiRootPath = '../../../_'</script>
    <script src="../../../_/js/vendor/medium-zoom.js"></script>
    <script type="text/javascript" id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="e4db29b5-cd94-4bcf-87e4-04f4ca564240" data-blockingmode="manual"></script>
    <!-- Matomo -->
    <script>
      var _paq = window._paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="https://lisk.matomo.cloud/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '2']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src='//cdn.matomo.cloud/lisk.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Code -->
    <!-- Matomo Tag Manager -->
    <script>
      var _mtm = window._mtm = window._mtm || [];
      _mtm.push({'mtm.startTime': (new Date().getTime()), 'event': 'mtm.Start'});
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src='https://cdn.matomo.cloud/lisk.matomo.cloud/container_RUW6y8yf.js'; s.parentNode.insertBefore(g,s);
    </script>
    <!-- End Matomo Tag Manager -->
<link rel="icon" href="../../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="top-logo">
        <a href="../../.." class="lisk-logo"></a>
        <a href="../../.." class="docs-logo"></a>
      </div>
      <!--<a class="navbar-item" href="https://liskhq.github.io/lisk-docs">Lisk documentation</a>-->
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">APIs</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../api/lisk-node-rpc.html">Lisk node RPC API</a>
            <a class="navbar-item" href="../../../api/lisk-service-http.html">Lisk Service HTTP
              API</a>
            <a class="navbar-item" href="../../../api/lisk-service-rpc.html">Lisk Service RPC
              API</a>
            <a class="navbar-item" href="../../../api/lisk-service-pubsub.html">Lisk Service
              Pub/Sub API</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Explorers</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://lisk.observer/" target="_blank">Lisk Observer</a>
            <a class="navbar-item" href="https://liskscan.com/" target="_blank">LiskScan</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../lisk-sdk/">Lisk SDK</a>
            <a class="navbar-item" href="../../../lisk-service/">Lisk Service</a>
            <a class="navbar-item" href="../../../lisk-core/">Lisk Core</a>
            <a class="navbar-item" href="https://lisk.com/wallet" target="_blank">Lisk Wallets</a>
          </div>
        </div>
        <button onclick="switch_style('toggle')" id="theme-toggle" class="theme-toggle navbar-item"></button>
        <!-- <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div> -->
      </div>
    </div>
  </nav>
</header><div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
  <div class="components-versions">
      <div class="page-components">
    <button class="component-menu-toggle" title="Show other documentations">Lisk Documentation</button>
    <div class="component-menu">
        <a class="component" href="../../../lisk-core/index.html">Lisk Core</a>
        <a class="component" href="../../../lisk-docs-manual/index.html">Lisk docs manual</a>
        <a class="component is-current" href="../../../index.html">Lisk Documentation</a>
        <a class="component" href="../../../lisk-sdk/index.html">Lisk SDK</a>
        <a class="component" href="../../../lisk-service/index.html">Lisk Service</a>
    </div>
  </div>
    <span></span>
    <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">beta</button>
  <div class="version-menu">
    <a class="version is-missing" href="../../../index.html">default</a>
    <a class="version is-current" href="rpc.html">beta</a>
  </div>
</div>
  </div>
  <span></span>
  <span></span>
  <a href="../../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Lisk Documentation</a></li>
    <li><a href="../index.html">Understand Lisk Blockchain</a></li>
    <li>Lisk SDK</li>
    <li><a href="rpc.html">Communicating to a Lisk node via RPC</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/development/docs/modules/ROOT/pages/understand-blockchain/sdk/rpc.adoc"><img class="pencil">Edit this Page</a></div>
  </div>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="beta">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Lisk Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../intro/what-is-blockchain.html">What is blockchain?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../intro/how-blockchain-works.html">How blockchain works</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../intro/blockchain-scalability.html">Blockchain Scalability</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../intro/lisk-products.html">Lisk products</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../index.html">Understand Lisk Blockchain</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../state-machine.html">State machine</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../consensus/index.html">Consensus protocols</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../consensus/pos-poa.html">Proof of Stake (PoS) &amp; Proof of Authority (PoA) in Lisk</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../network.html">Network</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../interoperability/index.html">Lisk Interoperability</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../interoperability/communication.html">Cross-chain communication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../interoperability/sidechain-registration-and-recovery.html">Sidechain Registration &amp; Recovery</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../blocks-txs.html">Blocks and Transactions</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lisk SDK</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="modules-commands.html">Modules and Commands</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="plugins.html">Plugins</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="rpc.html">Communicating to a Lisk node via RPC</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="codec-schema.html">Schemas &amp; Codec</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../../build-blockchain/index.html">Build Blockchain</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../build-blockchain/create-blockchain-client.html">Creating a new blockchain client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../build-blockchain/configuration.html">Blockchain client configuration</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../../build-blockchain/module/index.html">How to create a module</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/module/configuration.html">1. How to create a module configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/module/stores.html">2. How to create stores</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/module/command.html">3. How to create a command</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/module/endpoints-methods.html">4. How to create endpoints and methods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/module/blockchain-event.html">5. How to create a blockchain event</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../../build-blockchain/plugin/index.html">How to create a plugin</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/plugin/schema-types.html">1. Defining off-chain data structures</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/plugin/offchain-db.html">2. Setting up an Off-chain database</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/plugin/configuring-plugin.html">3. Configuring a Plugin</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/plugin/plugin-class.html">4. Updating the Plugin Class</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/plugin/plugin-endpoints.html">5. Creating an endpoint &amp; Testing the plugin</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../build-blockchain/create-genesis-block.html">How to create a new genesis block</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../build-blockchain/register-sidechain.html">How to register a sidechain</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../../run-blockchain/index.html">Run Blockchain</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/process-management.html">Process management with PM2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/account-management.html">Managing accounts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/become-a-validator.html">How to become a validator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/staking.html">How to stake and un-stake tokens</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/enable-block-generation.html">How to enable/disable block generation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/setup-relayer.html">Setting up a relayer node</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../../integrate-blockchain/index.html">Integrate Blockchain</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../integrate-blockchain/connecting-endpoints.html">Connecting to endpoints</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../integrate-blockchain/subscribing-to-events.html">Retrieving on-chain events</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../integrate-blockchain/create-sign-transactions.html">How to create and sign a transaction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../integrate-blockchain/create-tx-offline.html">Creating transactions and signing them offline</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../integrate-blockchain/calculating-min-fee.html">How to calculate the minimum fee for a transaction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../integrate-blockchain/posting-transactions.html">How to post a transaction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../integrate-blockchain/encode-decode.html">Decoding &amp; encoding data</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../../integrate-blockchain/integrate-ui/index.html">Integrating a user interface</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrate-blockchain/integrate-ui/create-get-account.html">1. Handling accounts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrate-blockchain/integrate-ui/faucet-transfer.html">2. Using faucet and transferring tokens</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrate-blockchain/integrate-ui/send-get-hello.html">3. Sending and retrieving hello</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../api/lisk-node-rpc.html">RPC API for Lisk nodes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../api/lisk-service-pubsub.html">Publish/Subscribe API (Lisk Service)</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Products</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../lisk-sdk/v6/index.html">Lisk SDK</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../lisk-core/v4/index.html">Lisk Core</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../bug-bounty-program.html">Lisk Bug Bounty Program</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk Documentation</span>
    <span class="version">beta</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../lisk-core/index.html">Lisk Core</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-core/index.html">3.0.4 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-core/v4/index.html">4.0.0 (beta)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../lisk-docs-manual/index.html">Lisk docs manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-docs-manual/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../../index.html">Lisk Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../index.html">default</a>
        </li>
        <li class="version is-current">
          <a href="../../index.html">beta</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../lisk-sdk/index.html">Lisk SDK</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-sdk/index.html">5.2.2 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-sdk/v6/index.html">6.0.0 (beta)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../lisk-service/index.html">Lisk Service</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-service/index.html">0.6.5 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-service/0.7/index.html">0.7 (beta)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="4">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Communicating to a Lisk node via RPC</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The open Lisk communication architecture is based on three different RPC (Remote-Procedure-Call) API modes: <a href="https://en.wikipedia.org/wiki/Inter-process_communication" target="_blank" rel="noopener">Inter-Process Communication (IPC)</a>, <a href="https://en.wikipedia.org/wiki/WebSocket" target="_blank" rel="noopener">WebSocket (WS)</a>, and <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" target="_blank" rel="noopener">Hypertext Transfer Protocol (HTTP)</a>.</p>
</div>
<div class="paragraph">
<p>The blockchain node can be configured to expose either IPC, WS, or HTTP APIs, as described in the <a href="../../../lisk-sdk/v6/config.html#rpc" class="xref page">Node configuration reference</a>.</p>
</div>
<div class="paragraph">
<p>These APIs can be used by internal components such as modules and plugins.
External services such as other scripts in JS, a tool in Rust, or a Python daemon can also use these APIs.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../../_images/intro/communication-architecture.png" alt="communication architecture" width="1000">
</div>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#the-api-client">The API client</a>
<ul class="sectlevel2">
<li><a href="#ipc-vs-ws-vs-http">IPC vs WS vs HTTP</a></li>
<li><a href="#enabling-ipc-websocket-and-http-apis">Enabling IPC, WebSocket, and HTTP APIs</a></li>
</ul>
</li>
<li><a href="#aliases">Aliases</a></li>
<li><a href="#interfaces">Interfaces</a>
<ul class="sectlevel2">
<li><a href="#endpoints">Endpoints</a>
<ul class="sectlevel3">
<li><a href="#how-to-invoke-endpoints">How to invoke endpoints</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#events">Events</a>
<ul class="sectlevel2">
<li><a href="#rpc-events">RPC Events</a>
<ul class="sectlevel3">
<li><a href="#how-to-subscribe-to-events">How to subscribe to events</a></li>
</ul>
</li>
<li><a href="#blockchain-events">Blockchain events</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="the-api-client"><a class="anchor" href="#the-api-client"></a>The API client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The API client simplifies sending API requests to a blockchain node.
A Lisk application communicates to the blockchain by requesting the RPC endpoints of a blockchain node.
RPC-based interfaces i.e. IPC, WS, or HTTP allow applications to <strong>invoke</strong> and <strong>subscribe</strong> (WS and IPC only) to RPC endpoints and events.</p>
</div>
<div class="paragraph">
<p>An API client can be imported into a JS client application as shown in the following snippets.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To conveniently communicate with a Lisk application, use the <code>apiClient</code> included in the <code>@liskhq/lisk-client</code> and the <code>lisk-sdk</code> packages.
</td>
</tr>
</table>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_ws-api-client-example"></a>WS API client example</p>
</li>
<li>
<p><a id="tabset1_ipc-api-client-example"></a>IPC API client example</p>
</li>
<li>
<p><a id="tabset1_http-curl"></a>HTTP cURL</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_ws-api-client-example">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const { apiClient } = require('@liskhq/lisk-client');
let clientCache;
const nodeAPIURL = 'ws://localhost:7887/rpc-ws';

const getClient = async () =&gt; {
    if (!clientCache) {
        clientCache = await apiClient.createWSClient(nodeAPIURL);
    }
    return clientCache;
};


const blockId = "0f4ea1c3cfb61b99d387b26aaadf57936a528e5c713c6e55aa06f4d621b7e6f0";

getClient().then((client) =&gt; {
    client.invoke("chain_getBlockByID", {
        id: blockId
    }).then(res =&gt; {
        console.log("Result: ", res);
    });
});</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_ipc-api-client-example">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const { apiClient } = require('@liskhq/lisk-client');
let clientCache;

const getClient = async () =&gt; {
    if (!clientCache) {
        clientCache = await apiClient.createIPCClient('~/.lisk/my-app');
    }
    return clientCache;
};

const blockId = "0f4ea1c3cfb61b99d387b26aaadf57936a528e5c713c6e55aa06f4d621b7e6f0";

getClient().then((client) =&gt; {
    client.invoke("chain_getBlockByID", {
        id: blockId
    }).then(res =&gt; {
        console.log("Result: ", res);
    });
});</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_http-curl">
<div class="paragraph">
<p>Apart from the WS and IPC method, Lisk endpoints also support HTTP requests and response mechanisms.
With a <a href="https://www.jsonrpc.org/specification">JSON RPC 2.0</a> based format, any endpoint can be invoked using a cURL request.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">curl --location --request POST 'http://localhost:7887/rpc' \
--header 'Content-Type: application/json' \
--data-raw '{
    "jsonrpc": "2.0",
    "id": "1",
    "method": "chain_getBlockByHeight",
    "params": {
        "height": 2291
    }
}'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ipc-vs-ws-vs-http"><a class="anchor" href="#ipc-vs-ws-vs-http"></a>IPC vs WS vs HTTP</h3>
<div class="paragraph">
<p>The three modes of communication i.e. IPC, WS, and HTTP allow Lisk applications to communicate with Lisk nodes.</p>
</div>
<div class="paragraph">
<p><strong>IPC</strong> in general is the preferred method for local connections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It is slightly faster.</p>
</li>
<li>
<p>It supports synchronous data exchange.</p>
</li>
<li>
<p>It does not use the system ports, so it mitigates any risk of collision when the ports are already in use by another application.</p>
</li>
<li>
<p>It can invoke and subscribe to endpoints and events, respectively.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>WS</strong> on the contrary should be used if the node API has to communicate with services on remote servers.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It is a bidirectional communication protocol that allows sending and receiving of data between a client and a server.</p>
</li>
<li>
<p>A WS connection is kept alive until terminated by either the client or the server.</p>
</li>
<li>
<p>A WS connection is usually necessary if real-time data acquisition is required.</p>
</li>
<li>
<p>A WS connection can also invoke and subscribe to endpoints and events, respectively.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>HTTP</strong> is stateless, so it can only be used for fetching data from an endpoint.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HTTP requests establish a uni-directional connection to the server and close it once a response is received.</p>
</li>
<li>
<p>Since an event emits data in real time, a subscription can only work if the receiver&#8217;s connection is persistent. This is not possible with an HTTP connection, hence it cannot be used to subscribe to events.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="enabling-ipc-websocket-and-http-apis"><a class="anchor" href="#enabling-ipc-websocket-and-http-apis"></a>Enabling IPC, WebSocket, and HTTP APIs</h3>
<div class="paragraph">
<p>Below are examples of the different options that can be used to enable certain client modes.
There are two methods that can be used to expose the node APIs via IPC, WS, and HTTP.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use the following command line flags when starting the application:</p>
<div class="ulist">
<ul>
<li>
<p><code>--api-ipc</code>: Enable API over IPC</p>
</li>
<li>
<p><code>--api-ws</code>: Enable API over WS</p>
</li>
<li>
<p><code>--api-http</code>: Enable API over HTTP</p>
</li>
<li>
<p><code>--api-host=127.0.0.1</code>: IP over which the API is exposed. Use <code>0.0.0.0</code> to expose the API on all available ethernet IP instances</p>
</li>
<li>
<p><code>--api-port=7887</code>: Port on which the API is exposed</p>
</li>
</ul>
</div>
</li>
<li>
<p>This can also be achieved by adding the RPC configuration option to your Lisk node&#8217;s configuration file as shown below.
To enforce the config changes <code>--overwrite-config</code> flag must be passed when starting the application.
To supply a custom config file, use the <code>--config=&lt;/path/to/custom/config&gt;</code> flag:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
 "rpc": {
   "modes": ["ipc", "ws", "http"], // Only specify the modes you need to enable
   "port": 7887,
   "host": "127.0.0.1" // Use `0.0.0.0` to expose them on all available ethernet IP instances
 },
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please note that when the WS mode is enabled, the API can be accessed via the <code>/rpc-ws</code> path.
Furthermore, when the HTTP mode is enabled the API can be accessed via the <code>/rpc</code> path.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="aliases"><a class="anchor" href="#aliases"></a>Aliases</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="#events">Events</a> and <a href="#endpoints">Endpoints</a> are identified by their aliases.</p>
</div>
<div class="paragraph">
<p>Example alias:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>"system_getNodeInfo"</pre>
</div>
</div>
<div class="paragraph">
<p>An alias always consists of the following parts:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Prefix:</strong> A <strong>namespace</strong> from which an event or an endpoint belongs to.
The prefix <code>system</code> in this example is referring to the <a href="../../api/lisk-node-rpc.html#system" class="xref page">System namespace</a>.</p>
</li>
<li>
<p><strong>Separator:</strong> The prefix and suffix are always separated by an underscore <code>_</code>.</p>
</li>
<li>
<p><strong>Suffix:</strong> A suffix is a name of the event or an endpoint e.g. <code>getNodeInfo</code> is the name of an endpoint that exists inside the <code>system</code> namespace.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="interfaces"><a class="anchor" href="#interfaces"></a>Interfaces</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A Lisk application communicates via interfaces i.e. <a href="#endpoints">Endpoints</a> and <a href="#events">Events</a>.
Endpoints are invoked and events are subscribed to.</p>
</div>
<div class="paragraph">
<p>Within an application, different interfaces are exposed to different components.
This is summarized in the following diagram.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../../_images/intro/sdk-interfaces.png" alt="sdk interfaces" width="600">
</div>
</div>
<div class="paragraph">
<p>For each endpoint and event displayed above, the following statements apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&#8230;&#8203; <code>reply</code> means, the component can reply to this kind of RPC request.</p>
</li>
<li>
<p>&#8230;&#8203; <code>invoke</code> means, the component can invoke this kind of RPC request.</p>
</li>
<li>
<p>&#8230;&#8203; <code>subscribe</code> means, the component can subscribe to RPC events.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="endpoints"><a class="anchor" href="#endpoints"></a>Endpoints</h3>
<div class="paragraph">
<p>Endpoints are invoked to receive specific data from the blockchain.
Endpoints are part of the request/response mechanism and are invoked via RPCs.</p>
</div>
<div class="paragraph">
<p>The following components can <strong>expose</strong> endpoints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="modules-commands.html" class="xref page">Modules and Commands</a>, for details about module specific endpoints, see <a href="../../../lisk-sdk/v6/modules/index.html" class="xref page">Modules Overview</a>.</p>
</li>
<li>
<p><a href="plugins.html" class="xref page">Plugins</a></p>
</li>
<li>
<p>and also the application itself, see <a href="../../api/lisk-node-rpc.html#endpoints" class="xref page">application endpoints</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following components can <strong>invoke</strong> endpoints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Plugins</p>
</li>
<li>
<p>External services/applications</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="how-to-invoke-endpoints"><a class="anchor" href="#how-to-invoke-endpoints"></a>How to invoke endpoints</h4>
<div class="paragraph">
<p>Whilst invoking an endpoint, the first argument is always the <a href="#aliases">alias</a>.</p>
</div>
<div class="paragraph">
<p>If input data is required, it is provided as a second argument.</p>
</div>
<div class="paragraph">
<p>All endpoints can be invoked via either <a href="#the-api-client">The API client</a> or an HTTP request.</p>
</div>
<div class="paragraph">
<p>The following example shows the invocation of an endpoint with and without additional arguments.</p>
</div>
<div class="listingblock">
<div class="title">How to invoke different kinds of endpoints with the API client</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">// How to invoke an endpoint.
const data = await client.invoke('system_getSchema');
console.log(data);

// How to invoke an endpoint that needs some data input.
const data = await client.invoke('namespace_endpointName', input);
console.log(data);</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="events"><a class="anchor" href="#events"></a>Events</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Lisk apps emit RPC events and Blockchain events, whereby each follows very different concepts.</p>
</div>
<div class="paragraph">
<p>Details of both event types are discussed below:</p>
</div>
<div class="sect2">
<h3 id="rpc-events"><a class="anchor" href="#rpc-events"></a>RPC Events</h3>
<div class="paragraph">
<p>RPC events allow other applications to subscribe to Lisk Blockchain events.
By default, Lisk exposes various events that can be subscribed to get the latest information regarding network, chain, and transactions.</p>
</div>
<div class="paragraph">
<p>These events can be subscribed to, by the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="plugins.html" class="xref page">Plugins</a></p>
</li>
<li>
<p>External services/applications</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For more information about the default events exposed by the Lisk Framework, check out the <a href="../../api/lisk-node-rpc.html#events" class="xref page">Events reference</a> page.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="how-to-subscribe-to-events"><a class="anchor" href="#how-to-subscribe-to-events"></a>How to subscribe to events</h4>
<div class="paragraph">
<p>Each event as described in the  <a href="../../api/lisk-node-rpc.html#events" class="xref page">Events reference</a> page can be subscribed to, by using the convention mentioned in the <a href="#aliases">Aliases</a> section.</p>
</div>
<div class="paragraph">
<p>The following snippet describes how an event can be subscribed by using <a href="#the-api-client">The API client</a>:</p>
</div>
<div class="listingblock">
<div class="title">Subscribing to an event</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">client.subscribe('network_newBlock', ( data ) =&gt; {
  console.log('new block: ',data);
});</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="blockchain-events"><a class="anchor" href="#blockchain-events"></a>Blockchain events</h3>
<div class="paragraph">
<p>Blockchain events emit data about events occurring on chain.
For details, see the <a href="modules-commands.html#blockchain-events" class="xref page">Blockchain Events</a> section.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="plugins.html">Plugins</a></span>
  <span class="next"><a href="codec-schema.html">Schemas &amp; Codec</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="footerdiv">
    <p>© 2023 Lisk Foundation</p>
    <!-- <div class="community-section">
      <p class="community-section__text">Follow Lisk on: </p>
      <div class="community-section__icons"> -->
    <div class="community_icons">
        <a href="https://lisk.chat" title="Discord" target="_blank" class="footer_icon icon-discord"><p>Discord</p></a>
        <a href="https://dev.lisk.com" title="Discourse" target="_blank" class="footer_icon icon-discourse"><p>Discourse</p></a>
        <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer_icon icon-github"><p>GitHub</p></a>
  <!--    </div> -->
    </div>
  </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script async src="../../../_/js/vendor/glossary.js"></script>
<script async src="../../../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../../../_/js/vendor/swagger-ui.js"></script>
<script async src="../../../_/js/vendor/component-versions.js"></script>
<script src="../../../_/js/vendor/custom.js"></script>
  </body>
</html>
