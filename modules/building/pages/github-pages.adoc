= Deploying the documentation on GitHub Pages
:toc:
// External URLs
:url_docs_staging: https://liskhq.github.io/lisk-docs
// Project URLs
:url_structure: structure.adoc

== Updating Lisk docs on GitHub pages

.In the `build` directory
[source,bash]
----
source .env
antora site.yml --fetch
cd git-page
git status
git add .
git commit -m "Test docs"
git push origin git-page
----

Once pushed to `git-page`, the content will be automatically applied under {url_docs_staging}.

== The playbook file

.Example content of `site.yml`
[source,yaml]
----
site:
  title: Lisk documentation
  # the 404 page and sitemap files only get generated when the url property is set
  url: https://lisk.com/documentation
  start_page: ROOT::index.adoc
asciidoc:
  attributes:
    plantuml-server-url: http://www.plantuml.com/plantuml
    imagesdir: ~
    idprefix: ''
    idseparator: '-'
    page-pagination: true
  extensions:
  - ./lib/tabs-block/extension.js
content:
  sources: #<1>
  - url: https://github.com/LiskHQ/lisk-docs.git
    branches: [1417-overview-pages, 1417-move-apis, docs-core, docs-sdk-4.0.0, docs-sdk-3.0.2, docs-core-v2, docs-manual]
  - url: https://github.com/LiskHQ/lisk-docs.git
    branches: [ 1364-landing-page ]
    start_path: docs
ui: <2>
  bundle:
#    url: https://github.com/LiskHQ/lisk-docs/raw/dev-antora/build/ui-bundle.zip
   url: ../ui/build/ui-bundle.zip
   snapshot: true
output: #<3>
  dir: ./git-page


----

<1> All sources listed under `content.sources` are used to build the content of the documentation.
Sources always point to a specific repository, and one or multiple branches to pull the content from.
Optionally, a `start_path` can be defined, if the docs are located under a special folder in the repository.
<2> Defines the UI bundle that will be used by Antora to build the documentation.
<3> Defines the output directory for the generated HTML files of the documentation.
