<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Blocks and Transactions :: Lisk documentation</title>
    <link rel="canonical" href="https://liskhq.github.io/lisk-docs/beta/understand-blockchain/blocks-txs.html">
    <link rel="prev" href="interoperability/sidechain-registration-and-recovery.html">
    <link rel="next" href="sdk/modules-commands.html">
    <meta name="generator" content="Antora 3.1.1">

  <link id="theme" rel="stylesheet" title="Default" href="../../_/css/site.css">
  <link rel="stylesheet" title="Dark" href="../../_/css/dark-site.css">

    <script>var uiRootPath = '../../_'</script>
    <script src="../../_/js/vendor/medium-zoom.js"></script>
    <script type="text/javascript" id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="e4db29b5-cd94-4bcf-87e4-04f4ca564240" data-blockingmode="manual"></script>
    <!-- Matomo -->
    <script>
      var _paq = window._paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="https://lisk.matomo.cloud/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '2']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src='//cdn.matomo.cloud/lisk.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Code -->
    <!-- Matomo Tag Manager -->
    <script>
      var _mtm = window._mtm = window._mtm || [];
      _mtm.push({'mtm.startTime': (new Date().getTime()), 'event': 'mtm.Start'});
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src='https://cdn.matomo.cloud/lisk.matomo.cloud/container_RUW6y8yf.js'; s.parentNode.insertBefore(g,s);
    </script>
    <!-- End Matomo Tag Manager -->
<link rel="icon" href="../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="top-logo">
        <a href="../.." class="lisk-logo"></a>
        <a href="../.." class="docs-logo"></a>
      </div>
      <!--<a class="navbar-item" href="https://liskhq.github.io/lisk-docs">Lisk documentation</a>-->
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">APIs</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../api/lisk-node-rpc.html">Lisk node RPC API</a>
            <a class="navbar-item" href="../../api/lisk-service-http.html">Lisk Service HTTP
              API</a>
            <a class="navbar-item" href="../../api/lisk-service-rpc.html">Lisk Service RPC
              API</a>
            <a class="navbar-item" href="../../api/lisk-service-pubsub.html">Lisk Service
              Pub/Sub API</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Explorers</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://lisk.observer/" target="_blank">Lisk Observer</a>
            <a class="navbar-item" href="https://liskscan.com/" target="_blank">LiskScan</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../lisk-sdk/">Lisk SDK</a>
            <a class="navbar-item" href="../../lisk-service/">Lisk Service</a>
            <a class="navbar-item" href="../../lisk-core/">Lisk Core</a>
            <a class="navbar-item" href="https://lisk.com/wallet" target="_blank">Lisk Wallets</a>
          </div>
        </div>
        <button onclick="switch_style('toggle')" id="theme-toggle" class="theme-toggle navbar-item"></button>
        <!-- <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div> -->
      </div>
    </div>
  </nav>
</header><div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
  <div class="components-versions">
      <div class="page-components">
    <button class="component-menu-toggle" title="Show other documentations">Lisk Documentation</button>
    <div class="component-menu">
        <a class="component" href="../../lisk-core/index.html">Lisk Core</a>
        <a class="component" href="../../lisk-docs-manual/index.html">Lisk docs manual</a>
        <a class="component is-current" href="../../index.html">Lisk Documentation</a>
        <a class="component" href="../../lisk-sdk/index.html">Lisk SDK</a>
        <a class="component" href="../../lisk-service/index.html">Lisk Service</a>
    </div>
  </div>
    <span></span>
    <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">beta</button>
  <div class="version-menu">
    <a class="version is-missing" href="../../index.html">default</a>
    <a class="version is-current" href="blocks-txs.html">beta</a>
  </div>
</div>
  </div>
  <span></span>
  <span></span>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Lisk Documentation</a></li>
    <li><a href="index.html">Understand Lisk Blockchain</a></li>
    <li><a href="blocks-txs.html">Blocks and Transactions</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/1289-mainnet-overview/docs/modules/ROOT/pages/understand-blockchain/blocks-txs.adoc"><img class="pencil">Edit this Page</a></div>
  </div>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="beta">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Lisk Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../intro/what-is-blockchain.html">What is blockchain?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../intro/how-blockchain-works.html">How blockchain works</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../intro/blockchain-scalability.html">Blockchain Scalability</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../intro/lisk-products.html">Lisk products</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="index.html">Understand Lisk Blockchain</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="state-machine.html">State machine</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="consensus/index.html">Consensus protocols</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="consensus/pos-poa.html">Proof of Stake (PoS) &amp; Proof of Authority (PoA) in Lisk</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="network.html">Network</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mainchain.html">Mainchain</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="interoperability/index.html">Lisk Interoperability</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="interoperability/communication.html">Cross-chain communication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="interoperability/sidechain-registration-and-recovery.html">Sidechain Registration &amp; Recovery</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="blocks-txs.html">Blocks and Transactions</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lisk SDK</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sdk/modules-commands.html">Modules and Commands</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sdk/plugins.html">Plugins</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sdk/rpc.html">Communicating to a Lisk node via RPC</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sdk/codec-schema.html">Schemas &amp; Codec</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../build-blockchain/index.html">Build Blockchain</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../build-blockchain/create-blockchain-client.html">Creating a new blockchain client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../build-blockchain/configuration.html">Blockchain client configuration</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../build-blockchain/module/index.html">How to create a module</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/module/configuration.html">1. How to create a module configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/module/stores.html">2. How to create stores</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/module/command.html">3. How to create a command</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/module/endpoints-methods.html">4. How to create endpoints and methods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/module/blockchain-event.html">5. How to create a blockchain event</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../build-blockchain/plugin/index.html">How to create a plugin</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/plugin/schema-types.html">1. Defining off-chain data structures</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/plugin/offchain-db.html">2. Setting up an Off-chain database</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/plugin/configuring-plugin.html">3. Configuring a Plugin</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/plugin/plugin-class.html">4. Updating the Plugin Class</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/plugin/plugin-endpoints.html">5. Creating an endpoint &amp; Testing the plugin</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../build-blockchain/using-dashboard.html">Using the Dashboard with a blockchain client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../build-blockchain/create-genesis-block.html">How to create a new genesis block</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../build-blockchain/register-sidechain.html">How to register a sidechain</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../run-blockchain/index.html">Run Blockchain</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../run-blockchain/process-management.html">Process management with PM2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../run-blockchain/account-management.html">Managing accounts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../run-blockchain/become-a-validator.html">How to become a validator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../run-blockchain/staking.html">How to stake and un-stake tokens</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../run-blockchain/enable-block-generation.html">How to enable/disable block generation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../run-blockchain/setup-relayer.html">Setting up a relayer node</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../run-blockchain/blockchain-reset.html">Resetting and snapshotting the blockchain</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../integrate-blockchain/index.html">Integrate Blockchain</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrate-blockchain/connecting-endpoints.html">Connecting via endpoints</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrate-blockchain/subscribing-to-events.html">Retrieving on-chain events</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrate-blockchain/create-sign-transactions.html">How to create and sign a transaction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrate-blockchain/create-tx-offline.html">Creating transactions and signing them offline</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrate-blockchain/calculating-min-fee.html">How to calculate the minimum fee for a transaction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrate-blockchain/posting-transactions.html">How to post a transaction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrate-blockchain/encode-decode.html">Decoding &amp; encoding data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrate-blockchain/overwriting-transactions.html">How to overwrite a transaction in the transaction pool</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../integrate-blockchain/integrate-ui/index.html">Integrating a user interface</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../integrate-blockchain/integrate-ui/create-get-account.html">1. Handling accounts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../integrate-blockchain/integrate-ui/faucet-transfer.html">2. Using faucet and transferring tokens</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../integrate-blockchain/integrate-ui/send-get-hello.html">3. Sending and retrieving hello</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrate-blockchain/aggregate-blockchain-data/index.html">Aggregate blockchain data with Lisk Service</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../api/lisk-node-rpc.html">RPC API for Lisk nodes</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Module RPC APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../api/module-rpc-api/auth-endpoints.html">Auth module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../api/module-rpc-api/dynamic-reward-endpoints.html">Dynamic Reward module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../api/module-rpc-api/fee-endpoints.html">Fee module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../api/module-rpc-api/interoperability-endpoints.html">Sidechain Interoperability module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../api/module-rpc-api/mainchain-interoperability-endpoints.html">Mainchain Interoperability module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../api/module-rpc-api/token-endpoints.html">Token module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../api/module-rpc-api/validators-endpoints.html">Validators module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../api/module-rpc-api/dynamic-reward-endpoints.html">Dynamic Reward module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../api/module-rpc-api/random-endpoints.html">Random module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../api/module-rpc-api/pos-endpoints.html">Proof of Stake module: Endpoint reference</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lisk Service APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../api/lisk-service-rpc.html">RPC API of Lisk Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../api/lisk-service-http.html">HTTP API (Lisk Service)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../api/lisk-service-pubsub.html">Publish/Subscribe API (Lisk Service)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../api/lisk-service-api-migration.html">Lisk Service API v2 vs v3</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Products</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../lisk-sdk/v6/index.html">Lisk SDK</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../lisk-core/v4/index.html">Lisk Core</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../bug-bounty-program.html">Lisk Bug Bounty Program</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk Documentation</span>
    <span class="version">beta</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../lisk-core/index.html">Lisk Core</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../lisk-core/index.html">3.0.4 (latest)</a>
        </li>
        <li class="version">
          <a href="../../lisk-core/v4/index.html">4.0.0 (beta)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../lisk-docs-manual/index.html">Lisk docs manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../lisk-docs-manual/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../index.html">Lisk Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../index.html">default</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">beta</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../lisk-sdk/index.html">Lisk SDK</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../lisk-sdk/index.html">5.2.2 (latest)</a>
        </li>
        <li class="version">
          <a href="../../lisk-sdk/v6/index.html">6.0.0 (beta)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../lisk-service/index.html">Lisk Service</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../lisk-service/index.html">0.6.5 (latest)</a>
        </li>
        <li class="version">
          <a href="../../lisk-service/0.7/index.html">0.7 (beta)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Blocks and Transactions</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#blocks">Blocks</a>
<ul class="sectlevel2">
<li><a href="#block-header">Block header</a></li>
<li><a href="#block-assets">Block assets</a></li>
<li><a href="#block-rewards">Block Rewards</a></li>
<li><a href="#projected-token-supply">Projected token supply</a></li>
</ul>
</li>
<li><a href="#transactions">Transactions</a>
<ul class="sectlevel2">
<li><a href="#transaction-fees">Transaction fees</a></li>
<li><a href="#minimum-fee-per-byte">Minimum fee per byte</a></li>
<li><a href="#command-fee">Command fee</a></li>
<li><a href="#transaction-json-schema">Transaction JSON schema</a></li>
<li><a href="#valid-vs-invalid-transactions">Valid vs invalid transactions</a></li>
<li><a href="#successful-vs-failed-transactions">Successful vs failed transactions</a></li>
</ul>
</li>
<li><a href="#block-generation">Block generation</a></li>
<li><a href="#block-execution">Block execution</a></li>
<li><a href="#genesis-block-execution">Genesis block execution</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="blocks"><a class="anchor" href="#blocks"></a>Blocks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Blocks following the Lisk protocol have three main properties:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#block-header">Block header</a>: includes properties relevant to the consensus domain.</p>
</li>
<li>
<p><a href="#block-assets">Block assets</a>: an array of objects containing data injected during the block creation.</p>
</li>
<li>
<p><a href="#transactions">Transactions</a>: The transactions included in the block.
Each block can include a maximum of 15 kB of transactions.</p>
</li>
</ol>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/understand-blockchain/block.png" alt="Anatomy of a Lisk block" width="300">
</div>
<div class="title">Figure 1. Anatomy of a block</div>
</div>
<div class="paragraph">
<p>Detailed descriptions of the main properties of a block are provided in the following sections.</p>
</div>
<details>
<summary class="title">Block JSON schema</summary>
<div class="content">
<div class="paragraph">
<p>Blocks are serialized and deserialized accordingly to the following JSON schema.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">blockSchema = {
  "type": "object",
  "required": ["header", "transactions", "assets"],
  "properties": {
    "header": {
      "dataType": "bytes",
      "fieldNumber": 1
    },
    "transactions": {
      "type": "array",
      "fieldNumber": 2,
      "items": {
        "dataType": "bytes"
      }
    },
    "assets": {
      "type": "array",
      "fieldNumber": 3,
      "items": {
        "dataType": "bytes"
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
</details>
<div class="sect2">
<h3 id="block-header"><a class="anchor" href="#block-header"></a>Block header</h3>
<div class="paragraph">
<p>Properties handled by the consensus domain are added to the block header.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Block ID</div>
The block ID is calculated by hashing the complete block header of a signed block.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The most important properties of the block header are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>timestamp</code>: Time the block was created as Unix timestamp.</p>
</li>
<li>
<p><code>height</code>: The height of a block is always <code>= height of the previous block + 1</code>.</p>
</li>
<li>
<p><code>previousBlockID</code>: The ID of the previous block.</p>
</li>
<li>
<p><code>generatorAddress</code>: The address of the block generator<sup class="footnote" id="_footnote_generatorPublicKey">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>.</p>
</li>
<li>
<p><code>transactionRoot</code>: The transaction root is the root of the Merkle tree built from the ID of the <a href="#transactions">transactions contained in the block</a>.</p>
</li>
<li>
<p><code>stateRoot</code>: The root of the Sparse Merkle Tree that is computed from the state of the blockchain.
The state root is the root of the Sparse Merkle Tree built from the state of the chain after the block has been processed<sup class="footnote" id="_footnote_stateroot">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Besides the above properties, each block header contains various additional properties, required for deeper technical aspects of the Lisk blockchain.
Expand below boxes for a description of the additional properties, and see the JSON schema for an overview of all properties included in the header.
Check <a href="https://github.com/LiskHQ/lips/blob/main/proposals/lip-0055.md" target="_blank" rel="noopener">LIP 0055</a> for additional information about the block header.</p>
</div>
<details>
<summary class="title">Remaining properties of the block header</summary>
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>version</code>: The block header version must be equal the value of a block of the previous protocol plus one.</p>
</li>
<li>
<p><code>assetRoot</code>: The root of the Merkle tree computed from the <a href="#block-assets">Block assets</a> array.</p>
</li>
<li>
<p><code>eventRoot</code>: The root of the Sparse Merkle Tree that is computed from the events emitted during the block processing<sup class="footnote" id="_footnote_eventroot">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup>.</p>
</li>
<li>
<p><code>maxHeightPrevoted</code>: This property is related to the Lisk-BFT protocol and is used for the fork choice rule.</p>
</li>
<li>
<p><code>maxHeightGenerated</code>: This property is related to the Lisk-BFT protocol and is used to check for contradicting block headers.</p>
</li>
<li>
<p><code>validatorsHash</code>: This property authenticates the set of validators active from the next block onward.
It is important for cross-chain certification and included in certificates.</p>
</li>
<li>
<p><code>aggregateCommit</code>: This property contains the aggregate BLS signature for a certificate and the height of the certified block.
It attests that all signing validators consider the corresponding block final.
Based on this, any node can create a certificate for the given height<sup class="footnote" id="_footnote_aggregate">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup>.</p>
</li>
<li>
<p><code>signature</code>: Signature of the validator who created the block.</p>
</li>
</ul>
</div>
</div>
</details>
<details>
<summary class="title">Block header JSON schema</summary>
<div class="content">
<div class="paragraph">
<p>Block headers are serialized and deserialized accordingly to the following JSON schema.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">blockHeaderSchema = {
  "type": "object",
  "required": [
    "version",
    "timestamp",
    "height",
    "previousBlockID",
    "generatorAddress",
    "transactionRoot",
    "assetRoot",
    "eventRoot",
    "stateRoot",
    "maxHeightPrevoted",
    "maxHeightGenerated",
    "validatorsHash",
    "aggregateCommit",
    "signature"
  ],
  "properties": {
    "version": {
      "dataType": "uint32",
      "fieldNumber": 1
    },
    "timestamp": {
      "dataType": "uint32",
      "fieldNumber": 2
    },
    "height": {
      "dataType": "uint32",
      "fieldNumber": 3
    },
    "previousBlockID": {
      "dataType": "bytes",
      "fieldNumber": 4
    },
    "generatorAddress": {
      "dataType": "bytes",
      "fieldNumber": 5
    },
    "transactionRoot": {
      "dataType": "bytes",
      "fieldNumber": 6
    },
    "assetRoot": {
      "dataType": "bytes",
      "fieldNumber": 7
    },
    "eventRoot": {
      "dataType": "bytes",
      "fieldNumber": 8
    },
    "stateRoot": {
      "dataType": "bytes",
      "fieldNumber": 9
    },
    "maxHeightPrevoted": {
      "dataType": "uint32",
      "fieldNumber": 10
    },
    "maxHeightGenerated": {
      "dataType": "uint32",
      "fieldNumber": 11
    },
    "validatorsHash": {
      "dataType": "bytes",
      "fieldNumber": 12
    },
    "aggregateCommit": {
      "type": "object",
      "fieldNumber": 13,
      "required": [
        "height",
        "aggregationBits",
        "certificateSignature"
      ],
      "properties": {
        "height": {
          "dataType": "uint32",
          "fieldNumber": 1
        },
        "aggregationBits": {
          "dataType": "bytes",
          "fieldNumber": 2
        },
        "certificateSignature": {
          "dataType": "bytes",
          "fieldNumber": 3
        }
      }
    },
    "signature": {
      "dataType": "bytes",
      "fieldNumber": 14
    }
  }
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="block-assets"><a class="anchor" href="#block-assets"></a>Block assets</h3>
<div class="paragraph">
<p>Block assets allow the blockchain to store specific data inside of each block.</p>
</div>
<div class="paragraph">
<p>Each entry of the block assets is then inserted in a Merkle tree, whose root is included in the <a href="#block-header">Block header</a> as the <code>assetRoot</code> property.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Inserting the assets root rather than the full assets allows to bound the size of the block header to a fixed size, while still authenticating the content of the block assets.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As an example, blockchains created with the Lisk SDK that implements the Random module will insert the seed reveal property in the block assets.</p>
</div>
<div class="sect3">
<h4 id="json-schema"><a class="anchor" href="#json-schema"></a>JSON schema</h4>
<div class="paragraph">
<p>The schema for the block assets allows each <a href="sdk/modules-commands.html" class="xref page">module</a> to include its serialized data individually, which makes the inclusion of module data very flexible.</p>
</div>
<div class="paragraph">
<p>Each module can insert a single entry in the assets.
This entry is an object containing a <code>module</code> property, indicating the name of the module handling it, and a generic data property that can contain arbitrary serialized data.</p>
</div>
<details>
<summary class="title">Block asset schema</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">blockAssetSchema = {
	$id: '/block/asset/3',
	type: 'object',
	required: ['module', 'data'],
	properties: {
		module: {
			dataType: 'string',
			fieldNumber: 1,
		},
		data: {
			dataType: 'bytes',
			fieldNumber: 2,
		},
	},
};</code></pre>
</div>
</div>
</div>
</details>
</div>
</div>
<div class="sect2">
<h3 id="block-rewards"><a class="anchor" href="#block-rewards"></a>Block Rewards</h3>
<div class="paragraph">
<p>Validators receive a dynamic reward for generating a block.</p>
</div>
<div class="paragraph">
<p>This is performed by the Dynamic Rewards module, whose main purpose is to compute the block rewards according to the validator weight for active validators:</p>
</div>
<div class="sect3">
<h4 id="minimum-reward-for-active-validators"><a class="anchor" href="#minimum-reward-for-active-validators"></a>Minimum Reward for Active Validators</h4>
<div class="paragraph">
<p>A minimum reward i.e., <code>minimumRewardActiveValidators</code> is assigned per round to all active validators to cover the minimal operational cost to run a validator.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">SharedRewardsFactor</dt>
<dd>
<p>It determines the percentage of rewards assigned equally to all active validators.
The percentage can be obtained by dividing the value by 100, i.e., a value of 1000 corresponds to 10%.
In principle, if the percentage of rewards shared equally among the active validators is set to 0%, then it will be a proof-of-stake system where the rewards are proportional to the validator weight.
On the other hand, if the percentage of rewards shared equally among the active validators is set to 100%, it will be the previous proof-of-stake (PoS) system where each validator received the same reward for generating a block irrespective of their weights.</p>
<div class="paragraph">
<p>For the Lisk mainchain, the factor is: 1000 (10%).</p>
</div>
</dd>
<dt class="hdlist1">minimumRewardActiveValidators</dt>
<dd>
<p>The minimum reward per round for an active validator.</p>
<div class="listingblock">
<div class="content">
<pre>SharedRewardsFactor * (getDefaultRewardAtHeight(blockHeader.height)) / 10000)</pre>
</div>
</div>
<div class="paragraph">
<p><code>blockHeader.height</code> corresponds to the current block height and <code>getDefaultRewardAtHeight</code> return the <a href="#default-block-reward">Default block reward</a> for the respective height.</p>
</div>
<div class="paragraph">
<p>For the Lisk mainchain, the minimum reward is calculated like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>10^7^ Beddows or 0.1 LSK = 1000 * (100000000 / 10000) = 1000 * 10000</pre>
</div>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="rewards-proportional-to-the-validators-weight"><a class="anchor" href="#rewards-proportional-to-the-validators-weight"></a>Rewards Proportional to the Validators Weight</h4>
<div class="paragraph">
<p>The remaining stake rewards i.e., <code>stakeRewardActiveValidators</code> are distributed proportional to the validators weight.
It is given to the active validators (per round) after giving the <a href="#minimum-reward-for-active-validators">minimum reward</a>.</p>
</div>
<div class="paragraph">
<p>For the Lisk mainchain, the total rewards are calculated like this<sup class="footnote" id="_footnote_lip71">[<a id="_footnoteref_5" class="footnote" href="#_footnotedef_5" title="View footnote.">5</a>]</sup>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">totalRewardActiveValidators</dt>
<dd>
<p>The total reward per round for active validators.
Here <code>blockHeader.height</code> is the current block height.</p>
<div class="listingblock">
<div class="content">
<pre>Pos.getActiveValidatorsNumber * getDefaultRewardAtHeight(blockHeader.height)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Pos.getActiveValidatorsNumber</code> corresponds to the number of active validators in the network.</p>
</li>
<li>
<p><code>blockHeader.height</code> corresponds to the current block height and <code>getDefaultRewardAtHeight</code> return the <a href="#default-block-reward">Default block reward</a> for the respective height.</p>
<div class="paragraph">
<p>For the Lisk mainchain, the total reward per round is calculated like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>101 * 10^8^ Beddows or 101 LSK = 101 * 100000000 Beddows</pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">stakeRewardActiveValidators</dt>
<dd>
<p>The remaining rewards for active validators (per round) after giving the minimum reward.</p>
<div class="listingblock">
<div class="content">
<pre>totalRewardActiveValidators - Pos.getActiveValidatorsNumber * minimumRewardActiveValidators</pre>
</div>
</div>
<div class="paragraph">
<p>For the Lisk mainchain, the total reward per round is calculated like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>90.9 * 10^8^ Beddows or 90.9 LSK = 10100000000 - (101 * 10000000) = 101 * 10^8 - 101 * 10^7^</pre>
</div>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="default-reward-for-standby-validators"><a class="anchor" href="#default-reward-for-standby-validators"></a>Default Reward for StandBy Validators</h4>
<div class="paragraph">
<p>The default reward <code>defaultRewardStandByValidators</code> is assigned to all stand-by validators i.e., there is a fixed reward irrespective of the validator weight.</p>
</div>
<div class="paragraph">
<p>This helps stand-by validators to cover the costs of running a node even though the probability of the selection is low in a round.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">defaultRewardStandByValidators</dt>
<dd>
<p>The default reward per round for standby validators irrespective of their validator weight.</p>
<div class="listingblock">
<div class="content">
<pre>getDefaultRewardAtHeight(blockHeader.height)</pre>
</div>
</div>
<div class="paragraph">
<p>For the Lisk mainchain, the default reward for standby validators is: 10<sup>8</sup> Beddows or 1 LSK.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="default-block-reward"><a class="anchor" href="#default-block-reward"></a>Default block reward</h4>
<div class="paragraph">
<p>The amount for the default block reward depends on the block height according to the table shown below:</p>
</div>
<table class="tableblock frame-all grid-all stripes-hover stretch">
<caption class="title">Table 1. Default block rewards for the Lisk Mainnet</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Heights</th>
<th class="tableblock halign-left valign-top">Reward</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">From 1,451,520 to 4,451,519</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5 LSK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">From 4,451,520 to 7,451,519</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 LSK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">From 7,451,520 to 10,451,519</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 LSK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">From 10,451,520 to 13,451,519</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 LSK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">From 13,451,520 onwards</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 LSK</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="minting-of-the-rewards"><a class="anchor" href="#minting-of-the-rewards"></a>Minting of the Rewards</h4>
<div class="paragraph">
<p>After applying the block, a certain quantity of the native token of the blockchain is minted.
The exact amount assigned to the block generator.</p>
</div>
<div class="paragraph">
<p>Currently, in the Lisk mainchain, the inflation is limited to a maximum minting of <code>6 * 60 * 24 * 365 = 3153600 LSK</code> per year.
Every time a validator misses their block, 1 LSK less is minted per year.</p>
</div>
</div>
<div class="sect3">
<h4 id="reward-for-missed-blocks"><a class="anchor" href="#reward-for-missed-blocks"></a>Reward for Missed blocks</h4>
<div class="paragraph">
<p>Validators get rewards proportional to the validator weight.
If a validator misses a block, then another validator will be chosen to generate the block.</p>
</div>
<div class="paragraph">
<p>To respect the maximum of 3153600 newly minted LSK per year, and to ensure it will not be profitable for any validator if any other validator misses a block, validators who generate blocks for the second time in the round, get the <a href="#minimum-reward-for-active-validators">minimumRewardActiveValidators</a> for the second block.</p>
</div>
</div>
<div class="sect3">
<h4 id="reward-reduction"><a class="anchor" href="#reward-reduction"></a>Reward reduction</h4>
<div class="paragraph">
<p>The reward can be reduced for various reasons<sup class="footnote" id="_footnote_lip42">[<a id="_footnoteref_6" class="footnote" href="#_footnotedef_6" title="View footnote.">6</a>]</sup>, specifically for not participating in BFT block finalization or failure to properly reveal the random seed.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Reason</th>
<th class="tableblock halign-left valign-top">Reduction of the block reward</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid seed reveal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100%</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not participating in BFT block finalization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">75%</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">No account in user substore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100%</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="transaction-rewards"><a class="anchor" href="#transaction-rewards"></a>Transaction rewards</h4>
<div class="paragraph">
<p>Each transaction included in a block contains its own <a href="#transaction-fees">Transaction fees</a>, which were paid by the sender of the transaction.</p>
</div>
<div class="paragraph">
<p>A part of the transaction fees is directly burned: <a href="#minimum-transaction-fee">Minimum transaction fee</a>.</p>
</div>
<div class="paragraph">
<p>The unburned part of the <a href="#transaction-fees">Transaction fees</a> is added together with the block reward to the balance of the validator who generated the block.
This is completed after all transactions in the payload have been applied.
It should be noted that a validator cannot receive and spend the reward in the same block.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="projected-token-supply"><a class="anchor" href="#projected-token-supply"></a>Projected token supply</h3>
<div class="paragraph">
<p>Blockchains following the Lisk protocol do not have a bounded token supply.
For every block generated, the amount of available tokens increases, as new tokens are minted for the &lt;&lt;block-rewards.
This increase is obtained by subtracting the burned fees from the block reward.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="transactions"><a class="anchor" href="#transactions"></a>Transactions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Transactions are sent to the blockchain by its users to trigger state mutations on the blockchain.</p>
</div>
<div class="paragraph">
<p>To be accepted by the blockchain, the transactions must be transmitted in the expected format, including all the required properties of a transaction, and pass the transaction &amp; command verification steps explained in the <a href="#block-execution">Block execution</a> process description.</p>
</div>
<div class="paragraph">
<p>Valid transactions trigger the corresponding <a href="sdk/modules-commands.html#commands" class="xref page">command</a> of a module that accepts this transaction type.
Therefore, each transaction always needs to include the IDs of the module and command that the transaction wants to trigger.
If any specific data input from the user is needed to complete the command, they are included under the <code>params</code> property of a transaction.
Besides this, there are a few additional properties that every transaction should contain, which are described in image <em>Figure 3</em> and below.</p>
</div>
<div class="paragraph">
<p>After a transaction is sent to a node, it is first added to the transaction pool, waiting to be included in a block.
The transactions to be included in the block are then always picked from there.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/understand-blockchain/transaction.png" alt="Transaction properties" width="400">
</div>
<div class="title">Figure 2. Properties of a transaction object</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>module</code>: A string identifying the module name the transaction is addressing.</p>
</li>
<li>
<p><code>command</code>: A string identifying the specific command name in the module.</p>
</li>
<li>
<p><code>nonce</code>: An integer that is <strong>unique for each transaction</strong> from the account corresponding to the <code>senderPublicKey</code>.
Increments by <code>+1</code> for each transaction.</p>
</li>
<li>
<p><code>fee</code>: An integer that specifies the <strong>fee in Beddows</strong> to be spent by the transaction.</p>
</li>
<li>
<p><code>senderPublicKey</code>: The public key of the account issuing the transaction.
A valid public key is 32 bytes long.</p>
</li>
<li>
<p><code>params</code>: The <strong>serialized parameters</strong> of the module command.</p>
</li>
<li>
<p><code>signatures</code>: An array with the signatures of the transaction.
A transaction is signed by the sender account to verify its correctness.
In the case of a multi-signature transaction, several accounts need to sign a transaction, before it is accepted by a node.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">How many transactions fit in a block?</div>
<div class="paragraph">
<p>How many transactions can actually fit into a block?
The answer to this question very much depends on the size of the particular transactions.
As every transaction type expects a different set of params to be included in the transaction, the size of transactions can vary significantly between different transaction types.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s make an example of simple token transfer transactions.
If you assume all transactions are the simplest token transfers (Alice sends 5LSK to Bob etc.) then the size of each transaction is 153 Bytes.
Each block can include a maximum of 15 kB of transactions.
This results in maximum 100 token transfer transactions per block:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Total transactions size  = 15360 (15 x 1024)
transaction size = 153</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>15360/153 = 100.39 maximum token transfer transactions per block</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="transaction-fees"><a class="anchor" href="#transaction-fees"></a>Transaction fees</h3>
<div class="paragraph">
<p>Transactions also include fees.
In order to send and process a transaction, it is required to pay a small fee.</p>
</div>
<div class="paragraph">
<p>Fees can be defined dynamically for every transaction.
A higher fee will create an incentive for validators to include the transaction in a block as quickly as possible, because most validators prioritize transactions with higher fees in the transaction pool, because it means a personal higher reward for them, if they include these transactions in a block.
So by choosing a higher fee, it can be ensured that the transaction is executed as quickly as possible, in case the network is crowded.</p>
</div>
<div class="paragraph">
<p>This mechanism can also be used to overwrite existing transactions in the pool, by using the same nonce, but a higher fee than the transaction that should be overwritten.</p>
</div>
<div class="sect3">
<h4 id="minimum-transaction-fee"><a class="anchor" href="#minimum-transaction-fee"></a>Minimum transaction fee</h4>
<div class="paragraph">
<p>For every transaction, there is a minimum fee that needs to be paid in order for the transaction to be successfully processed.
The minimum fee required is calculated in the following way:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>minFee = transactionBytes.length * minFeePerByte</pre>
</div>
</div>
<div class="paragraph">
<p>As shown in the formula, the minimum fee is directly connected to the size of the transaction object in bytes after it has been encoded.</p>
</div>
<div class="paragraph">
<p>Some transaction types may also require an additional fee, called the <a href="#command-fee">Command fee</a>.
The minimum fee for a valid transaction is in this case:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>minFee = transactionBytes.length * minFeePerByte + commandFee</pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>If a transaction requires a command fee, and the command fee is partially paid or not paid at all, then, the transaction will be <a href="#valid-vs-invalid-transactions">invalid</a>.</p>
</li>
<li>
<p>If the transaction is posted with a fee smaller than the required minimum fee, the transaction will <a href="#successful-vs-failed-transactions">fail</a>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="minimum-fee-per-byte"><a class="anchor" href="#minimum-fee-per-byte"></a>Minimum fee per byte</h3>
<div class="paragraph">
<p>The minimum fee per byte is defined in the configuration options of the Fee module.</p>
</div>
<div class="paragraph">
<p>The default value for <code>minFeePerByte</code> is 1000 Beddows, or 0.00001 LSK.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
It is possible to configure a blockchain to have no transaction fee, by setting the <code>minFeePerByte</code> to 0 in the config.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="command-fee"><a class="anchor" href="#command-fee"></a>Command fee</h3>
<div class="paragraph">
<p>Command fees, or command execution fees, are fees that need to be paid only, if the command execution requires an additional fee - for example, if the execution of the command requires a lot of computational resources.</p>
</div>
<div class="paragraph">
<p>The following commands require an extra command fee:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/v6/references/typedoc/classes/lisk_framework.ValidatorRegistrationCommand.html" target="_blank" rel="noopener">Validator Registration</a> command: 10 LSK</p>
</li>
<li>
<p><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/v6/references/typedoc/classes/lisk_framework.RegisterSidechainCommand.html" target="_blank" rel="noopener">Sidechain registration</a> command: 10 LSK</p>
</li>
<li>
<p><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/v6/references/typedoc/classes/lisk_framework.TransferCommand.html" target="_blank" rel="noopener">Transfer</a> command to a new account: 0.05 LSK</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="transaction-json-schema"><a class="anchor" href="#transaction-json-schema"></a>Transaction JSON schema</h3>
<details>
<summary class="title">Transaction schema</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">transactionSchema = {
	$id: '/lisk/transaction',
	type: 'object',
	required: ['module', 'command', 'nonce', 'fee', 'senderPublicKey', 'params'],
	properties: {
		module: {
			dataType: 'string',
			fieldNumber: 1,
			minLength: 1,
			maxLength: 32,
		},
		command: {
			dataType: 'string',
			fieldNumber: 2,
			minLength: 1,
			maxLength: 32,
		},
		nonce: {
			dataType: 'uint64',
			fieldNumber: 3,
		},
		fee: {
			dataType: 'uint64',
			fieldNumber: 4,
		},
		senderPublicKey: {
			dataType: 'bytes',
			fieldNumber: 5,
			minLength: 32,
			maxLength: 32,
		},
		params: {
			dataType: 'bytes',
			fieldNumber: 6,
		},
		signatures: {
			type: 'array',
			items: {
				dataType: 'bytes',
			},
			fieldNumber: 7,
		},
	},
};</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="valid-vs-invalid-transactions"><a class="anchor" href="#valid-vs-invalid-transactions"></a>Valid vs invalid transactions</h3>
<div class="paragraph">
<p>Only valid transactions should be added to a block during the block generation, as an invalid transaction makes the whole block invalid, meaning that it would be discarded by any node in the network.</p>
</div>
<div class="paragraph">
<p>A transaction is <strong>valid</strong>, if the following stages associated with the transaction of <a href="#block-execution">Block execution</a> are executed successfully without errors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"transaction verification"</p>
</li>
<li>
<p>"command verification"</p>
</li>
<li>
<p>"before command execution" and</p>
</li>
<li>
<p>"after command execution"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Otherwise, a transaction is <strong>invalid</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="successful-vs-failed-transactions"><a class="anchor" href="#successful-vs-failed-transactions"></a>Successful vs failed transactions</h3>
<div class="paragraph">
<p>A valid transaction is executed <strong>successfully</strong> if additionally the "command execution" stage of <a href="#block-execution">Block execution</a> is executed successfully without errors.</p>
</div>
<div class="paragraph">
<p>A valid transaction <strong>fails</strong> if on the other hand an error occurs during the command execution.
In this case, all state transitions of the "command execution" stage are reverted.
This means that the transaction has no effect except for those defined in "before command execution" and "after command execution".
The result of the transaction execution is logged using an event emitted at the end of the "after transaction execution" stage, indicating whether the transaction was processed successfully or an error occurred.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="block-generation"><a class="anchor" href="#block-generation"></a>Block generation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The block generation flow offers a lot of flexibility for custom business logic by providing hooks for executing additional custom logic before and after each execution of a transaction and/or command.
The gradual steps make all important verification steps explicit and obvious.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/understand-blockchain/block-generation.png" alt="Block generation steps" width="500">
</div>
<div class="title">Figure 3. Block generation steps</div>
</div>
<div class="paragraph">
<p>The full generation of a block is organized as follows.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Header initialization</strong>: Block header properties that require access to the state store before any state transitions implied by the block are executed are inserted in this stage.</p>
<div class="paragraph">
<p>Sets the <code>version</code>, <code>timestamp</code>, <code>height</code>, <code>previousBlockID</code>, <code>generatorAddress</code>, <code>maxHeightPrevoted</code>, <code>maxHeightGenerated</code>, and <code>aggregateCommit</code> properties of the <a href="#block-header">Block header</a>.</p>
</div>
</li>
<li>
<p><strong>Assets insertion</strong>: Each module can insert information in the block assets.</p>
</li>
<li>
<p><strong>Before transactions execution</strong>: Each module can define protocol logic that is executed before the transactions contained in the block are processed.
After this stage has been completed, transactions are selected one-by-one from a transaction pool.</p>
</li>
<li>
<p><strong>Transaction verification</strong>: Each module can define protocol logic that verifies a transaction, possibly by accessing the state store.
If an error occurs, the transaction is invalid and it is not included in the block.
The transaction processing stages (steps 4 to 8) are repeated for each transaction selected.
If steps 4, 5, 6, and 8 are executed successfully, the transaction is valid and it is included in the block, otherwise, it is invalid and therefore discarded.</p>
</li>
<li>
<p><strong>Command verification</strong>: The command corresponding to the <code>module</code>-<code>command</code> combination is verified.
If an error occurs, the transaction is invalid and it is not included in the block.</p>
</li>
<li>
<p><strong>Before command execution</strong>: Each module can define protocol logic that is processed before the command has been executed.
If an error occurs, the transaction is invalid, it is not included in the block, and all state transitions induced by the transaction are reverted.
In that case, the block generation continues with step 4 for another transaction from the transaction pool or step 9.</p>
</li>
<li>
<p><strong>Command execution</strong>: The command corresponding to the <code>module</code>-<code>command</code> combination is executed.
If an error occurs, the transaction is failed and all state transitions performed in this stage are reverted.
In any case, afterward, the processing continues with the next stage.</p>
</li>
<li>
<p><strong>After command execution</strong>: Each module can define protocol logic that is processed after the command has been executed.
If an error occurs, the transaction is invalid, it is not included in the block, and all state transitions induced by the transaction performed up to this stage are reverted.
In that case, the block generation continues with step 4 for another transaction from the transaction pool or step 9.</p>
</li>
<li>
<p><strong>After transactions execution</strong>: Each module can define protocol logic that is executed after all the transactions contained in the block have been processed.</p>
</li>
<li>
<p><strong>Header finalization</strong>: Block header properties, which require accessing the state store after all state transitions implied by the block have been executed, are inserted.</p>
<div class="paragraph">
<p>Sets the <code>transactionRoot</code>, <code>assetRoot</code>, <code>eventRoot</code>, <code>stateRoot</code>, <code>validatorsHash</code>, and <code>signature</code> properties of the <a href="#block-header">Block header</a>.</p>
</div>
</li>
<li>
<p><strong>Block processing</strong>: The block goes through the <a href="#block-execution">Block execution</a> stages.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="block-execution"><a class="anchor" href="#block-execution"></a>Block execution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Block execution happens when the consensus domain receives a new block from a peer.</p>
</div>
<div class="paragraph">
<p>The block execution flow offers a lot of flexibility for custom business logic by providing hooks for executing additional custom logic before and after each execution of a transaction and/or command.
The gradual steps make all important verification steps explicit and obvious.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/understand-blockchain/block-processing.png" alt="Block execution steps" width="500">
</div>
<div class="title">Figure 4. Block execution steps</div>
</div>
<div class="paragraph">
<p>The full processing of a block is organized as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Block reception</strong>: A new block is received from the P2P network.</p>
</li>
<li>
<p><strong>Fork choice</strong>: Upon receiving a new block, the fork choice rule determines whether the block will be discarded or if the processing continues.</p>
</li>
<li>
<p><strong>Static validation</strong>: Some initial static checks are done to ensure that the serialized object follows the general structure of a block.
These checks are performed immediately because they do not require access to the state store and can therefore be done very quickly.</p>
<div class="ulist">
<ul>
<li>
<p>Validates, if:</p>
<div class="ulist">
<ul>
<li>
<p>the block follows the block schema.</p>
</li>
<li>
<p>the total size of the serialized transactions contained in the block is at most the maximum allowed size for transactions per block.</p>
</li>
<li>
<p>the block header is valid:</p>
<div class="ulist">
<ul>
<li>
<p>checks that the block header follows the block header schema.</p>
</li>
<li>
<p>validates the <code>version</code>, <code>transactionRoot</code>, and <code>assetRoot</code> properties.</p>
</li>
</ul>
</div>
</li>
<li>
<p>the block assets are valid:</p>
<div class="ulist">
<ul>
<li>
<p>each entry in the assets array has a <code>module</code> property set to the name of a module registered in the chain.</p>
</li>
<li>
<p>the data property has a size that is at most equal to the max size of an assets entry in bytes.</p>
</li>
<li>
<p>each module can insert at most one entry in the block assets.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Header verification</strong>: Block header properties that require access to the state store before any state transitions implied by the block are executed are verified in this stage.</p>
<div class="paragraph">
<p>Verifies <code>timestamp</code>, <code>height</code>, <code>previousBlockID</code>, <code>generatorAddress</code>, <code>maxHeightPrevoted</code>, <code>maxHeightGenerated</code>, <code>aggregateCommit</code>, and <code>signature</code> properties of the <a href="#block-header">Block header</a>.</p>
</div>
</li>
<li>
<p><strong>Assets verification</strong>: Each module verifies the respective entry in the block assets.
If any check fails, the block is discarded and has no further effect.</p>
</li>
<li>
<p><strong>Block forwarding</strong>: After the initial checks, the full block is forwarded to a subset of peers.</p>
</li>
<li>
<p><strong>Before transactions execution</strong>: Each module can define protocol logic that is executed before the transactions contained in the block are processed.</p>
</li>
<li>
<p><strong>Transaction verification</strong>: Each module can define protocol logic that verifies a transaction, possibly by accessing the state store.
If an error occurs, the transaction is <strong>invalid</strong> and the whole block is discarded.</p>
</li>
<li>
<p><strong>Command verification</strong>: The command corresponding to the <code>module</code>-<code>command</code> combination is verified.
If an error occurs, the transaction is <strong>invalid</strong> and the whole block is discarded.</p>
</li>
<li>
<p><strong>Before command execution</strong>: Each module can define protocol logic that is processed before the command has been executed.
If an error occurs, the transaction is <strong>invalid</strong> and the whole block is discarded.</p>
</li>
<li>
<p><strong>Command execution</strong>: The command corresponding to the <code>module</code>-<code>command</code> combination is executed.
If an error occurs, the transaction is <strong>failed</strong> and all state transitions performed in this stage are reverted.
In any case, afterward, the processing continues with the next stage.</p>
</li>
<li>
<p><strong>After command execution</strong>: Each module can define protocol logic that is processed after the command has been executed.
If an error occurs, the transaction is <strong>invalid</strong> and the whole block is discarded.</p>
</li>
<li>
<p><strong>After transactions execution</strong>: Each module can define protocol logic that is executed after all the transactions contained in the block have been processed.</p>
</li>
<li>
<p><strong>Result verification</strong>: Block header properties, which require accessing the state store after all state transitions implied by the block have been executed, are verified.</p>
<div class="paragraph">
<p>Verifies the <code>stateRoot</code>, <code>eventRoot</code>, and <code>validatorsHash</code> properties of the <a href="#block-header">Block header</a>.</p>
</div>
</li>
<li>
<p><strong>Block storage</strong>: The block is persisted into the database.</p>
</li>
<li>
<p><strong>Peers notification</strong>: Other peers in the P2P network are notified of the new block.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="genesis-block-execution"><a class="anchor" href="#genesis-block-execution"></a>Genesis block execution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The genesis block describes the very first block in the blockchain.
It defines the <strong>initial state</strong> of the blockchain at the start of the network.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The genesis block is not generated by a validator, such as all the other blocks which come after the genesis block.
Instead, it is defined by the developer, when creating the <code>Application</code> instance of the blockchain client.
</td>
</tr>
</table>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/understand-blockchain/genesis-block-execution.png" alt="Genesis Block execution steps" width="500">
</div>
<div class="title">Figure 5. Genesis block execution steps</div>
</div>
<div class="paragraph">
<p>Each step in the application layer is repeated for each module registered in the application.</p>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Previously the `generatorPublicKey` property (see <a href="https://github.com/LiskHQ/lips/blob/main/proposals/lip-0055.md#change-generator-public-key-to-generator-address" target="_blank" rel="noopener">LIP 0055</a> for more information).
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. See <a href="https://github.com/LiskHQ/lips/blob/main/proposals/lip-0040.md" target="_blank" rel="noopener">LIP 0040</a> for the reason why it needs to be included in a block header.
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. See <a href="https://github.com/LiskHQ/lips/blob/main/proposals/lip-0065.md" target="_blank" rel="noopener">LIP 0065</a> for the reason why it needs to be included in a block header.
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. See <a href="https://github.com/LiskHQ/lips/blob/main/proposals/lip-0061.md" target="_blank" rel="noopener">LIP 0061</a> for more details.
</div>
<div class="footnote" id="_footnotedef_5">
<a href="#_footnoteref_5">5</a>. To see how the rewards are calculated, please refer to <a href="https://github.com/LiskHQ/lips/blob/main/proposals/lip-0071.md#reward-computation" target="_blank" rel="noopener">LIP 0071 - Introduce dynamic block rewards module</a>.
</div>
<div class="footnote" id="_footnotedef_6">
<a href="#_footnoteref_6">6</a>. To learn more about the different reasons that can lead to a reduction of block rewards, please refer to <a href="https://github.com/LiskHQ/lips/blob/main/proposals/lip-0042.md#constants" target="_blank" rel="noopener">LIP 0042 - Define state transitions of Reward module</a> and <a href="https://github.com/LiskHQ/lips/blob/main/proposals/lip-0014.md#incentivizing-lisk-bft-protocol-participation">LIP 0014 - Introduce BFT consensus protocol</a>.
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="interoperability/sidechain-registration-and-recovery.html">Sidechain Registration &amp; Recovery</a></span>
  <span class="next"><a href="sdk/modules-commands.html">Modules and Commands</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="footerdiv">
    <p>© 2023 Lisk Foundation</p>
    <!-- <div class="community-section">
      <p class="community-section__text">Follow Lisk on: </p>
      <div class="community-section__icons"> -->
    <div class="community_icons">
        <a href="https://lisk.chat" title="Discord" target="_blank" class="footer_icon icon-discord"><p>Discord</p></a>
        <a href="https://dev.lisk.com" title="Discourse" target="_blank" class="footer_icon icon-discourse"><p>Discourse</p></a>
        <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer_icon icon-github"><p>GitHub</p></a>
  <!--    </div> -->
    </div>
  </div>
</footer>
<script src="../../_/js/site.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script async src="../../_/js/vendor/glossary.js"></script>
<script async src="../../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../../_/js/vendor/swagger-ui.js"></script>
<script async src="../../_/js/vendor/component-versions.js"></script>
<script src="../../_/js/vendor/custom.js"></script>
  </body>
</html>
