<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lisk Core from Source Setup :: Lisk Documentation</title>
    <link rel="canonical" href="https://staging.lisk.io/documentation/lisk-core/setup/source.html">
    <meta name="generator" content="Antora 2.1.2">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<!--
    <link href="https://unpkg.com/primer/build/build.css" rel="stylesheet">
-->

  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a href="https://staging.lisk.io/documentation" class="lisk-logo"></a>
      Lisk Documentation
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-sdk">Lisk SDK Github</a>
            <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-core">Lisk Core Github</a>
            <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-hub">Lisk Hub Github</a>
            <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-mobile">Lisk Mobile Github</a>
            <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-explorer">Lisk Explorer Github</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" target="_blank" href="https://explorer.lisk.io/">Lisk Mainnet Explorer</a>
            <a class="navbar-item" target="_blank" href="https://testnet-explorer.lisk.io/">Lisk Testnet Explorer</a>
            <a class="navbar-item" target="_blank" href="https://testnet-faucet.lisk.io/">Lisk Testnet Faucet</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" target="_blank" href="https://lisk.io">Lisk Website</a>
            <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-sdk-examples">Example blockchain applications</a>
              <a class="navbar-item" target="_blank" href="https://www.liskdiscovery.com/">Community tools</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="lisk-core" data-version="2.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../introduction.html">Lisk Core</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Setup</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="binary.html">Binary Installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="docker.html">Docker Installation</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="source.html">Source Installation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Upgrade</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/binary.html">Binary Upgrade</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/docker.html">Docker Upgrade</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/source.html">Source Upgrade</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Administration</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/binary.html">Binary Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/docker.html">Docker Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/source.html">Source Administration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../migration.html">Migration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../monitoring.html">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../troubleshooting.html">Troubleshooting</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk Core</span>
    <span class="version">2.0.2</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Lisk Core</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../index.html">2.1.3 (latest)</a>
        </li>
        <li class="version is-current">
          <a href="../introduction.html">2.0.2</a>
        </li>
        <li class="version">
          <a href="../../1.6/introduction.html">1.6.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk Protocol</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-protocol/1.1/index.html">1.1</a>
        </li>
        <li class="version">
          <a href="../../../lisk-protocol/1.0/introduction.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-sdk/index.html">2.3.6 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-sdk/2.2/introduction.html">2.2.0</a>
        </li>
        <li class="version">
          <a href="../../../lisk-sdk/2.1/introduction.html">2.1.0</a>
        </li>
        <li class="version">
          <a href="../../../lisk-sdk/2.0/introduction.html">2.0.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../lisk-sdk/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../introduction.html">Lisk Core</a></li>
    <li><strong>Setup</strong></li>
    <li><a href="source.html">Source Installation</a></li>
  </ul>
</nav>
<button class="toc-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">2.0.2</button>
  <div class="version-menu">
    <a class="version" href="../../setup/source.html">2.1.3 (latest)</a>
    <a class="version is-current" href="source.html">2.0.2</a>
    <a class="version" href="../../1.6/setup/source.html">1.6.0</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/docs-core-2.0.0/modules/ROOT/pages/setup/source.adoc">Edit this Page</a></div>
</div>
<article class="doc"><a name="section-top"></a>
<h1>Lisk Core from Source Setup</h1>
<div class="sect1">
<h2 id="_pre_install"><a class="anchor" href="#_pre_install"></a>Pre-Install</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document details the prerequisites to install Lisk Core from a
Source installation using tagged releases on Github. To complete the
installation, some prerequisites need to be fulfilled. If you have
already performed these, please proceed to the
<a href="#installation">Installation</a> chapter.</p>
</div>
<div class="paragraph">
<p>Firstly, please determine if your platform can install Lisk Core from
source.</p>
</div>
<div class="sect2">
<h3 id="_supported_platforms"><a class="anchor" href="#_supported_platforms"></a>Supported Platforms</h3>
<div class="ulist">
<ul>
<li>
<p>Ubuntu 16.04 (LTS) x86_64</p>
</li>
<li>
<p>Ubuntu 18.04 (LTS) x86_64</p>
</li>
<li>
<p>MacOS 10.13 (High Sierra)</p>
</li>
<li>
<p>MacOS 10.14 (Mojave)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_open_the_necessary_ports"><a class="anchor" href="#_open_the_necessary_ports"></a>Open the necessary ports</h3>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>Mandatory:</strong> Always open the <strong>WebSocket</strong> port of your desired network,
to enable communication with other peer nodes. <strong>Optional:</strong> Open the
corresponding HTTP port for your network, to make your nodes’
<a href="https://lisk.io/documentation/lisk-core/api">API</a> reachable. For more
info, see the diagram on the
<a href="../../getting-started/interact-with-network.html" class="page">Interact with network</a> page.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>To connect to the desired network with Lisk Core, please ensure that the
corresponding ports are open:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Network</th>
<th class="tableblock halign-left valign-top">HTTP</th>
<th class="tableblock halign-left valign-top">WebSocket</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mainnet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8001</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Testnet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7001</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Devnet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5000</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>These are the default ports for connecting with the network. They can be
<a href="../configuration.html" class="page">altered</a> later in the
<a href="https://github.com/LiskHQ/lisk-core/blob/master/config/mainnet/config.json#L21"><code>config.json</code></a>
file.</p>
</div>
</div>
<div class="sect2">
<h3 id="_create_a_new_user"><a class="anchor" href="#_create_a_new_user"></a>Create a new user</h3>
<div class="paragraph">
<p>To install the required prerequisites, it is necessary to have a user
with sudo rights on the server. To run and manage a Lisk Core node in
the future, please create a separate `Lisk' user like so:</p>
</div>
<div class="sect3">
<h4 id="_ubuntu"><a class="anchor" href="#_ubuntu"></a>Ubuntu</h4>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The <code>lisk</code> user itself <strong>does not need</strong> any <code>sudo</code> rights to run Lisk
Core.</p>
</div>
</blockquote>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo adduser lisk</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_toolchain_components"><a class="anchor" href="#_toolchain_components"></a>Toolchain components</h3>
<div class="paragraph">
<p>Used for compiling dependencies.</p>
</div>
<div class="sect3">
<h4 id="_ubuntu_2"><a class="anchor" href="#_ubuntu_2"></a>Ubuntu</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo apt update
sudo apt install -y libtool automake autoconf curl build-essential python-minimal</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_macos"><a class="anchor" href="#_macos"></a>MacOS</h4>
<div class="paragraph">
<p>Ensure that both <a href="https://developer.apple.com/xcode/">XCode</a> and
<a href="https://brew.sh/">Homebrew</a> are installed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">brew install autoconf automake libtool</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git"><a class="anchor" href="#_git"></a>Git</h3>
<div class="paragraph">
<p><a href="https://github.com/git/git">Git</a> is used for cloning and updating Lisk.</p>
</div>
<div class="sect3">
<h4 id="_ubuntu_3"><a class="anchor" href="#_ubuntu_3"></a>Ubuntu</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo apt install -y git</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_macos_2"><a class="anchor" href="#_macos_2"></a>MacOS</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">brew install git</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_node_js"><a class="anchor" href="#_node_js"></a>Node.js</h3>
<div class="paragraph">
<p><a href="https://nodejs.org/">Node.js</a> serves as the underlying engine for code
execution. There are several different ways and version managers to
install Node.JS on your system. We recommend one of the following two:</p>
</div>
<div class="sect3">
<h4 id="_option_a_node_version_manager"><a class="anchor" href="#_option_a_node_version_manager"></a>Option A: Node Version Manager</h4>
<div class="paragraph">
<p>We recommend using a Node version manager such as
<a href="https://github.com/creationix/nvm">NVM</a>. NVM is a bash script that
enables you to manage multiple active Node.js versions.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install nvm following these
<a href="https://github.com/creationix/nvm#install&#8212;&#8203;update-script">instructions</a></p>
</li>
<li>
<p>Install the correct version of Node.js using NVM:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">nvm install 10.15.3</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_option_b_node_js_package"><a class="anchor" href="#_option_b_node_js_package"></a>Option B: Node.js package</h4>
<div class="paragraph">
<p>If you do not want to use NVM or other package managers, you can install
the Node package globally on your system alternatively:</p>
</div>
<div class="sect4">
<h5 id="_ubuntu_4"><a class="anchor" href="#_ubuntu_4"></a>Ubuntu</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -sL https://deb.nodesource.com/setup_10.x | sudo -E bash -
sudo apt-get install -y nodejs</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_macos_3"><a class="anchor" href="#_macos_3"></a>MacOS</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">brew install node@10.15.3</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_postgresql"><a class="anchor" href="#_postgresql"></a>PostgreSQL</h3>
<div class="paragraph">
<p>To install Postgres follow the intructions descibed below, depending on
the operating system your machine is running on. If you run into issues
when trying to set up PostgreSQL on your machine, try to install it
inside of a docker container.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>We recommend using Postgres with Docker for a quick and straight forward
setup of Postgres.</p>
</div>
</blockquote>
</div>
<div class="sect3">
<h4 id="_a_postgres_with_docker"><a class="anchor" href="#_a_postgres_with_docker"></a>A. Postgres with Docker</h4>
<div class="paragraph">
<p>Running Postgres inside a Docker container will setup the correct
version of Postgres and containerize it away from any existing versions
you may have locally on your machine. Chose this setup if you are not
familiar with Postgres, or if you run in to issues with a previously
installed version of Postgres. To perform the command below
successfully, install Docker like described in the Setup page of
<a href="docker.html" class="page">Lisk Core Docker distribution</a>.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>If you have other versions of PostgreSQL installed on your machine, make
sure to stop them before starting the docker container.</p>
</div>
</blockquote>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker run --name lisk_core_db -p 5432:5432 -e POSTGRES_USER=lisk -e POSTGRES_PASSWORD=password -e POSTGRES_DB=lisk_&lt;NETWORK&gt; -d postgres:10</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will install PostgreSQL version 10 (<code>postgres:10</code>) in a container
with name <code>lisk_core_db</code> and binds the port <code>5432</code> of the container
with the same port of the machine. As environment variables we expose
<code>POSTGRES_USER=lisk</code> to create the lisk user and
<code>POSTGRES_PASSWORD=password</code> to set the password for the lisk user.
Finally the environment variable <code>POSTGRES_DB</code> creates the database
<code>lisk_&lt;NETWORK&gt;</code> with the <code>lisk</code> user as owner.</p>
</div>
<div class="paragraph">
<p>The above should be enough to set up the database ready to use with Lisk
Core. To manage the Docker container, use the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker stop lisk_core_db # stop the container
docker start lisk_core_db # start the container
docker restart lisk_core_db # restart the container
docker rm lisk_core_db # remove the container</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case you want to access Postgres inside the container via CLI, run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker exec --tty --interactive lisk_core_db psql -h localhost -U lisk -d postgres</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_b_postgres_system_wide"><a class="anchor" href="#_b_postgres_system_wide"></a>B. Postgres system-wide</h4>
<div class="sect4">
<h5 id="_ubuntu_5"><a class="anchor" href="#_ubuntu_5"></a>Ubuntu</h5>
<div class="paragraph">
<p>Firstly, install postgreSQL on your machine:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo apt-get purge -y postgres* # remove all already installed postgres versions
sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt/ $(lsb_release -cs)-pgdg main" &gt; /etc/apt/sources.list.d/pgdg.list'
sudo apt install wget ca-certificates
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -
sudo apt update
sudo apt install postgresql-10</code></pre>
</div>
</div>
<div class="paragraph">
<p>After installation, you should see the Postgres database cluster, by
running</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">pg_lsclusters</code></pre>
</div>
</div>
<div class="paragraph">
<p>Drop the existing database cluster, and replace it with a cluster with
the locale <code>en_US.UTF-8</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo pg_dropcluster --stop 10 main
sudo pg_createcluster --locale en_US.UTF-8 --start 10 main</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create a new database user called <code>lisk</code> and grant it rights to create
databases. Then create the database with the lisk user as owner. In the
last step, define the password for the lisk user:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo -u postgres -i createuser --createdb lisk
sudo -u postgres -i createdb lisk_&lt;NETWORK&gt; --owner lisk
sudo -u postgres psql -d lisk_&lt;NETWORK&gt; -c "alter user lisk with password 'password';"</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>&lt;NETWORK&gt;</code> may be <code>main</code> for Mainnet, <code>test</code> for Testnet or
<code>dev</code> for Devnet.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Change `password' to a secure password of your choice. Don’t forget to
update this password in the <a href="../configuration.html" class="page">Lisk SDK configuration</a> later on.</p>
</div>
</blockquote>
</div>
</div>
<div class="sect4">
<h5 id="_macos_4"><a class="anchor" href="#_macos_4"></a>MacOS</h5>
<div class="paragraph">
<p>Install Postgres version 10:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">brew install postgresql@10</code></pre>
</div>
</div>
<div class="paragraph">
<p>Add it to the systems path:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">echo 'export PATH="/usr/local/opt/postgresql@10/bin:$PATH"' &gt;&gt; ~/.bash_profile
export LDFLAGS="-L/usr/local/opt/postgresql@10/lib"
export CPPFLAGS="-I/usr/local/opt/postgresql@10/include"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Start Postgres, create the <code>lisk</code> user and the database:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">initdb /usr/local/var/postgres -E utf8 --locale=en_US.UTF-8
brew services start postgresql@10
createuser --createdb lisk
createdb lisk_&lt;NETWORK&gt; --owner lisk
psql -d lisk_&lt;NETWORK&gt; -c "alter user lisk with password 'password';"</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>&lt;NETWORK&gt;</code> may be <code>main</code> for Mainnet, <code>test</code> for Testnet or
<code>dev</code> for Devnet.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Change <code>'password'</code> to a secure password of your choice. Don’t forget
to update this password in the <a href="../configuration.html" class="page">Lisk Core configuration</a> later on.</p>
</div>
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pm2_optional"><a class="anchor" href="#_pm2_optional"></a>PM2 (optional)</h3>
<div class="paragraph">
<p>Install <a href="https://github.com/Unitech/pm2">PM2</a> for managing start/stop of
the app process in the background:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm install pm2 -g</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_redis_optional"><a class="anchor" href="#_redis_optional"></a>Redis (optional)</h3>
<div class="sect3">
<h4 id="_ubuntu_6"><a class="anchor" href="#_ubuntu_6"></a>Ubuntu</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo apt install redis-server</code></pre>
</div>
</div>
<div class="paragraph">
<p>Start Redis:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo service redis-server start</code></pre>
</div>
</div>
<div class="paragraph">
<p>Stop Redis:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo service redis-server stop</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_macos_5"><a class="anchor" href="#_macos_5"></a>MacOS</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">brew install redis</code></pre>
</div>
</div>
<div class="paragraph">
<p>Start Redis:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">brew services start redis</code></pre>
</div>
</div>
<div class="paragraph">
<p>Stop Redis:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">brew services stop redis</code></pre>
</div>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Lisk does not run on the redis default port of <code>6379</code>. Instead it is
configured to run on port: <code>6380</code>. Due to this, to run Lisk, you have
one of two options:</p>
</div>
</blockquote>
</div>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p><strong>Change the Lisk configuration</strong></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In the next installation phase, remember to update the Redis port
configuration in <code>config.json</code>.</p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha" type="A" start="2">
<li>
<p><strong>Change the Redis launch configuration</strong></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Update the launch configuration file on your system. Note that there are
many ways to do this.</p>
</div>
<div class="paragraph">
<p>The following is one example:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Stop redis-server</p>
</li>
<li>
<p>Edit the file <code>redis.conf</code> and change: <code>port 6379</code> to
<code>port 6380</code></p>
<div class="ulist">
<ul>
<li>
<p>Ubuntu/Debian: <code>/etc/redis/redis.conf</code></p>
</li>
<li>
<p>MacOS: <code>/usr/local/etc/redis.conf</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Start redis-server</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now confirm that redis is running on <code>port 6380</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">redis-cli -p 6380
ping</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you should get the result <code>PONG</code>.</p>
</div>
<div class="paragraph">
<p>If you have finished all the above steps successfully, your system is
ready for installation of Lisk Core.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation"><a class="anchor" href="#_installation"></a>Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section details how to install Lisk Core from Source. When
completed, you will have a functioning node on the Lisk Network. If you
are looking to upgrade your current Lisk Core installation, please see
<a href="../upgrade/source.html" class="page">Upgrade from Source</a>.</p>
</div>
<div class="sect2">
<h3 id="_login_as_the_lisk_user"><a class="anchor" href="#_login_as_the_lisk_user"></a>Login as the Lisk user</h3>
<div class="paragraph">
<p>This user was created in the <a href="#_pre_install">Prerequisites</a>. If you
are already logged in to this user, please skip this step.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo -u lisk -i</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_installing_lisk_from_source"><a class="anchor" href="#_installing_lisk_from_source"></a>Installing Lisk from Source</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/LiskHQ/lisk-core.git # clone the repository
cd lisk-core                  # navigate into the lisk-core root folder
git checkout v2.0.0 -b v2.0.0 # check out the latest release tag
npm ci                        # install dependencies
npm run build                 # compile packages</code></pre>
</div>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Please check for latest release on
<a href="https://github.com/LiskHQ/lisk-core/releases" class="bare">https://github.com/LiskHQ/lisk-core/releases</a></p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>To test that Lisk Core is built and configured correctly, issue the
following command to connect to the network:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">node dist/index.js # Default: connect to Devnet
LISK_NETWORK=[network] node dist/index.js # Use environment variables to overwrite config values (recommended)
node dist/index.js --network [network]  # Use flags to overwrite config values</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>[network]</code> might be either <code>devnet</code> (default), <code>alphanet</code>,
<code>betanet</code>, <code>testnet</code> or <code>mainnet</code>.</p>
</div>
<div class="paragraph">
<p>It is recommended to overwrite the config values with environment
variables if needed. Useable variables will always start with <code>LISK_</code>
prefix. Alternatively, the user may define a custom <code>config.json</code>,
like described in <a href="../configuration.html" class="page">Configuarion of Lisk Core</a>
Click here, to see a
<a href="../administration/source.html#_command_line_options" class="page">list of available environment variables</a></p>
</div>
<div class="paragraph">
<p>If the process is running correctly, no errors are thrown in the logs.
By default, errors will be logged in <code>logs/[network]/lisk.log</code>. Once
the process is verified as running correctly, <code>CTRL+C</code> and start the
process with <code>pm2</code>. This will fork the process into the background and
automatically recover the process if it fails.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">pm2 start --name lisk dist/index.js -- --network [network]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>[network]</code> might be either <code>devnet</code> (default), <code>alphanet</code>,
<code>betanet</code>, <code>testnet</code> or <code>mainnet</code>.</p>
</div>
<div class="paragraph">
<p>For details on how to manage or stop your Lisk node, please have a look
in <a href="../administration/source.html" class="page">Administration from Source</a>.</p>
</div>
<div class="paragraph">
<p>If you are not running Lisk locally, you will need to follow the
<a href="../configuration.html#_api_access_control" class="page">Configuration - API</a>
document to enable access.</p>
</div>
<div class="paragraph">
<p>That’s it! You are ready to move on to the
<a href="../configuration.html" class="page">configuration</a> documentation in case you wish
to configure your node further, e.g. if you wish to enable forging.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_post_installation_optional"><a class="anchor" href="#_post_installation_optional"></a>Post-installation (optional)</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Recommended: Set up a <a href="../configuration.html#_logrotation" class="page">log rotation</a></p>
</li>
</ul>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">On this page:</h3>
    <div id="article-toc"></div>
</aside>
</main>
</div>
<footer class="footer">
  <p>Go to the <a href="https://lisk.io/" target="_blank">Lisk Website</a></p>
  <p>Chat with developers at <a href="https://gitter.im/LiskHQ/lisk-sdk" target="_blank">Lisk Gitter</a></p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script async src="../../../_/js/vendor/tabs-block-behaviour.js"></script>
<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3',
        collapseDepth: 6,
        positionFixedSelector: null,
        scrollSmooth: false
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>
  </body>
</html>
