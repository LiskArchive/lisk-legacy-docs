<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Modules and Commands :: Lisk documentation</title>
    <link rel="canonical" href="https://liskhq.github.io/lisk-docs/beta/understand-blockchain/sdk/modules-commands.html">
    <link rel="prev" href="../blocks-txs.html">
    <link rel="next" href="plugins.html">
    <meta name="generator" content="Antora 3.1.1">

<link id="theme" rel="stylesheet" title="Default" href="../../../_/css/site.css">
<link rel="stylesheet" title="Dark" href="../../../_/css/dark-site.css">

<script>var uiRootPath = '../../../_'</script>
<script src="../../../_/js/vendor/medium-zoom.js"></script>
<script type="text/javascript" id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="e4db29b5-cd94-4bcf-87e4-04f4ca564240" data-blockingmode="manual"></script>
<!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://lisk.matomo.cloud/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '2']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src='//cdn.matomo.cloud/lisk.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->
<!-- Matomo Tag Manager -->
<script>
  var _mtm = window._mtm = window._mtm || [];
  _mtm.push({'mtm.startTime': (new Date().getTime()), 'event': 'mtm.Start'});
  var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
  g.async=true; g.src='https://cdn.matomo.cloud/lisk.matomo.cloud/container_RUW6y8yf.js'; s.parentNode.insertBefore(g,s);
</script>
<!-- End Matomo Tag Manager -->
<link rel="icon" href="../../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="top-logo">
        <a href="../../.." class="lisk-logo"></a>
        <a href="../../.." class="docs-logo"></a>
      </div>
      <!--<a class="navbar-item" href="https://liskhq.github.io/lisk-docs">Lisk documentation</a>-->
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">APIs</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../api/lisk-node-rpc.html">Lisk node RPC API</a>
            <a class="navbar-item" href="../../../api/lisk-service-http.html">Lisk Service HTTP
              API</a>
            <a class="navbar-item" href="../../../api/lisk-service-rpc.html">Lisk Service RPC
              API</a>
            <a class="navbar-item" href="../../../api/lisk-service-pubsub.html">Lisk Service
              Pub/Sub API</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Explorers</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://lisk.observer/" target="_blank">Lisk Observer</a>
            <a class="navbar-item" href="https://liskscan.com/" target="_blank">LiskScan</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../lisk-sdk/">Lisk SDK</a>
            <a class="navbar-item" href="../../../lisk-service/">Lisk Service</a>
            <a class="navbar-item" href="../../../lisk-core/">Lisk Core</a>
            <a class="navbar-item" href="https://lisk.com/wallet" target="_blank">Lisk Wallets</a>
          </div>
        </div>
        <button onclick="switch_style('toggle')" id="theme-toggle" class="theme-toggle navbar-item"></button>
        <!-- <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div> -->
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
  <div class="components-versions">
      <div class="page-components">
    <button class="component-menu-toggle" title="Show other documentations">Lisk Documentation</button>
    <div class="component-menu">
        <a class="component" href="../../../lisk-core/index.html">Lisk Core</a>
        <a class="component" href="../../../lisk-docs-manual/index.html">Lisk docs manual</a>
        <a class="component is-current" href="../../../index.html">Lisk Documentation</a>
        <a class="component" href="../../../lisk-sdk/index.html">Lisk SDK</a>
        <a class="component" href="../../../lisk-service/index.html">Lisk Service</a>
    </div>
  </div>
    <span></span>
    <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">beta</button>
  <div class="version-menu">
    <a class="version is-missing" href="../../../index.html">default</a>
    <a class="version is-current" href="modules-commands.html">beta</a>
  </div>
</div>
  </div>
  <span></span>
  <span></span>
    <a href="../../../index.html" class="home-link"></a>
  <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Lisk Documentation</a></li>
    <li><a href="../index.html">Understand Lisk Blockchain</a></li>
    <li>Lisk SDK</li>
    <li><a href="modules-commands.html">Modules and Commands</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/1497-blockchain-interoperability-page-in-lisk-docs/docs/modules/ROOT/pages/understand-blockchain/sdk/modules-commands.adoc">Edit this Page</a></div>
</div>

<div class="body">
<div class="nav-container" data-component="ROOT" data-version="beta">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Lisk Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../intro/what-is-blockchain.html">What is blockchain?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../intro/how-blockchain-works.html">How blockchain works</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../intro/blockchain-scalability.html">Blockchain Scalability</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../intro/lisk-products.html">Lisk products</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../intro/blockchain-interoperability.html">Blockchain Interoperability</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../index.html">Understand Lisk Blockchain</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../state-machine.html">State machine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../consensus/index.html">Consensus protocols</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../consensus/pos-poa.html">Proof of Stake (PoS) &amp; Proof of Authority (PoA) in Lisk</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../network.html">Network</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mainchain.html">Mainchain</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../interoperability/index.html">Lisk Interoperability</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../interoperability/communication.html">Cross-chain communication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../interoperability/sidechain-registration-and-recovery.html">Sidechain Registration &amp; Recovery</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../blocks-txs.html">Blocks and Transactions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lisk SDK</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="modules-commands.html">Modules and Commands</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="plugins.html">Plugins</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rpc.html">Communicating to a Lisk node via RPC</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="codec-schema.html">Schemas &amp; Codec</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../build-blockchain/index.html">Build Blockchain</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../build-blockchain/create-blockchain-client.html">Creating a new blockchain client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../build-blockchain/configuration.html">Blockchain client configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../build-blockchain/module/index.html">How to create a module</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/module/configuration.html">1. How to create a module configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/module/stores.html">2. How to create stores</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/module/command.html">3. How to create a command</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/module/endpoints-methods.html">4. How to create endpoints and methods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/module/blockchain-event.html">5. How to create a blockchain event</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../build-blockchain/plugin/index.html">How to create a plugin</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/plugin/schema-types.html">1. Defining off-chain data structures</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/plugin/offchain-db.html">2. Setting up an Off-chain database</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/plugin/configuring-plugin.html">3. Configuring a Plugin</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/plugin/plugin-class.html">4. Updating the Plugin Class</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/plugin/plugin-endpoints.html">5. Creating an endpoint &amp; Testing the plugin</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../build-blockchain/using-dashboard.html">Using the Dashboard with a blockchain client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../build-blockchain/enable-faucet.html">How to enable a Faucet for testing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../build-blockchain/create-genesis-block.html">How to create a new genesis block</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../build-blockchain/register-sidechain.html">How to register a sidechain</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../build-blockchain/interoperable-module/index.html">How to implement cross-chain communication</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/interoperable-module/create-ccm.html">How to create a CCM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../build-blockchain/interoperable-module/execute-ccm.html">How to execute a CCM</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../run-blockchain/index.html">Run Blockchain</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/process-management.html">Process management with PM2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/account-management.html">Managing accounts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/become-a-validator.html">How to become a validator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/staking.html">How to stake and un-stake tokens</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/enable-block-generation.html">How to enable/disable block generation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/reward-sharing.html">How to share block rewards</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/setup-relayer.html">Setting up a relayer node</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/blockchain-reset.html">Resetting and snapshotting the blockchain</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/enabling-misbehavior-report.html">How to enable the "Report Misbehavior" plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/logging.html">Managing logs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../integrate-blockchain/index.html">Integrate Blockchain</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../integrate-blockchain/connecting-endpoints.html">Connecting via endpoints</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../integrate-blockchain/subscribing-to-events.html">Retrieving on-chain events</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Transaction creation, signing, and posting</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrate-blockchain/create-sign-transactions.html">How to create and sign a transaction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrate-blockchain/create-tx-offline.html">Creating transactions and signing them offline</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrate-blockchain/multisignature-accounts-and-transactions.html">How to create multi-signature accounts and transactions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrate-blockchain/create-multiSig-tx-offline.html">Creating and signing a multi-signature transaction (Offline)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrate-blockchain/calculating-min-fee.html">How to calculate the minimum fee for a transaction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrate-blockchain/posting-transactions.html">How to post a transaction</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../integrate-blockchain/encode-decode.html">Decoding &amp; encoding data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../integrate-blockchain/overwriting-transactions.html">How to overwrite a transaction in the transaction pool</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../integrate-blockchain/integrate-ui/index.html">Integrating a user interface</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrate-blockchain/integrate-ui/create-get-account.html">1. Handling accounts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrate-blockchain/integrate-ui/faucet-transfer.html">2. Using faucet and transferring tokens</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../integrate-blockchain/integrate-ui/send-get-hello.html">3. Sending and retrieving hello</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../integrate-blockchain/aggregate-blockchain-data/index.html">Aggregate blockchain data with Lisk Service</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../api/lisk-node-rpc.html">RPC API for Lisk nodes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Module RPC APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../api/module-rpc-api/auth-endpoints.html">Auth module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../api/module-rpc-api/dynamic-reward-endpoints.html">Dynamic Reward module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../api/module-rpc-api/fee-endpoints.html">Fee module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../api/module-rpc-api/interoperability-endpoints.html">Sidechain Interoperability module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../api/module-rpc-api/mainchain-interoperability-endpoints.html">Mainchain Interoperability module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../api/module-rpc-api/token-endpoints.html">Token module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../api/module-rpc-api/validators-endpoints.html">Validators module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../api/module-rpc-api/random-endpoints.html">Random module: Endpoint reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../api/module-rpc-api/pos-endpoints.html">Proof of Stake module: Endpoint reference</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Plugin RPC APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../api/plugin-rpc-api/chain-connector-api.html">Chain Connector plugin: Endpoint reference</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lisk Service APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../api/lisk-service-rpc.html">RPC API of Lisk Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../api/lisk-service-http.html">HTTP API (Lisk Service)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../api/lisk-service-pubsub.html">Publish/Subscribe API (Lisk Service)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../api/lisk-service-api-migration.html">Lisk Service API v2 vs v3</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Products</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../lisk-sdk/v6/index.html">Lisk SDK</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../lisk-core/v4/index.html">Lisk Core</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../bug-bounty-program.html">Lisk Bug Bounty Program</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk Documentation</span>
    <span class="version">beta</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../lisk-core/index.html">Lisk Core</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-core/index.html">3.1.0 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-core/v4/index.html">4.0.0 (beta)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../lisk-docs-manual/index.html">Lisk docs manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-docs-manual/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../../index.html">Lisk Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../index.html">default</a>
        </li>
        <li class="version is-current">
          <a href="../../index.html">beta</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../lisk-sdk/index.html">Lisk SDK</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-sdk/index.html">5.2.2 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-sdk/v6/index.html">6.0.0 (beta)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../lisk-service/index.html">Lisk Service</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-service/index.html">0.6.6 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-service/0.7/index.html">0.7 (beta)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
      <h1 class="page">Modules and Commands</h1>
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>A module is a discrete component that contains blockchain-related business logic.
This logic can be related to a specific domain or a topic of a Lisk blockchain client.</p>
</div>
<div class="paragraph">
<p>Modules can be added by registering them to the blockchain client.
For successful registration, each module needs to follow the expected module structure, which is described on this page.</p>
</div>
<div class="paragraph">
<p>All modules collectively define the <strong>on-chain logic</strong> of a Lisk application.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Modules perform state changes on the blockchain by</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Defining logic that is executed per block.</p>
</li>
<li>
<p>Defining logic that is executed per transaction.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Modules are a central part of the on-chain logic of a Lisk application, and any code changes inside of a module which is registered in a running blockchain client, will most likely result in a hardfork of the network.</p>
</div>
<div class="paragraph">
<p>Therefore, changing the module logic of a running client should always be done in consensus and coordination of the majority of active validators of the blockchain, if it is required.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#module-overview">Module overview</a>
<ul class="sectlevel2">
<li><a href="#module-anatomy">Module anatomy</a></li>
<li><a href="#module-file-structure">Module file structure</a></li>
<li><a href="#the-basemodule">The <code>BaseModule</code></a></li>
</ul>
</li>
<li><a href="#module-name">Module name</a></li>
<li><a href="#module-constructor">Module constructor</a></li>
<li><a href="#module-dependencies">Module dependencies</a>
<ul class="sectlevel2">
<li><a href="#adddependencies">addDependencies</a></li>
<li><a href="#init">Init</a></li>
</ul>
</li>
<li><a href="#module-metadata">Module metadata</a>
<ul class="sectlevel2">
<li><a href="#defining-the-module-metadata">Defining the module metadata</a></li>
</ul>
</li>
<li><a href="#stores">Stores</a>
<ul class="sectlevel2">
<li><a href="#on-chain-store">On-chain Store</a></li>
<li><a href="#off-chain-store">Off-chain Store</a></li>
</ul>
</li>
<li><a href="#module-configuration">Module configuration</a></li>
<li><a href="#endpoints">Endpoints</a>
<ul class="sectlevel2">
<li><a href="#how-to-define-module-endpoints">How to define module endpoints</a></li>
<li><a href="#calling-a-module-endpoint">Calling a module endpoint</a></li>
</ul>
</li>
<li><a href="#methods">Methods</a>
<ul class="sectlevel2">
<li><a href="#how-to-define-module-methods">How to define module methods</a></li>
<li><a href="#calling-a-module-method-from-another-module">Calling a module method from another module</a></li>
</ul>
</li>
<li><a href="#blockchain-events">Blockchain Events</a>
<ul class="sectlevel2">
<li><a href="#standard-event">Standard event</a></li>
</ul>
</li>
<li><a href="#commands">Commands</a>
<ul class="sectlevel2">
<li><a href="#command-name">Command name</a></li>
<li><a href="#command-parameters-schema">Command parameters schema</a></li>
<li><a href="#command-lifecycle-hooks">Command Lifecycle Hooks</a></li>
</ul>
</li>
<li><a href="#lifecycle-hooks">Lifecycle Hooks</a>
<ul class="sectlevel2">
<li><a href="#insertassets">insertAssets</a></li>
<li><a href="#verifyassets">verifyAssets</a></li>
<li><a href="#beforetransactionsexecute">beforeTransactionsExecute</a></li>
<li><a href="#verifytransaction">verifyTransaction</a></li>
<li><a href="#beforecommandexecute">beforeCommandExecute</a></li>
<li><a href="#aftercommandexecute">afterCommandExecute</a></li>
<li><a href="#aftertransactionsexecute">afterTransactionsExecute</a></li>
<li><a href="#initgenesisstate">initGenesisState</a></li>
<li><a href="#finalizegenesisstate">finalizeGenesisState</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="module-overview"><a class="anchor" href="#module-overview"></a>Module overview</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="module-anatomy"><a class="anchor" href="#module-anatomy"></a>Module anatomy</h3>
<div class="paragraph">
<p>All important parts of a module are shown in the diagram below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/understand-blockchain/sdk/module.png" alt="Module Anatomy" width="400">
</div>
<div class="title">Figure 1. Anatomy of a module</div>
</div>
<div class="paragraph">
<p>For more information about the different module components, check out the corresponding sub-sections:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Initialization</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="#adddependencies">addDependencies</a></p>
</li>
<li>
<p><a href="#module-constructor">constructor</a></p>
</li>
<li>
<p><a href="#init">Init</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Name &amp; Metadata</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="#module-name">Module name</a></p>
</li>
<li>
<p><a href="#module-metadata">Module metadata</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">State changes</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="#methods">Methods</a></p>
</li>
<li>
<p><a href="#blockchain-events">Blockchain Events</a></p>
</li>
<li>
<p><a href="#commands">Commands</a></p>
</li>
<li>
<p><a href="#lifecycle-hooks">Lifecycle Hooks</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Public API</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="#endpoints">Endpoints</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Datastores</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="#stores">Stores</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="module-file-structure"><a class="anchor" href="#module-file-structure"></a>Module file structure</h3>
<div class="paragraph">
<p>The default file structure for modules looks as follows:</p>
</div>
<div class="listingblock">
<div class="title">blockchain-client/src/app/</div>
<div class="content">
<pre>├── app.ts
├── index.ts
├── modules
│   ├──  module1
│   │   ├── commands
│   │   │   ├── some_command.ts
│   │   │   └── another_command.ts
│   │   ├── endpoint.ts
│   │   ├── events
│   │   │   └── some_event.ts
│   │   ├── method.ts
│   │   ├── module.ts
│   │   └── stores
│   │       ├── some_store.ts
│   │       └── another_store.ts
│   └── module2
│       ├── commands
│       │   └── example_command.ts
│       ├── endpoint.ts
│       ├── events
│       │   └── some_event.ts
│       ├── method.ts
│       ├── module.ts
│       └── stores
│           └── example_store.ts
├── modules.ts
├── plugins
└── plugins.ts</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The default file structure of a module is automatically created for the developer, if the module is generated using Lisk Commander.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For a more detailed description of the different folders and files of a module, please check out the corresponding guides <a href="../../build-blockchain/create-blockchain-client.html" class="xref page">Creating a new blockchain client</a> and <a href="../../build-blockchain/module/index.html" class="xref page">How to create a module</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="the-basemodule"><a class="anchor" href="#the-basemodule"></a>The <code>BaseModule</code></h3>
<div class="paragraph">
<p>Each module is constructed as a class that extends from the <strong>BaseModule</strong> class.</p>
</div>
<div class="paragraph">
<p>The <code>BaseModule</code> class defines all optional and required properties and hooks of a module:</p>
</div>
<div class="listingblock">
<div class="title">The BaseModule</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export abstract class BaseModule {
	public commands: BaseCommand[] = [];
	public events: NamedRegistry = new NamedRegistry();
	public stores: NamedRegistry = new NamedRegistry();
	public offchainStores: NamedRegistry = new NamedRegistry();

	public get name(): string {
		const name = this.constructor.name.replace('Module', '');
		return name.charAt(0).toLowerCase() + name.substr(1);
	}

	public abstract endpoint: BaseEndpoint;
	public abstract method: BaseMethod;

	public async init?(args: ModuleInitArgs): Promise&lt;void&gt;;
	public async insertAssets?(context: InsertAssetContext): Promise&lt;void&gt;;
	public async verifyAssets?(context: BlockVerifyContext): Promise&lt;void&gt;;
	public async verifyTransaction?(context: TransactionVerifyContext): Promise&lt;VerificationResult&gt;;
	public async beforeCommandExecute?(context: TransactionExecuteContext): Promise&lt;void&gt;;
	public async afterCommandExecute?(context: TransactionExecuteContext): Promise&lt;void&gt;;
	public async initGenesisState?(context: GenesisBlockExecuteContext): Promise&lt;void&gt;;
	public async finalizeGenesisState?(context: GenesisBlockExecuteContext): Promise&lt;void&gt;;
	public async beforeTransactionsExecute?(context: BlockExecuteContext): Promise&lt;void&gt;;
	public async afterTransactionsExecute?(context: BlockAfterExecuteContext): Promise&lt;void&gt;;

	public abstract metadata(): ModuleMetadata;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="module-name"><a class="anchor" href="#module-name"></a>Module name</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The module name is the unique identifier for the module.</p>
</div>
<div class="paragraph">
<p>The module name is automatically calculated from the class name of the module, if it extends from the <a href="#the-basemodule">BaseModule</a>:
The <code>Module</code> suffix of the class name is removed, and the first character is converted to lowercase.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For example, the module class <code>HelloModule</code> will have the module name <code>hello</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The module name can be accessed inside the module via <code>this.name</code>.</p>
</div>
<div class="paragraph">
<p>In case it is desired to choose a different name for the module, a custom module name can be defined by implementing a getter <code>name</code> that returns the custom module name.</p>
</div>
<div class="listingblock">
<div class="title">Example: Choosing a custom module name</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">import { BaseModule } from 'lisk-sdk';

class HelloModule extends BaseModule {
    // ...
    public get name() {
      return 'newName';
    }
    // ...
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="module-constructor"><a class="anchor" href="#module-constructor"></a>Module constructor</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="#blockchain-events">Blockchain Events</a> and <a href="#stores">Stores</a> of the module are registered in the constructor of a module, for later use in the module.</p>
</div>
<div class="listingblock">
<div class="title">Example: Module constructor, registering stores and events to the module</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { BaseModule } from 'lisk-sdk';

export class HelloModule extends BaseModule {
    // ...
    public constructor() {
        super();
        // registration of stores and events
        this.stores.register(CounterStore, new CounterStore(this.name));
        this.stores.register(MessageStore, new MessageStore(this.name));
        this.events.register(NewHelloEvent, new NewHelloEvent(this.name));
    }
    // ...
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="module-dependencies"><a class="anchor" href="#module-dependencies"></a>Module dependencies</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="adddependencies"><a class="anchor" href="#adddependencies"></a>addDependencies</h3>
<div class="paragraph">
<p>If a module has dependencies on other modules, these can be injected in the <code>addDependencies()</code> method.</p>
</div>
<div class="listingblock">
<div class="title">module.ts</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export class ReactModule extends BaseInteroperableModule {
    // ...

    public addDependencies(interoperabilityMethod: InteroperabilityMethod) {
        this._interoperabilityMethod = interoperabilityMethod;
    }
    // ...

}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>addDependencies()</code> is not part of the module lifecycle and needs to be called manually, ideally right after registering the module to the client, like shown below:</p>
</div>
<div class="listingblock">
<div class="title">app.ts</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { Application, PartialApplicationConfig } from 'lisk-sdk';
import { registerModules } from './modules';
import { registerPlugins } from './plugins';
import { ReactModule } from './modules/react/module';

export const getApplication = (config: PartialApplicationConfig): Application =&gt; {
    const { app, method } = Application.defaultApplication(config);
    const reactModule = new ReactModule();
    app.registerModule(reactModule);
    app.registerInteroperableModule(reactModule);
    reactModule.addDependencies(method.interoperability);

    registerModules(app);
    registerPlugins(app);

    return app;
};</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="init"><a class="anchor" href="#init"></a>Init</h3>
<div class="paragraph">
<p>The <code>init()</code> method is part of the module lifecycle and gets called when the module initializes.</p>
</div>
<div class="paragraph">
<p>If a module needs to access certain <a href="#module-configuration">configuration options</a>, it is required to validate and cache the respective configurations in the <code>init()</code> method of a module.
The <code>init()</code> hook can also be used to pass required config options or methods to the module commands.</p>
</div>
<div class="listingblock">
<div class="title">Example: Hello module init() hook</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export class HelloModule extends BaseModule {
    // ...
    public async init(args: ModuleInitArgs): Promise&lt;void&gt; {
        // Get the module config defined in the config.json file
        const { moduleConfig } = args;
        // Overwrite the default module config with values from config.json, if set
        const config = utils.objects.mergeDeep({}, defaultConfig, moduleConfig) as ModuleConfigJSON;
        // Validate the provided config with the config schema
        validator.validator.validate&lt;ModuleConfigJSON&gt;(configSchema, config);
        // Call the command init() method with config values as parameters
        this.commands[0].init(config).catch(err =&gt; {
            // eslint-disable-next-line no-console
            console.log('Error: ', err);
        });
    }
    // ...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: React module init() hook</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">public async init(_args: ModuleInitArgs) {
        this.commands[0].init({
            interoperabilityMethod: this._interoperabilityMethod,
        });
    }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="module-metadata"><a class="anchor" href="#module-metadata"></a>Module metadata</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The metadata of a module provides information about the module to external services like UIs.</p>
</div>
<div class="paragraph">
<p>It provides information about the following module properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>endpoints</strong>: A list of <a href="#endpoints">Endpoints</a> of the respective module.
Each item has the following properties:</p>
<div class="ulist">
<ul>
<li>
<p><code>name</code>: The name of the endpoint.</p>
</li>
<li>
<p><code>request</code>: Required parameters for the endpoint (optional).</p>
</li>
<li>
<p><code>response</code>: A schema of the expected response to a request to the endpoint.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>commands</strong>: The list of <a href="#commands">Commands</a> belonging to the module.
Each item has the following properties:</p>
<div class="ulist">
<ul>
<li>
<p><code>name</code>: The command name.</p>
</li>
<li>
<p><code>params</code>: The required and optional parameters to execute the command (optional).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>events</strong>: A list of <a href="#blockchain-events">Blockchain Events</a> that are emitted by the module.
Each item has the following properties:</p>
<div class="ulist">
<ul>
<li>
<p><code>typeId</code>: The event type ID.</p>
</li>
<li>
<p><code>data</code>: The event data.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>assets</strong>: The schemas to decode <a href="../blocks-txs.html#block-assets" class="xref page">block assets</a> that are relevant to the module.
Each item has the following properties:</p>
<div class="ulist">
<ul>
<li>
<p><code>version</code>: The block version.</p>
</li>
<li>
<p><code>data</code>: The asset schema.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The metadata can be obtained by requesting the metadata from the blockchain client via RPC request to the <code>system_getMetadata</code> endpoint.</p>
</div>
<details id="interface-metadata">
<summary class="title">Module metadata interface</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export interface ModuleMetadata {
	endpoints: {
		name: string;
		request?: Schema;
		response: Schema;
	}[];
	events: {
		typeID: string;
		data: Schema;
	}[];
	commands: {
		name: string;
		params?: Schema;
	}[];
	assets: {
		version: number;
		data: Schema;
	}[];
}

export interface Schema {
	readonly $id: string;
	readonly type: string;
	readonly properties: Record&lt;string, unknown&gt;;
	readonly required?: string[];
}</code></pre>
</div>
</div>
</div>
</details>
<div class="sect2">
<h3 id="defining-the-module-metadata"><a class="anchor" href="#defining-the-module-metadata"></a>Defining the module metadata</h3>
<div class="paragraph">
<p>The module metadata follows the format of the <a href="#interface-metadata">module metadata interface</a> and is returned in the <code>metadata()</code> function of a module.</p>
</div>
<details>
<summary class="title">Example: Module metadata</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">const { BaseModule } = require('lisk-sdk');

class HelloModule extends BaseModule {
    // ...

	public metadata(): ModuleMetadata {
		return {
			endpoints: [
				{
					name: this.endpoint.getHello.name,
					request: getHelloRequestSchema,
					response: getHelloResponseSchema,
				},
				{
					name: this.endpoint.getHelloCounter.name,
					response: getHelloCounterResponseSchema,
				},
			],
			commands: this.commands.map(command =&gt; ({
				name: command.name,
				params: command.schema,
			})),
			events: this.events.values().map(v =&gt; ({
				name: v.name,
				data: v.schema,
			})),
			assets: [],
			stores: [],
		};
	}

    // ...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: Response schema of the 'getHelloCounter' endpoint of the Hello module</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export const getHelloCounterResponseSchema = {
	$id: 'modules/hello/endpoint/getHelloCounter',
	type: 'object',
	required: ['counter'],
	properties: {
		counter: {
			type: 'number',
			format: 'uint32'
		},
	},
};</code></pre>
</div>
</div>
</div>
</details>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stores"><a class="anchor" href="#stores"></a>Stores</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Modules have access to two kinds of data stores:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>An <a href="#on-chain-store">On-chain Store</a></p>
</li>
<li>
<p>An <a href="#off-chain-store">Off-chain Store</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Both stores are included in the <a href="../state-machine.html" class="xref page">State machine</a> of the blockchain client, though only the data on the on-chain stores is shared and synchronized with other nodes in the network.</p>
</div>
<div class="sect2">
<h3 id="on-chain-store"><a class="anchor" href="#on-chain-store"></a>On-chain Store</h3>
<div class="paragraph">
<p>A module can define one or multiple <strong>on-chain stores</strong>, to store data in the blockchain, i.e. to include it in the blockchain state.</p>
</div>
<div class="paragraph">
<p>For example, data such as <em>account balances</em>, <em>validator&#8217;s names</em>, and <em>multisignature keys</em> are values that are stored in the on-chain module store.</p>
</div>
<div class="paragraph">
<p>Every module store is extended from the <code>BaseStore</code> class:</p>
</div>
<details>
<summary class="title">The BaseStore class</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export abstract class BaseStore&lt;T&gt; {
	private readonly _version: number;
	private readonly _storePrefix: Buffer;
	private readonly _subStorePrefix: Buffer;

	public abstract schema: Schema;

	public get storePrefix(): Buffer {
		return this._storePrefix;
	}

	public get subStorePrefix(): Buffer {
		return this._subStorePrefix;
	}

	public get key(): Buffer {
		return Buffer.concat([this._storePrefix, this._subStorePrefix]);
	}

	public get name(): string {
		const name = this.constructor.name.replace('Store', '');
		return name.charAt(0).toLowerCase() + name.substr(1);
	}

	public constructor(moduleName: string, version = 0) {
		this._version = version;
		this._storePrefix = utils.hash(Buffer.from(moduleName, 'utf-8')).slice(0, 4);
		// eslint-disable-next-line no-bitwise
		this._storePrefix[0] &amp;= 0x7f;
		const versionBuffer = Buffer.alloc(2);
		versionBuffer.writeUInt16BE(this._version, 0);
		this._subStorePrefix = utils
			.hash(Buffer.concat([Buffer.from(this.name, 'utf-8'), versionBuffer]))
			.slice(0, 2);
	}

	public async get(ctx: ImmutableStoreGetter, key: Buffer): Promise&lt;T&gt; {
		if (!this.schema) {
			throw new Error('Schema is not set');
		}
		const subStore = ctx.getStore(this._storePrefix, this._subStorePrefix);
		return subStore.getWithSchema&lt;T&gt;(key, this.schema);
	}

	public async has(ctx: ImmutableStoreGetter, key: Buffer): Promise&lt;boolean&gt; {
		if (!this.schema) {
			throw new Error('Schema is not set');
		}
		const subStore = ctx.getStore(this._storePrefix, this._subStorePrefix);
		return subStore.has(key);
	}

	public async iterate(
		ctx: ImmutableStoreGetter,
		options: IterateOptions,
	): Promise&lt;{ key: Buffer; value: T }[]&gt; {
		if (!this.schema) {
			throw new Error('Schema is not set');
		}
		const subStore = ctx.getStore(this._storePrefix, this._subStorePrefix);
		return subStore.iterateWithSchema&lt;T&gt;(options, this.schema);
	}

	public async set(ctx: StoreGetter, key: Buffer, value: T): Promise&lt;void&gt; {
		if (!this.schema) {
			throw new Error('Schema is not set');
		}
		const subStore = ctx.getStore(this._storePrefix, this._subStorePrefix);
		return subStore.setWithSchema(key, value as Record&lt;string, unknown&gt;, this.schema);
	}

	public async del(ctx: StoreGetter, key: Buffer): Promise&lt;void&gt; {
		if (!this.schema) {
			throw new Error('Schema is not set');
		}
		const subStore = ctx.getStore(this._storePrefix, this._subStorePrefix);
		return subStore.del(key);
	}
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="off-chain-store"><a class="anchor" href="#off-chain-store"></a>Off-chain Store</h3>
<div class="paragraph">
<p>In a module, the off-chain store is available in: <a href="#insertassets">insertAssets</a> &amp; <a href="#endpoints">Endpoints</a>.</p>
</div>
<div class="paragraph">
<p>It complements the on-chain module store, by allowing to store various additional data in the blockchain client, that does not need to be included in the on-chain store.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The data stored in the off-chain store is not part of the blockchain protocol, and it may differ from machine to machine.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Every off-chain store is extended from the <code>BaseOffchainStore</code>:</p>
</div>
<details>
<summary class="title">The BaseOffchainStore class</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">export abstract class BaseOffchainStore&lt;T&gt; {
	private readonly _version: number;
	private readonly _storePrefix: Buffer;
	private readonly _subStorePrefix: Buffer;

	public abstract schema: Schema;

	public get key(): Buffer {
		return Buffer.concat([this._storePrefix, this._subStorePrefix]);
	}

	public get name(): string {
		const name = this.constructor.name.replace('Store', '');
		return name.charAt(0).toLowerCase() + name.substr(1);
	}

	public constructor(moduleName: string, version = 0) {
		this._version = version;
		this._storePrefix = utils.hash(Buffer.from(moduleName, 'utf-8')).slice(0, 4);
		// eslint-disable-next-line no-bitwise
		this._storePrefix[0] &amp;= 0x7f;
		const versionBuffer = Buffer.alloc(2);
		versionBuffer.writeUInt16BE(this._version, 0);
		this._subStorePrefix = utils
			.hash(Buffer.concat([Buffer.from(this.name, 'utf-8'), versionBuffer]))
			.slice(0, 2);
	}

	public async get(ctx: ImmutableStoreGetter, key: Buffer): Promise&lt;T&gt; {
		if (!this.schema) {
			throw new Error('Schema is not set');
		}
		const subStore = ctx.getOffchainStore(this._storePrefix, this._subStorePrefix);
		return subStore.getWithSchema&lt;T&gt;(key, this.schema);
	}

	public async has(ctx: ImmutableStoreGetter, key: Buffer): Promise&lt;boolean&gt; {
		if (!this.schema) {
			throw new Error('Schema is not set');
		}
		const subStore = ctx.getOffchainStore(this._storePrefix, this._subStorePrefix);
		return subStore.has(key);
	}

	public async iterate(
		ctx: ImmutableStoreGetter,
		options: IterateOptions,
	): Promise&lt;{ key: Buffer; value: T }[]&gt; {
		if (!this.schema) {
			throw new Error('Schema is not set');
		}
		const subStore = ctx.getOffchainStore(this._storePrefix, this._subStorePrefix);
		return subStore.iterateWithSchema&lt;T&gt;(options, this.schema);
	}

	public async set(ctx: StoreGetter, key: Buffer, value: T): Promise&lt;void&gt; {
		if (!this.schema) {
			throw new Error('Schema is not set');
		}
		const subStore = ctx.getOffchainStore(this._storePrefix, this._subStorePrefix);
		return subStore.setWithSchema(key, value as Record&lt;string, unknown&gt;, this.schema);
	}

	public async del(ctx: StoreGetter, key: Buffer): Promise&lt;void&gt; {
		if (!this.schema) {
			throw new Error('Schema is not set');
		}
		const subStore = ctx.getOffchainStore(this._storePrefix, this._subStorePrefix);
		return subStore.del(key);
	}
}</code></pre>
</div>
</div>
</div>
</details>
</div>
</div>
</div>
<div class="sect1">
<h2 id="module-configuration"><a class="anchor" href="#module-configuration"></a>Module configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A module can access specific configuration options of the blockchain client:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Module-specific configuration options, defined under <code>modules.MODULENAME</code>, where <code>MODULENAME</code> is the name of the specific module, that the config options belong to.</p>
</li>
<li>
<p>Genesis config options, defined under <code>genesis</code> are config options available to the blockchain client.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Both configuration options are defined by the blockchain developer in the <code>config.json</code> file, generally located in the <code>config/default/</code> directory.</p>
</div>
<div class="listingblock">
<div class="title">config.json structure</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    // ...
    "genesis": {
		"block": {
			"fromFile": "./config/genesis_block.blob"
		},
		"blockTime": 10,
		"bftBatchSize": 103,
		"maxTransactionsSize": 15 * 1024, // Kilo Bytes,
		"minFeePerByte": 1000
	},
	"generator": {
		"keys": {
			"fromFile": "./config/dev-validators.json"
		}
	},
	"modules": {
        "hello": {
          "maxMessageLength": 300,
          "minMessageLength": 5,
          "blacklist": ["illegalWord1", "badWord2", "censoredWord3"]
        }
	},
	"plugins": {}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information on how to configure a module, read the guide <a href="../../build-blockchain/module/configuration.html" class="xref page">How to create a module configuration</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="endpoints"><a class="anchor" href="#endpoints"></a>Endpoints</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An endpoint is an <strong>interface between a module and an external system.</strong>
Lisk endpoints support RPC communication.
The module-specific RPC endpoints can be invoked by external services, like UIs, to get relevant data from the application.</p>
</div>
<div class="paragraph">
<p>The endpoints are defined individually for each module, depending on the module&#8217;s purpose.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Endpoints allow us to conveniently <strong>get data from the blockchain</strong>.
It is never possible to set data / mutate the state via module endpoints.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Every module endpoint always extends from the <code>BaseEndpoint</code> class.</p>
</div>
<div class="listingblock">
<div class="title">The BaseEndpoint class</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export abstract class BaseEndpoint {
	[key: string]: unknown;
	protected moduleID: Buffer;
	public constructor(moduleID: Buffer) {
		this.moduleID = moduleID;
	}
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="how-to-define-module-endpoints"><a class="anchor" href="#how-to-define-module-endpoints"></a>How to define module endpoints</h3>
<div class="paragraph">
<p>The module endpoints are usually defined in a file called <code>endpoint.ts</code> inside of the root folder of the respective module.</p>
</div>
<details>
<summary class="title">Example: <code>endpoint.ts</code> of the Hello module</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { BaseEndpoint, ModuleEndpointContext, cryptography } from 'lisk-sdk';
import { CounterStore, CounterStoreData } from './stores/counter';
import { MessageStore, MessageStoreData } from './stores/message';

export class HelloEndpoint extends BaseEndpoint {

	public async getHelloCounter(ctx: ModuleEndpointContext): Promise&lt;CounterStoreData&gt; {
		const counterSubStore = this.stores.get(CounterStore);

		const helloCounter = await counterSubStore.get(
			ctx,
			Buffer.from('hello','utf8'),
		);

		return helloCounter;
	}

	public async getHello(ctx: ModuleEndpointContext): Promise&lt;MessageStoreData&gt; {
		const messageSubStore = this.stores.get(MessageStore);

		const { address } = ctx.params;
		if (typeof address !== 'string') {
			throw new Error('Parameter address must be a string.');
		}
		cryptography.address.validateLisk32Address(address);
		const helloMessage = await messageSubStore.get(
			ctx,
			cryptography.address.getAddressFromLisk32Address(address),
		);
		return helloMessage;
	}
}</code></pre>
</div>
</div>
</div>
</details>
<div class="paragraph">
<p>All module endpoints have access to the on-chain and off-chain <a href="#stores">Stores</a> of a module and can receive data from there, to answer RPC requests with the expected data.</p>
</div>
<div class="paragraph">
<p>The parameter <code>ctx</code> of an endpoint is expected to be of type <code>ModuleEndpointContext</code>.
Meaning, <code>ctx</code> provides the following methods for the endpoint:</p>
</div>
<details>
<summary class="title"><code>ModuleEndpointContext</code> interface</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export interface ModuleEndpointContext extends PluginEndpointContext {
	getStore: (moduleID: Buffer, storePrefix: Buffer) =&gt; ImmutableSubStore;
	getOffchainStore: (moduleID: Buffer, storePrefix: Buffer) =&gt; SubStore;
	getImmutableMethodContext: () =&gt; ImmutableMethodContext;
	chainID: Buffer;
}</code></pre>
</div>
</div>
</div>
</details>
<div class="paragraph">
<p>Once the module endpoints are defined in <code>endpoints.ts</code>, they can be added to the module under the <code>endpoint</code> attribute:</p>
</div>
<div class="listingblock">
<div class="title">How to add endpoints to a module</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { HelloEndpoint } from './endpoint';

export class HelloModule extends BaseModule {
	// ...
	public endpoint = new HelloEndpoint(this.stores, this.offchainStores);
    // ...
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="calling-a-module-endpoint"><a class="anchor" href="#calling-a-module-endpoint"></a>Calling a module endpoint</h3>
<div class="paragraph">
<p>To call an endpoint of a module, simply send the respective RPC request.</p>
</div>
<div class="paragraph">
<p>A convenient way to send RPC requests to the node is the <strong>API client</strong>.
See section <a href="rpc.html#how-to-invoke-endpoints" class="xref page">How to invoke endpoints</a> of the page "Communicating to a Lisk node via RPC".</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="methods"><a class="anchor" href="#methods"></a>Methods</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A method is an interface for module-to-module communication, and <strong>can perform state mutations</strong> on the blockchain.</p>
</div>
<div class="paragraph">
<p>To get or set module-specific data in the blockchain, methods are either called by other modules or by the module itself.
For example, the <code>transfer</code> method from the <code>Token</code> module is called by a module, if it needs to transfer tokens from one account to the other.</p>
</div>
<div class="paragraph">
<p>Every module method always extends from the <code>BaseMethod</code> class.</p>
</div>
<div class="listingblock">
<div class="title">The BaseMethod class</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export abstract class BaseMethod {
	protected moduleID: Buffer;
	public constructor(moduleID: Buffer) {
		this.moduleID = moduleID;
	}
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="how-to-define-module-methods"><a class="anchor" href="#how-to-define-module-methods"></a>How to define module methods</h3>
<div class="paragraph">
<p>The module methods are usually defined in a file called <code>methods.ts</code> inside of the folder of the respective module.</p>
</div>
<details>
<summary class="title">Example: <code>getHello</code> method of the Hello module</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { BaseMethod, ImmutableMethodContext } from 'lisk-sdk';
import { MessageStore, MessageStoreData } from './stores/message';

export class HelloMethod extends BaseMethod {

	public async getHello(
		methodContext: ImmutableMethodContext,
		address: Buffer,
	): Promise&lt;MessageStoreData&gt; {
        // 1. Get message store
		const messageSubStore = this.stores.get(MessageStore);
        // 2. Get the Hello message for the address from the message store
		const helloMessage = await messageSubStore.get(methodContext, address);
        // 3. Return the Hello message
		return helloMessage;
	}
}</code></pre>
</div>
</div>
</div>
</details>
<div class="paragraph">
<p>Once the module methods are defined in <code>methods.ts</code>, they can be added to the module under the <code>method</code> attribute:</p>
</div>
<div class="listingblock">
<div class="title">How to add methods to a module</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { TokenMethod } from './method';

export class TokenModule extends BaseInteroperableModule {
	public method = new TokenMethod(this.stores, this.events, this.name);
    // ...
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="calling-a-module-method-from-another-module"><a class="anchor" href="#calling-a-module-method-from-another-module"></a>Calling a module method from another module</h3>
<div class="paragraph">
<p>A module method can be called from another module.</p>
</div>
<div class="paragraph">
<p>For example, the method <code>getAvailableBalance</code> of the <strong>Token</strong> module is called from the <strong>Fee</strong> module in the transaction verification hook.
This method is called to verify if the sender of a transaction has enough balance to pay the transaction fee.</p>
</div>
<div class="paragraph">
<p>Methods from other modules are provided to the module by importing them, and adding them as properties in the <a href="#adddependencies">addDependencies</a> method, as shown in the code snippet below.</p>
</div>
<div class="listingblock">
<div class="title">fee/module.ts</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export class FeeModule extends BaseInteroperableModule {
    // ...

    public addDependencies(tokenMethod: TokenMethod, interopMethod: InteroperabilityMethod) {
		this._tokenMethod = tokenMethod;
		this.crossChainMethod.addDependencies(interopMethod, tokenMethod);
	}
    // ...

    public async verifyTransaction(context: TransactionVerifyContext): Promise&lt;VerificationResult&gt; {
		const { getMethodContext, transaction, header } = context;

		const minFee = this._getMinFee(header.height, transaction.getBytes().length);
		if (transaction.fee &lt; minFee) {
			throw new Error(`Insufficient transaction fee. Minimum required fee is ${minFee}.`);
		}

		const balance = await this._tokenMethod.getAvailableBalance(
			getMethodContext(),
			transaction.senderAddress,
			this._tokenID,
		);
		if (transaction.fee &gt; balance) {
			throw new Error(`Insufficient balance.`);
		}

		return { status: VerifyStatus.OK };
	}

    // ...
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="blockchain-events"><a class="anchor" href="#blockchain-events"></a>Blockchain Events</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Blockchain events, or module events, are logs of events that occur in the blockchain network during block execution.
Events occur per block, and are stored in the respective block header, from where they can be queried.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="title">Do not confuse blockchain events with RPC events.</div>
<div class="paragraph">
<p>In contrast to <a href="rpc.html#events" class="xref page">RPC events</a>,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Blockchain events are part of the on-chain logic:
Each block includes the <strong>event root in the block header</strong>, which is the root of a Sparse-Merkle-Tree of all blockchain events, that occur in that particular block.</p>
</li>
<li>
<p>If not configured differently, blockchain events are only kept for the last 300 blocks, to not pollute the blockchain unnecessarily.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Every module event always extends from the <code>BaseEvent</code> class.</p>
</div>
<details>
<summary class="title">The BaseEvent class</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export abstract class BaseEvent&lt;T&gt; {
	public schema: Schema = emptySchema;

	private readonly _moduleName: string;

	public get key(): Buffer {
		return Buffer.from(this._moduleName + this.name, 'utf-8');
	}

	public get name(): string {
		const name = this.constructor.name.replace('Event', '');
		return name.charAt(0).toLowerCase() + name.substr(1);
	}

	public constructor(moduleName: string) {
		this._moduleName = moduleName;
	}

	public add(ctx: EventQueuer, data: T, topics?: Buffer[], noRevert?: boolean): void {
		ctx.eventQueue.add(
			this._moduleName,
			this.name,
			this.schema ? codec.encode(this.schema, data as Record&lt;string, unknown&gt;) : Buffer.alloc(0),
			topics,
			noRevert,
		);
	}
}</code></pre>
</div>
</div>
</div>
</details>
<div class="paragraph">
<p>For more information on how to &#8230;&#8203;</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>create</strong> and <strong>emit</strong> blockchain events, read the guide <a href="../../build-blockchain/module/configuration.html" class="xref page">How to create a module configuration</a>.</p>
</li>
<li>
<p><strong>listen</strong> to blockchain events, read the guide <a href="../../build-blockchain/plugin/plugin-class.html#sync-and-store-new-event" class="xref page">How to create a plugin</a>.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="standard-event"><a class="anchor" href="#standard-event"></a>Standard event</h3>
<div class="paragraph">
<p>The standard event is indicating the result of a transaction processing (success/failure).
It is automatically emitted every time a transaction is processed by a module.</p>
</div>
<div class="paragraph">
<p>Only valid transactions are processed, and therefore <strong>only valid transactions emit the standard event.</strong>
See the section <a href="../blocks-txs.html#valid-vs-invalid-transactions" class="xref page">Valid vs invalid transactions</a> for more information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The standard event is therefore the only blockchain event, that is not defined manually by the developer of a module.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The standard event is added to the event queue in the state machine during the <code>executeTransaction</code> <a href="../blocks-txs.html#block-execution" class="xref page">lifecycle hook</a>.</p>
</div>
<div class="paragraph">
<p>If the transaction execution as successful, the <code>success</code> property is set to <code>true</code>, otherwise, it is set to <code>false</code>.</p>
</div>
<div class="listingblock">
<div class="title">Schema for the standard event</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export const standardEventDataSchema = {
	$id: '/block/event/standard',
	type: 'object',
	required: ['success'],
	properties: {
		success: {
			dataType: 'boolean',
			fieldNumber: 1,
		},
	},
};</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="commands"><a class="anchor" href="#commands"></a>Commands</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A command is a group of <strong>state-transition logic triggered by a transaction</strong> and is identified by the module and command name of the transaction.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/understand-blockchain/sdk/command.png" alt="Command anatomy" width="400">
</div>
<div class="title">Figure 2. Anatomy of a Command</div>
</div>
<div class="paragraph">
<p>Every module command always extends from the <code>BaseCommand</code> class.</p>
</div>
<div class="listingblock">
<div class="title">The BaseCommand class</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export abstract class BaseCommand&lt;T = unknown&gt; {
	public schema?: Schema;

	public get name(): string {
		const name = this.constructor.name.replace('Command', '');
		return name.charAt(0).toLowerCase() + name.substr(1);
	}

	// eslint-disable-next-line no-useless-constructor
	public constructor(protected stores: NamedRegistry, protected events: NamedRegistry) {}

	public verify?(context: CommandVerifyContext&lt;T&gt;): Promise&lt;VerificationResult&gt;;

	public abstract execute(context: CommandExecuteContext&lt;T&gt;): Promise&lt;void&gt;;
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="command-name"><a class="anchor" href="#command-name"></a>Command name</h3>
<div class="paragraph">
<p>The command name is the unique identifier for the command.
It needs to be unique within the module the command belongs to.</p>
</div>
<div class="paragraph">
<p>The command name is automatically calculated from the class name of the command, if it extends from the <a href="#commands">BaseCommand</a>:
The <code>Command</code> suffix of the class name is removed, and the first character is converted to lowercase.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For example, the module class <code>CreateHelloCommand</code> will have the command name <code>createHello</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The command name can be accessed inside the command via <code>this.name</code>.</p>
</div>
<div class="paragraph">
<p>In case it is desired to choose a different name for the command, a custom command name can be defined by implementing a getter <code>name</code> that returns the custom command name.</p>
</div>
<div class="listingblock">
<div class="title">Example: Choosing a custom command name</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { BaseCommand } from 'lisk-sdk';

export class TransferCommand extends BaseCommand {
    // ...
    public get name() {
      return 'newName';
    }
    // ...
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="command-parameters-schema"><a class="anchor" href="#command-parameters-schema"></a>Command parameters schema</h3>
<div class="paragraph">
<p>If a command expects parameters, the parameters schema is defined in the <code>schema</code> property of the command.
It defines which parameters are required in the transaction, and also which data types are to be expected.</p>
</div>
<div class="paragraph">
<p>If the parameters of a transaction object do not match the corresponding schema, the transaction will not be accepted by the node.
The schema follows the format of a modified JSON schema<sup class="footnote" id="_footnote_jsonSchema">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>, and should contain the following properties:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">$id</dt>
<dd>
<p>Unique identifier of the schema throughout the system.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>$id</code> property is directly inherited from the JSON-schema.
You can read more about the id property in the <a href="https://json-schema.org/understanding-json-schema/structuring.html#id" target="_blank" rel="noopener">JSON schema documentation</a>.</p>
</div>
<div class="paragraph">
<p>In general, adhere to the following criteria:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use unique IDs across the system.</p>
</li>
<li>
<p>It is recommended to use a path like format for easy readability, but it is not an actual requirement.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To avoid mixing any schema with other registered schemas, use a fixed identifier for your app in each ID.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">title</dt>
<dd>
<p>A short description of the schema.</p>
</dd>
<dt class="hdlist1">type or dataType</dt>
<dd>
<p>If the data type of a property is either an <code>object</code> or an <code>array</code>, the <code>type</code> property must be used instead of <code>dataType</code>.
The root type of the schema must be of type <code>object</code>.</p>
</dd>
<dt class="hdlist1">required</dt>
<dd>
<p>A list of all required parameters.</p>
</dd>
</dl>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If the schema is used for serialization, it is recommended to put all properties as required to guarantee the uniqueness of encoding.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">properties</dt>
<dd>
<p>A list of the command parameters.
It also defines their data type, order, and additional properties like min and max length.</p>
</dd>
</dl>
</div>
<details>
<summary class="title">Example: Command parameters schema</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export class TransferCommand extends BaseCommand {
    // ...
    public schema = {
        $id: '/lisk/transferParams',
        title: 'Transfer transaction params',
        type: 'object',
        required: ['tokenID', 'amount', 'recipientAddress', 'data'],
        properties: {
            tokenID: {
                dataType: 'bytes',
                fieldNumber: 1,
                minLength: TOKEN_ID_LENGTH,
                maxLength: TOKEN_ID_LENGTH,
            },
            amount: {
                dataType: 'uint64',
                fieldNumber: 2,
            },
            recipientAddress: {
                dataType: 'bytes',
                fieldNumber: 3,
                minLength: ADDRESS_LENGTH,
                maxLength: ADDRESS_LENGTH,
            },
            data: {
                dataType: 'string',
                fieldNumber: 4,
                minLength: 0,
                maxLength: MAX_DATA_LENGTH,
            },
        },
    };
    // ...
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="command-lifecycle-hooks"><a class="anchor" href="#command-lifecycle-hooks"></a>Command Lifecycle Hooks</h3>
<div class="paragraph">
<p>Each command has the following <a href="#lifecycle-hooks">Lifecycle Hooks</a>, which are executed separately for each command in a block.</p>
</div>
<div class="sect3">
<h4 id="command-initialization"><a class="anchor" href="#command-initialization"></a>Command initialization</h4>
<div class="paragraph">
<p>The <code>init()</code> hook of a command is called by the Lisk Framework when the node starts.</p>
</div>
<div class="paragraph">
<p>Here, you can validate and cache the module config or do initializations which should only happen once per node starts.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export class TransferCommand extends BaseCommand {
    // ...
    private _methods!: TokenMethods;
    public init(args: { methods: TokenMethods }) {
        this._methods = args.methods;
    }
    // ...
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="command-verification"><a class="anchor" href="#command-verification"></a>Command verification</h4>
<div class="paragraph">
<p>The hook <code>Command.verify</code> is called only for the command that is referenced by the module name and the command name in the transaction.
Similar to the <code>verifyTransaction</code> hook, <code>Command.verify</code> will be called also in the transaction pool, and it is to ensure the verification defined in this hook is respected when the transactions are included in a block.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In this hook, the <strong>state cannot be mutated</strong> and events cannot be emitted.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export class TransferCommand extends BaseCommand {
    // ...
    public async verify(context: CommandVerifyContext&lt;Params&gt;): Promise&lt;VerificationResult&gt; {
        const { params } = context;

        try {
            validator.validate(transferParamsSchema, params);
        } catch (err) {
            return {
                status: VerifyStatus.FAIL,
                error: err as Error,
            };
        }
        return {
            status: VerifyStatus.OK,
        };
    }
    // ...
}</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="command-verification-context"><a class="anchor" href="#command-verification-context"></a>Command verification context</h5>
<div class="paragraph">
<p>The <code>context</code> is available in every <code>Command.execute()</code> hook.</p>
</div>
<div class="paragraph">
<p>It allows convenient access to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>logger</code>: Logger interface, to create log messages.</p>
</li>
<li>
<p><code>chainID</code>: The identifier of the blockchain network, in which this command is executed.</p>
</li>
<li>
<p><code>transaction</code>: The transaction triggering the command.</p>
</li>
<li>
<p><code>params</code>: The command params, which were attached to the transaction.</p>
</li>
<li>
<p><code>getMethodContext</code>: Module method interface, to invoke modules methods.</p>
</li>
<li>
<p><code>getStore</code>: State store interface, to get and set data from/to the module stores.</p>
</li>
</ul>
</div>
<details>
<summary class="title">CommandVerifyContext interface</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export interface CommandVerifyContext&lt;T = undefined&gt; {
    logger: Logger;
    chainID: Buffer;
    transaction: Transaction; // without decoding params
    params: T;
    getMethodContext: () =&gt; ImmutableMethodContext;
    getStore: (moduleID: Buffer, storePrefix: Buffer) =&gt; ImmutableSubStore;
}</code></pre>
</div>
</div>
</div>
</details>
</div>
</div>
<div class="sect3">
<h4 id="command-execution"><a class="anchor" href="#command-execution"></a>Command execution</h4>
<div class="paragraph">
<p>Applies the state changes through the state machine.
The hook <code>Command.execute</code> is triggered by a transaction identified by the module name and the command name.</p>
</div>
<div class="paragraph">
<p>If the hook execution fails, the transaction that triggered this command is still valid, but the state changes applied during this hook are reverted.
Additionally, an event will be emitted that provides the information on whether a command is executed successfully or failed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In this hook, the <strong>state can be mutated</strong> and events can be emitted.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export class TransferCommand extends BaseCommand {
    // ...
    public async execute(context: CommandExecuteContext&lt;Params&gt;): Promise&lt;void&gt; {
        const { params } = context;
        await this._api.transfer(
            context.getAPIContext(),
            context.transaction.senderAddress,
            params.recipientAddress,
            params.tokenID,
            params.amount,
        );
    }
}</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="command-execution-context"><a class="anchor" href="#command-execution-context"></a>Command execution context</h5>
<div class="paragraph">
<p>The <code>context</code> is available in every <code>Command.execute()</code> hook.</p>
</div>
<div class="paragraph">
<p>It allows convenient access to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>logger</code>: Logger interface, to create log messages.</p>
</li>
<li>
<p><code>chainID</code>: The identifier of the blockchain network, in which this command is executed.</p>
</li>
<li>
<p><code>eventQueue</code>: The event queue.
See <a href="#blockchain-events">Blockchain Events</a> for more information.</p>
</li>
<li>
<p><code>header</code>: Block header.</p>
</li>
<li>
<p><code>assets</code>: Block assets.</p>
</li>
<li>
<p><code>currentValidators</code>: Validators of the current block generation round.</p>
</li>
<li>
<p><code>impliesMaxPrevote</code>: <code>true</code> if the block header which includes this transaction has prevotes which follow the BFT protocol.</p>
</li>
<li>
<p><code>maxHeightCertified</code>: Current height of the block in this chain which is certified.</p>
</li>
<li>
<p><code>certificateThreshold</code>: BFT vote weight required to generate a certificate.</p>
</li>
<li>
<p><code>transaction</code>: The transaction triggering the command.</p>
</li>
<li>
<p><code>params</code>: The command params, which were attached to the transaction.</p>
</li>
<li>
<p><code>getMethodContext</code>: Module method interface, to invoke modules methods.</p>
</li>
<li>
<p><code>getStore</code>: State store interface, to get and set data from/to the module stores.</p>
</li>
</ul>
</div>
<details>
<summary class="title">Interface: CommandExecuteContext</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export interface CommandExecuteContext&lt;T = undefined&gt; {
    logger: Logger;
    chainID: Buffer;
    eventQueue: EventQueue;
    header: BlockHeader;
    assets: BlockAssets;
    currentValidators: Validator[];
    impliesMaxPrevote: boolean;
    maxHeightCertified: number;
    certificateThreshold: bigint;
    transaction: Transaction; // without decoding params
    params: T;
    getMethodContext: () =&gt; MethodContext;
    getStore: (moduleID: Buffer, storePrefix: Buffer) =&gt; SubStore;
}</code></pre>
</div>
</div>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lifecycle-hooks"><a class="anchor" href="#lifecycle-hooks"></a>Lifecycle Hooks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The module hooks are called in a specific order during block creation and execution.</p>
</div>
<div class="paragraph">
<p>More information can be found regarding the block lifecycle in the following sections:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="../blocks-txs.html#genesis-block-execution" class="xref page">Lisk key concepts &gt; Genesis block execution</a></p>
</li>
<li>
<p><a href="../blocks-txs.html#block-generation" class="xref page">Lisk key concepts &gt; Block generation</a></p>
</li>
<li>
<p><a href="../blocks-txs.html#block-execution" class="xref page">Lisk key concepts &gt; Block processing</a></p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Never include external dynamic data to state changes in the lifecycle hooks.
It will create inconsistencies/forks for nodes when syncing to the current height.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="insertassets"><a class="anchor" href="#insertassets"></a>insertAssets</h3>
<div class="paragraph">
<p>The hook <code>insertAssets</code> is called at the very beginning of the <a href="../blocks-txs.html#block-generation" class="xref page">block generation</a>.
The assets added during the execution of this hook can be used in all the execution hooks afterwards.</p>
</div>
<div class="paragraph">
<p>For example, the <code>seedReveal</code> property is added to the block asset in this hook by the Random module<sup class="footnote" id="_footnote_randomModule">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">public async insertAssets(context: InsertAssetContext): Promise&lt;void&gt; {}</code></pre>
</div>
</div>
<details>
<summary class="title"><code>InsertAssetContext</code> interface</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    logger: Logger;
    networkIdentifier: Buffer;
    getAPIContext: () =&gt; APIContext;
    getStore: (moduleID: Buffer, storePrefix: Buffer) =&gt; ImmutableSubStore;
    header: BlockHeader;
    assets: WritableBlockAssets;
    getGeneratorStore: (moduleID: Buffer) =&gt; SubStore;
    getOffchainStore: (moduleID: Buffer, storePrefix: Buffer) =&gt; SubStore;
    getFinalizedHeight(): number;
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="verifyassets"><a class="anchor" href="#verifyassets"></a>verifyAssets</h3>
<div class="paragraph">
<p>The hook <code>verifyAssets</code> is only called before <a href="../blocks-txs.html#block-execution" class="xref page">executing a block</a>.</p>
</div>
<div class="paragraph">
<p>If this stage fails, the block is considered invalid and will be rejected.
In particular, the following hooks will not get executed.</p>
</div>
<div class="paragraph">
<p>This hook is used for verification before any state changes.
For example, at this stage, each module checks if the expected assets exist in the block.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In this hook, the <strong>state cannot be mutated</strong> and events cannot be emitted.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">public async verifyAssets(context: BlockVerifyContext): Promise&lt;void&gt; {}</code></pre>
</div>
</div>
<details>
<summary class="title">Interface for <code>verifyAssets</code> context</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    logger: Logger;
    networkIdentifier: Buffer;
    getAPIContext: () =&gt; ImmutableAPIContext;
    getStore: (moduleID: Buffer, storePrefix: Buffer) =&gt; ImmutableSubStore;
    header: BlockHeader;
    assets: BlockAssets;
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="beforetransactionsexecute"><a class="anchor" href="#beforetransactionsexecute"></a>beforeTransactionsExecute</h3>
<div class="paragraph">
<p>The hook <code>beforeTransactionsExecute</code> is triggered before any of the transactions of the block are processed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In this hook, the <strong>state can be mutated</strong> and events can be emitted.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">public async beforeTransactionsExecute(context: BlockExecuteContext): Promise&lt;void&gt; {}</code></pre>
</div>
</div>
<details>
<summary class="title">Interface for <code>beforeTransactionsExecute</code> context</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    logger: Logger;
    networkIdentifier: Buffer;
    eventQueue: EventQueue;
    getAPIContext: () =&gt; APIContext;
    getStore: (moduleID: Buffer, storePrefix: Buffer) =&gt; SubStore;
    header: BlockHeader;
    assets: BlockAssets;
    currentValidators: Validator[];
    impliesMaxPrevote: boolean;
    maxHeightCertified: number;
    certificateThreshold: bigint;
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="verifytransaction"><a class="anchor" href="#verifytransaction"></a>verifyTransaction</h3>
<div class="paragraph">
<p>The hook <code>verifyTransaction</code> is called for all the transactions within a block regardless of the command they trigger.
This ensures that all transactions included in a block satisfy the verifications defined in this hook.</p>
</div>
<div class="paragraph">
<p>This hook is used also for transaction verification in the transaction pool to reject invalid transactions early before transmitting them to the network.
For example, signature verification is done in this hook.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In this hook, the <strong>state cannot be mutated</strong> and events cannot be emitted.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">public async verifyTransaction(context: TransactionVerifyContext): Promise&lt;void&gt; {}</code></pre>
</div>
</div>
<details>
<summary class="title">Interface for <code>verifyTransaction</code> context</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    networkIdentifier: Buffer;
    logger: Logger;
    transaction: Transaction;
    getAPIContext: () =&gt; ImmutableAPIContext;
    getStore: (moduleID: Buffer, storePrefix: Buffer) =&gt; ImmutableSubStore;
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="beforecommandexecute"><a class="anchor" href="#beforecommandexecute"></a>beforeCommandExecute</h3>
<div class="paragraph">
<p>The hook <code>beforeCommandExecute</code> allows adding business logic before the execution of a command.
It is called for all the transactions within a block regardless of the command they trigger.</p>
</div>
<div class="paragraph">
<p>If the hook fails during the execution, the transaction becomes invalid and the block containing this transaction will be invalid.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In this hook, the <strong>state can be mutated</strong> and events can be emitted.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">public async beforeCommandExecute(context: TransactionExecuteContext): Promise&lt;void&gt; {}</code></pre>
</div>
</div>
<details>
<summary class="title">Interface for <code>beforeCommandExecute</code> context</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    logger: Logger;
    networkIdentifier: Buffer;
    eventQueue: EventQueueAdder;
    getAPIContext: () =&gt; APIContext;
    getStore: (moduleID: Buffer, storePrefix: Buffer) =&gt; SubStore;
    header: BlockHeader;
    assets: BlockAssets;
    transaction: Transaction;
    currentValidators: Validator[];
    impliesMaxPrevote: boolean;
    maxHeightCertified: number;
    certificateThreshold: bigint;
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="aftercommandexecute"><a class="anchor" href="#aftercommandexecute"></a>afterCommandExecute</h3>
<div class="paragraph">
<p>The hook <code>afterCommandExecute</code> allows adding business logic after the execution of a command.
It is called for all the transactions within a block regardless of the command they trigger.</p>
</div>
<div class="paragraph">
<p>If the hook fails during the execution, the transaction becomes invalid and the block containing this transaction will be invalid.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In this hook, the <strong>state can be mutated</strong> and events can be emitted.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">public async afterCommandExecute(context: TransactionExecuteContext): Promise&lt;void&gt; {}</code></pre>
</div>
</div>
<details>
<summary class="title">Interface for <code>afterCommandExecute</code> context</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    logger: Logger;
    networkIdentifier: Buffer;
    eventQueue: EventQueueAdder;
    getAPIContext: () =&gt; APIContext;
    getStore: (moduleID: Buffer, storePrefix: Buffer) =&gt; SubStore;
    header: BlockHeader;
    assets: BlockAssets;
    transaction: Transaction;
    currentValidators: Validator[];
    impliesMaxPrevote: boolean;
    maxHeightCertified: number;
    certificateThreshold: bigint;
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="aftertransactionsexecute"><a class="anchor" href="#aftertransactionsexecute"></a>afterTransactionsExecute</h3>
<div class="paragraph">
<p>The hook <code>afterTransactionsExecute</code> is the last hook allowed to define state changes that are triggered by the block.</p>
</div>
<div class="paragraph">
<p>Additionally, when defining the <code>afterTransactionsExecute</code> logic for a module, the transactions included in the block are available in that context and can be used in this logic.
For example, this hook can be used to sum the fees of the transactions included in a block and transfer them to the block generator.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In this hook, the <strong>state can be mutated</strong> and events can be emitted.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">public async afterTransactionsExecute(context: BlockAfterExecuteContext): Promise&lt;void&gt; {}</code></pre>
</div>
</div>
<details>
<summary class="title">Interface for <code>afterTransactionsExecute</code> context</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    logger: Logger;
    networkIdentifier: Buffer;
    eventQueue: EventQueue;
    getAPIContext: () =&gt; APIContext;
    getStore: (moduleID: Buffer, storePrefix: Buffer) =&gt; SubStore;
    header: BlockHeader;
    assets: BlockAssets;
    currentValidators: Validator[];
    impliesMaxPrevote: boolean;
    maxHeightCertified: number;
    certificateThreshold: bigint;
    transactions: ReadonlyArray&lt;Transaction&gt;;
    setNextValidators: (
        preCommitThreshold: bigint,
        certificateThreshold: bigint,
        validators: Validator[],
    ) =&gt; void;
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="initgenesisstate"><a class="anchor" href="#initgenesisstate"></a>initGenesisState</h3>
<div class="paragraph">
<p>The hook <code>initGenesisState</code> is called at the beginning of the <a href="../blocks-txs.html#genesis-block-execution" class="xref page">genesis block execution</a>.
Each module must initialize its state using an associated block asset.</p>
</div>
<div class="paragraph">
<p>It is recommended not to use methods from other modules because their state might not be initialized yet depending on the order of the hook execution.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">public async initGenesisState(context: GenesisBlockExecuteContext): Promise&lt;void&gt; {}</code></pre>
</div>
</div>
<details>
<summary class="title">Interface for <code>initGenesisState</code> context</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    logger: Logger;
    eventQueue: EventQueueAdder;
    getAPIContext: () =&gt; APIContext;
    getStore: (moduleID: Buffer, storePrefix: Buffer) =&gt; SubStore;
    header: BlockHeader;
    assets: BlockAssets;
    setNextValidators: (
        preCommitThreshold: bigint,
        certificateThreshold: bigint,
        validators: Validator[],
    ) =&gt; void;
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="finalizegenesisstate"><a class="anchor" href="#finalizegenesisstate"></a>finalizeGenesisState</h3>
<div class="paragraph">
<p>The hook <code>finalizeGenesisState</code> is called at the end of the <a href="../blocks-txs.html#genesis-block-execution" class="xref page">genesis block execution</a>.</p>
</div>
<div class="paragraph">
<p>In this hook, it can be assumed that the state initialization via <code>initGenesisState</code> of every module is completed and therefore methods from other modules can be used.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">public async finalizeGenesisState(context: GenesisBlockExecuteContext): Promise&lt;void&gt; {}</code></pre>
</div>
</div>
<details>
<summary class="title">Interface for <code>finalizeGenesisState</code> context</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    logger: Logger;
    eventQueue: EventQueueAdder;
    getAPIContext: () =&gt; APIContext;
    getStore: (moduleID: Buffer, storePrefix: Buffer) =&gt; SubStore;
    header: BlockHeader;
    assets: BlockAssets;
    setNextValidators: (
        preCommitThreshold: bigint,
        certificateThreshold: bigint,
        validators: Validator[],
    ) =&gt; void;
}</code></pre>
</div>
</div>
</div>
</details>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. See the <a href="https://json-schema.org/specification.html" class="bare" target="_blank" rel="noopener">https://json-schema.org/specification.html</a> for more information about the JSON schema.
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. See LIP 0046 <a href="https://github.com/LiskHQ/lips/blob/main/proposals/lip-0046.md" target="_blank" rel="noopener">Define state and state transitions of Random module</a> for more information about the Random module.
</div>
</div>
  <nav class="pagination">
  <span class="prev"><a href="../blocks-txs.html">Blocks and Transactions</a></span>
  <span class="next"><a href="plugins.html">Plugins</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="footerdiv">
    <p>© 2023 Lisk Foundation</p>
    <!-- <div class="community-section">
      <p class="community-section__text">Follow Lisk on: </p>
      <div class="community-section__icons"> -->
    <div class="community_icons">
      <a href="https://lisk.chat" title="Discord" target="_blank" class="footer_icon icon-discord"><p>Discord</p></a>
      <a href="https://dev.lisk.com" title="Discourse" target="_blank" class="footer_icon icon-discourse"><p>Discourse</p></a>
      <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer_icon icon-github"><p>GitHub</p></a>
      <!--    </div> -->
    </div>
  </div>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script async src="../../../_/js/vendor/glossary.js"></script>
<script async src="../../../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../../../_/js/vendor/swagger-ui.js"></script>
<script async src="../../../_/js/vendor/component-versions.js"></script>
<script src="../../../_/js/vendor/custom.js"></script>

  </body>
</html>
