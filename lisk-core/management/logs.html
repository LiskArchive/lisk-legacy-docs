<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Activate logging - Lisk  Core  Docs</title>
    <link rel="canonical" href="https://lisk.io/documentation/lisk-core/management/logs.html">
    <meta name="description" content="A guide that explains the log levels and associated messages which can be used for monitoring or debugging a node.">
    <meta name="generator" content="Antora 2.3.1">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/site-extra.css">
      <link rel="stylesheet" href="../../_/css/vendor/docsearch.min.css">
      <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<link rel="icon" href="../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NKNKGHL');</script>
<!-- End Google Tag Manager -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NKNKGHL"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<header class="header">
  <nav class="navbar">
      <div class="navbar-content">
        <div class="navbar-brand">
          <a href="https://lisk.io" title="Lisk.io" class="lisk-logo"></a>
            <span  class="nav-brand__name-area">
              <strong class="nav-brand__name-area__title">Core</strong>
            </span>
          <div class="top-versions page-versions">
  <button class="version-menu-toggle top-version-menu-toggle" title="Show other versions of page">2.1.6 (latest)</button>
  <div class="version-menu">
    <a class="version is-current" href="logs.html">2.1.6 (latest)</a>
    <a class="version" href="../3.0.0/management/logs.html">3.0.0-beta.0</a>
  </div>
</div>
          <button class="navbar-burger" data-target="topbar-nav">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
          <div class="navbar-end">
            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="">Documentations</a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-protocol/">Lisk Protocol</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-sdk/">Lisk SDK</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/">Lisk Core</a>
              </div>
            </div>
            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="">Resources</a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href=""><strong>Lisk Core API</strong></a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/3.0.0/reference/api.html">Betanet</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/reference/api.html">Testnet</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/reference/api-mainnet.html">Mainnet</a>
                <hr class="navbar-divider">
                <a class="navbar-item" href=""><strong>Lisk Network Explorer</strong></a>
                <a class="navbar-item" target="_blank" href="https://betanet-explorer.lisk.io/">Betanet<i class="icofont-external-link"></i></a>
                <a class="navbar-item" target="_blank" href="https://testnet-explorer.lisk.io/">Testnet<i class="icofont-external-link"></i></a>
                <a class="navbar-item" target="_blank" href="https://explorer.lisk.io/">Mainnet<i class="icofont-external-link"></i></a>
              </div>
            </div>
          </div>
            <div class="navbar-menu search-box hide-for-print">
              <input id="search-input" type="text" placeholder="Search">
            </div>
        </div>
        <div class="navbar-item navbar-right">
<!--
          <a href="https://lisk.chat" title="Lisk Chat" target="_blank" class="footer__icon icon-discord-2x"></a>
-->
          <a href="https://github.com/LiskHQ" title="Lisk GitHub" target="_blank" class="footer__icon icon-github-2x"></a>
          <span class="control">
            <a class="button is-primary" target="_blank" title="Lisk Dev Forum" href="https://dev.lisk.io/">Get help</a>
          </span>
        </div>
      </div>
  </nav>
</header>
<div class="body-container">
  <div class="body">
<div class="nav-container" data-component="lisk-core" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Lisk Core</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="1">
    <a class="nav-link" href="#getting-started.adoc">Getting started</a>
  </li>
  <li class="nav-item single-page" data-depth="1">
    <a class="nav-link" href="../interact-with-network.html">Interact with the network</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Setup</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../setup/application.html">Application</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../setup/commander.html">Commander application</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../setup/docker.html">Docker image</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../setup/source.html">Source code</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Management</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="application.html">Application commands</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="commander.html">Commander application commands</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="docker.html">Docker image commands</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="source.html">Source code commands</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="configuration.html">Handle config files</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="api-access.html">Control API access</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="forging.html">Enable forging</a>
  </li>
  <li class="nav-item is-current-page single-page" data-depth="2">
    <a class="nav-link" href="logs.html">Activate logging</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="ssl.html">Enable SSL</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Update</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../update/application.html">Application</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../update/commander.html">Commander application</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../update/docker.html">Docker image</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../update/source.html">Source code</a>
  </li>
</ul>
  </li>
  <li class="nav-item single-page" data-depth="1">
    <a class="nav-link" href="../monitoring.html">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../reference/api-mainnet.html">API (Mainnet)</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../reference/api.html">API (Testnet)</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../reference/config.html">Configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk Core</span>
    <span class="version">2.1.6 (latest)</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Lisk Core</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">2.1.6 (latest)</a>
        </li>
        <li class="version">
          <a href="../3.0.0/index.html">3.0.0-beta.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk Protocol</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../lisk-protocol/index.html">5.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../lisk-sdk/index.html">3.0.2 (latest)</a>
        </li>
        <li class="version">
          <a href="../../lisk-sdk/2.3.8/index.html">2.3.8</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../lisk-sdk/index.html" title="Home" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Lisk Core</a></li>
    <li>Management</li>
    <li><a href="logs.html">Activate logging</a></li>
  </ul>
</nav>
  <div class="page-versions toolbar-versions">
  <button class="version-menu-toggle" title="Show other versions of page">2.1.6 (latest)</button>
  <div class="version-menu">
    <a class="version is-current" href="logs.html">2.1.6 (latest)</a>
    <a class="version" href="../3.0.0/management/logs.html">3.0.0-beta.0</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/docs-core-2.1.6/modules/ROOT/pages/management/logs.adoc"><i class="icofont-ui-edit"></i>Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Activate logging</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>For monitoring or debugging your node, Lisk Core tracks all activities that occur within the node by creating applicable log messages.</p>
</div>
<div class="paragraph">
<p>These log messages are grouped in different log levels.
Hence, this makes it easy to define the level of the log details.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/trentm/node-bunyan">Bunyan</a> is used for the logging library, as this allows simple and fast JSON logging for Node.js services.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_log_levels"><a class="anchor" href="#_log_levels"></a>Log levels</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8%;">
<col style="width: 92%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Log Level</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No events are logged.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal(60)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The node is going to stop or become unusable.
This requires the operator to investigate the problem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error(50)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal for a particular request, however the node continues servicing other requests.
This also requires the operator to investigate the problem, although it does not necessarily require immediate attention.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Warn(40)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A warning indication that should be investigated eventually.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Info(30)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detail on a regular operation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Debug(20)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anything else, i.e. too verbose to be included in <code>info</code> level.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trace(10)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logging from external libraries used by your node, or else very detailed application logging.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_logging_destinations"><a class="anchor" href="#_logging_destinations"></a>Logging destinations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two possible output sources for the logs: The <code><strong>file log stream</strong></code> and the <code><strong>console log stream</strong></code>.
Each output source can be configured independently inside of <code>config.json</code> under the options for the <code>logger</code> component.</p>
</div>
<div class="sect2">
<h3 id="_console_log_stream"><a class="anchor" href="#_console_log_stream"></a>Console log stream</h3>
<div class="paragraph">
<p>The console log level displays the logs directly to the console from where the Lisk Core process is started.
It is useful for quick debugging or verifying that Lisk Core starts correctly.
Default log level for the console log stream is <code>none</code>.</p>
</div>
<div class="paragraph">
<p><strong>An example command displaying the console log stream can be seen below:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">node dist/index.js | npx bunyan  <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Pretty-prints console logs with log level equal or higher to the console log level.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more information regarding the Bunyan CLI tool, please refer to the official <a href="http://trentm.com/node-bunyan/bunyan.1.html">Bunyan Documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="file_log_stream"><a class="anchor" href="#file_log_stream"></a>File log stream</h3>
<div class="paragraph">
<p>All logs that have equal or higher log levels than in the <code>config.json</code> specified file log level are saved in a <code>.log</code>-file for further analysis.
By default, the generated log files are saved inside of the <code>logs</code> folder of Lisk Core.
Default log level for the file log stream is <code>info</code>.</p>
</div>
<div class="paragraph">
<p>The file log stream can be used to <a href="../monitoring.html#log_monitoring" class="page">monitor the node via logs</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="logrotation"><a class="anchor" href="#logrotation"></a>Logrotation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is recommended to set up some form of log rotation for the log files of Lisk Core.
If log rotation is not initiated, then the log files may grow very large over time, (depending on the specified file log level), and hence will eventually exceed the server&#8217;s disk space limits.</p>
</div>
<div class="paragraph">
<p>For example, Ubuntu systems  provide a service called <code>logrotate</code> specifically for this purpose.
Please ensure logrotate is installed on your system as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">logrotate --version</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now go to the logrotate config directory and create a new logrotate file for Lisk Core as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd /etc/logrotate.d
touch lisk</code></pre>
</div>
</div>
<div class="paragraph">
<p>Inside this file, define the parameters for the log rotation.</p>
</div>
<div class="paragraph">
<p>Example values can be seen below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">/path/to/lisk/logs/mainnet/*.log {
        daily                   <i class="conum" data-value="1"></i><b>(1)</b>
        rotate 5                <i class="conum" data-value="2"></i><b>(2)</b>
        maxage 14               <i class="conum" data-value="3"></i><b>(3)</b>
        compress                <i class="conum" data-value="4"></i><b>(4)</b>
        delaycompress           <i class="conum" data-value="5"></i><b>(5)</b>
        missingok               <i class="conum" data-value="6"></i><b>(6)</b>
        notifempty              <i class="conum" data-value="7"></i><b>(7)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Daily rotation.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Keeps the last 5 most recent logs.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Removes logs that are older than 14 days.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Compresses old log files.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Compresses the data after it has been moved.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>If no log file is present, then it is ignored.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Does not rotate empty log files.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After customizing and saving the config to fit your requirements, it is recommended to test it by doing a dry run using the following command listed below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo logrotate /etc/logrotate.conf --debug</code></pre>
</div>
</div>
</div>
</div>
    <div class="bottom-links">
    <div>
      <a class="bottom-link" href="/documentation/lisk-core/management/forging.html"><i class="icofont-double-left icofont-3x"></i>Enable forging
    </a>
    </div><div>
      <a class="bottom-link" href="/documentation/lisk-core/management/ssl.html">Enable SSL<i class="icofont-double-right icofont-3x"></i>
      </a>
    </div>
  </div>






<!--{]> pagination}}-->
</article>
<aside class="article-aside hidden" role="navigation">
</aside>


<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
  </div>
</div>
<footer class="footer">
    <div class="footer__container">
        <div class="footer__copyright">
            <div class="institutional-links-2">
                <span class="institutional-links-2__item">Â© 2020 Lisk Foundation</span>
              <ul class="footer-links">
                <li><a class="institutional-links-2__item" href="https://lisk.io/terms-conditions" class="institutional-links-2-item">Terms & Conditions</a></li>
                <li><a class="institutional-links-2__item" href="https://lisk.io/privacy" class="institutional-links-2-item">Privacy Policy</a></li>
                <li><a class="institutional-links-2__item" href="https://lisk.io/contact" class="institutional-links-2-item">Contact</a></li>
              </ul>
            </div>
            <p class="footer__copyright-text">Lisk is a foundation registered in Zug, Switzerland
            </p>
        </div>
        <div class="footer__logo-container">
            <img src="../../_/img/lisk-logo-light.svg" class="footer__lisk-logo"/>
        </div>
        <div class="community-section">
            <p class="community-section__text">Follow Lisk on: </p>
            <div class="community-section__icons">
                <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer__icon icon-github"></a>
                <a href="https://twitter.com/LiskHQ" title="Twitter" target="_blank" class="footer__icon icon-twitter"></a>
                <a href="https://lisk.chat" title="Discord" target="_blank" class="footer__icon icon-discord"></a>
                <a href="https://www.reddit.com/r/Lisk/" title="Reddit" target="_blank" class="footer__icon icon-reddit"></a>
            </div>
        </div>
    </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script async src="../../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../../_/js/vendor/top-versions.js"></script>
<script async src="../../_/js/vendor/custom.js"></script>
  <script src="../../_/js/vendor/docsearch.min.js"></script>
  <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
  <script>
    function focusSearchInput () { document.querySelector('#search-input').focus() }
    var search = docsearch({
        appId: 'C4SU57KGV9',
      apiKey: '55aa8709b04eb62f08f87571cf77547c',
      indexName: 'lisk-docs-search',
      inputSelector: '#search-input',
      autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
      algoliaOptions: { hitsPerPage: 10 }
    }).autocomplete
    search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
    focusSearchInput()
    window.addEventListener('load', focusSearchInput)
  </script>

  </body>
</html>
