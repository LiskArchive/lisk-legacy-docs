<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Supply Chain :: Lisk documentation</title>
    <link rel="canonical" href="https://lisk.com/documentation/lisk-sdk/v4/tutorials/supply-chain/index.html">
    <link rel="prev" href="../hello-world.html">
    <link rel="next" href="part1.html">
    <meta name="description" content="The Lisk Supply Chain tutorial shows how to build a blockchain application with IoT devices &amp; how to implement a simple trust system.">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://lisk.com/documentation">Lisk documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="lisk-sdk" data-version="v3">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Lisk SDK</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../setup.html">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../guides/index.html">Guides</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Application development</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../guides/app-development/configuration.html">Configure a blockchain application</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../guides/app-development/custom-transactions.html">Create a custom transaction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../guides/app-development/test-transaction.html">Test a transaction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../guides/app-development/interact-with-api.html">Interact with the API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../guides/app-development/broadcast.html">Broadcast a transaction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../guides/app-development/frontend.html">Connect a frontend</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../guides/app-development/launch.html">Launch a blockchain application</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Node management</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../guides/node-management/forging.html">Enable forging</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../guides/node-management/api-access.html">API access</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../guides/node-management/enable-ssl.html">Enable SSL</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../guides/node-management/logging.html">Logging</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../index.html">Tutorials</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hello-world.html">Hello World</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Supply Chain</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="part1.html">Part 1: Installation &amp; setup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="part2.html">Part 2: Track a packet on the blockchain</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="part3.html">Part 3: A simple supply chain management system</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="part4.html">Part 4: How to publish the application</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../references/index.html">References</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../references/api-specification.html">API specification</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../references/config.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../references/changelog.html">Developer changelog</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../references/lisk-commander/index.html">Lisk Commander</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../references/lisk-commander/commands.html">Commands</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../references/lisk-commander/lisk-core-commands.html">Lisk Core commands</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../references/lisk-commander/sensitive-inputs.html">Sensitive inputs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../references/lisk-elements/index.html">Lisk Elements</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../references/lisk-elements/api-client.html">API client</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../references/lisk-elements/api-client/accounts.html">Accounts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../references/lisk-elements/api-client/blocks.html">Blocks</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../references/lisk-elements/api-client/dapps.html">DApps</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../references/lisk-elements/api-client/delegates.html">Delegates</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../references/lisk-elements/api-client/node.html">Node</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../references/lisk-elements/api-client/peers.html">Peers</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../references/lisk-elements/api-client/signatures.html">Signatures</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../references/lisk-elements/api-client/transactions.html">Transactions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../references/lisk-elements/api-client/voters.html">Voters</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../references/lisk-elements/api-client/votes.html">Votes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/client.html">Client</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/constants.html">Constants</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/cryptography.html">Cryptography</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/p2p.html">P2P</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/passphrase.html">Passphrase</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/transaction-pool.html">Transaction pool</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/transactions.html">Transactions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/validator.html">Validator</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../references/lisk-framework/index.html">Lisk Framework</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk SDK</span>
    <span class="version">3.0.2</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../lisk-core/index.html">Lisk Core</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../lisk-core/index.html">3.0.3 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../../lisk-core/4.0.0/index.html">4.0.0</a>
        </li>
        <li class="version">
          <a href="../../../../lisk-core/v2/index.html">2.1.7</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../lisk-docs-manual/index.html">Lisk docs manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../lisk-docs-manual/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../index.html">Lisk Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../../index.html">Lisk SDK</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../index.html">5.2.1 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../6.0.0/index.html">6.0.0</a>
        </li>
        <li class="version">
          <a href="../../../v4/index.html">4.0.0</a>
        </li>
        <li class="version is-current">
          <a href="../../index.html">3.0.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../lisk-service/index.html">Lisk Service</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../lisk-service/index.html">0.5.0 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../../lisk-service/0.6.0/index.html">0.6.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Lisk SDK</a></li>
    <li><a href="../index.html">Tutorials</a></li>
    <li><a href="index.html">Supply Chain</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">3.0.2</button>
  <div class="version-menu">
    <a class="version is-missing" href="../../../index.html">5.2.1 (latest)</a>
    <a class="version is-missing" href="../../../6.0.0/index.html">6.0.0</a>
    <a class="version" href="../../../v4/tutorials/supply-chain/index.html">4.0.0</a>
    <a class="version is-current" href="index.html">3.0.2</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/docs-sdk-3.0.2/modules/ROOT/pages/tutorials/supply-chain/index.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Supply Chain</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#motivation">Motivation</a></li>
<li><a href="#objective">Objective</a></li>
<li><a href="#procedure">General procedure</a>
<ul class="sectlevel2">
<li><a href="#initialize-packet-account">Initialize packet account</a></li>
<li><a href="#register-packet">Register packet</a></li>
<li><a href="#start-transport">Start transport</a></li>
<li><a href="#light-alarm">Light alarm</a></li>
<li><a href="#finish-transport">Finish transport</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="motivation"><a class="anchor" href="#motivation"></a>Motivation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Blockchain has the ability to massively benefit both the supply chain and transport industries, by introducing a new level of data transparency and responsiveness that helps to improve processes and attract potential clients.
Applying blockchain to certain supply chains can benefit the primary producer right down to the end consumer, including all other ancillary parties in between; and furthermore also providing enhanced insights into the entire process.</p>
</div>
<div class="paragraph">
<p>The blockchain network is the decentralised database layer that stores all relevant information about both the supply chain and the products, and furthermore ensures that the data cannot be manipulated once it is stored on the blockchain.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="objective"><a class="anchor" href="#objective"></a>Objective</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The goal here is to create a simple decentralized supply chain tracking system.
The participants of the network can send, transport, and receive packets with each other.</p>
</div>
<div class="paragraph">
<p>For the transportation of the packet, a simple trust system is implemented that enables the sender to set certain requirements for the carrier of the packet.
The packet will be an active participant in the transportation process, as it will track itself with sensors during the transportation.
This is done to ensure that it has not been manipulated during the transport.</p>
</div>
<div class="paragraph">
<p>The carrier will be rewarded upon the successful transportation, and penalized if the transportation has failed for some reason.</p>
</div>
<div class="paragraph">
<p>For convenient usage of the system, a client application called Lisk Transport will be provided that visualizes all relevant information regarding the supply chain tracking system. In turn the Lisk Transport application enables the users to interact with the system by posting custom transactions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="procedure"><a class="anchor" href="#procedure"></a>General procedure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The diagram shown below describes the general workflow and description of each step of the supply chain tracking system:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/transport-flow.png" alt="Flow chart of Lisk Transport">
</div>
</div>
<div class="sect2">
<h3 id="initialize-packet-account"><a class="anchor" href="#initialize-packet-account"></a>Initialize packet account</h3>
<div class="paragraph">
<p>Before registering the packet on the network, the sender needs to create a new account for the packet and store the passphrase on the IoT device inside the packet.
This is necessary because the packet needs to sign the transactions it sends to the network in order to communicate with it.</p>
</div>
</div>
<div class="sect2">
<h3 id="register-packet"><a class="anchor" href="#register-packet"></a>Register packet</h3>
<div class="paragraph">
<p>The packets are registered on the blockchain network by the packet sender.</p>
</div>
<div class="paragraph">
<p>When creating the <code>RegisterPacketTransaction</code>, the sender defines the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>packetId</code>: The ID of the packet that has been initialized in the previous step.</p>
</li>
<li>
<p><code>postage</code>: This amount will be paid to the carrier for the transport of the packet.</p>
</li>
<li>
<p><code>security</code>: The security is the amount of tokens that will be locked in the carrier&#8217;s account, when the carrier receives the packet form the sender.</p>
</li>
<li>
<p><code>minTrust</code>: The minimum amount of trust a carrier requires in order to transport this packet.</p>
</li>
<li>
<p><code>recipientId</code>: The ID of the desired recipient of the packet.
Only the recipient can send the <code>FinishTransaction</code> later, which will complete the transport.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This transaction will then perform the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add the above data to the packet account.</p>
</li>
<li>
<p>Set the <code>status</code> of the packet to <code>pending</code>.</p>
</li>
<li>
<p>Transfer the postage from the sender&#8217;s account to the packet account.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="start-transport"><a class="anchor" href="#start-transport"></a>Start transport</h3>
<div class="paragraph">
<p>The next step would be for the carrier to go to the packet sender&#8217;s address, then receive the packet and start the delivery to the recipient.
The carrier needs to sign a transaction <code>StartTransportTransaction</code>, that verifies that the packet has been passed on to the carrier.</p>
</div>
<div class="paragraph">
<p>When creating the <code>StartTransportTransaction</code>, the carrier defines the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>packetID</code>: The ID of the packet that the carrier is going to transport.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This transaction will then perform the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Lock the specified <code>security</code> of the packet in the carrier&#8217;s account.
This security cannot be accessed by the carrier, unless the transport has been successfully completed.</p>
</li>
<li>
<p>Add the <code>carrier</code> to the packet account.</p>
</li>
<li>
<p>Set the <code>status</code> of the packet from <code>pending</code> to <code>ongoing</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="light-alarm"><a class="anchor" href="#light-alarm"></a>Light alarm</h3>
<div class="paragraph">
<p>During the transportation of the packet, it will track itself with different sensors in order to check if it has been manipulated during the transportation phase.
If any manipulation has occured, then the packet will send a self-signed alarm transaction to the network.</p>
</div>
<div class="paragraph">
<p>This <code>LightAlarmTransaction</code> will perform the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Change the packet&#8217;s <code>status</code> to <code>alarm</code>.</p>
</li>
<li>
<p>Add the current <code>timestamp</code> to the list <code>asset.alarms.light</code> inside of the packet account.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="finish-transport"><a class="anchor" href="#finish-transport"></a>Finish transport</h3>
<div class="paragraph">
<p>When reaching the recipient of the packet, the carrier passes the packet to the recipient.
The recipient needs to sign the <code>FinishTransportTransaction</code>.
This verifies that the packet has been sent on to the recipient.</p>
</div>
<div class="paragraph">
<p>When sending the transaction, the recipient needs to specify the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>packetID</code>: The ID of the packet that the recipient received.</p>
</li>
<li>
<p><code>status</code>: The status of the transport, which has 2 options: <code>"success"</code> or <code>"fail"</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This transaction will perform the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>status="success"</code></p>
<div class="ulist">
<ul>
<li>
<p>Send <code>postage</code> to carrier account.</p>
</li>
<li>
<p>Unlock <code>security</code> in carrier account.</p>
</li>
<li>
<p>Increase <code>trust</code> of carrier +1.</p>
</li>
<li>
<p>Set packet <code>status</code> to <code>success</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If <code>status="fail"</code></p>
<div class="ulist">
<ul>
<li>
<p>Send <code>postage</code> to sender account.</p>
</li>
<li>
<p>Add <code>security</code> to the sender account, and nullify <code>lockedSecurity</code> from the account for the carrier.</p>
</li>
<li>
<p>Decrease <code>trust</code> of carrier by -1.</p>
</li>
<li>
<p>Set packet <code>status</code> to <code>fail</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<a href="part1.html" class="xref page">Click here to go to the installation guide</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../hello-world.html">Hello World</a></span>
  <span class="next"><a href="part1.html">Part 1: Installation &amp; setup</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
