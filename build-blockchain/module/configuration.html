<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>How to create a module configuration :: Lisk documentation</title>
    <link rel="canonical" href="https://lisk.com/documentation/build-blockchain/module/configuration.html">
    <link rel="prev" href="index.html">
    <link rel="next" href="stores.html">
    <meta name="generator" content="Antora 3.1.1">

  <link id="theme" rel="stylesheet" title="Default" href="../../_/css/site.css">
  <link rel="stylesheet" title="Dark" href="../../_/css/dark-site.css">

    <script>var uiRootPath = '../../_'</script>
    <script src="../../_/js/vendor/medium-zoom.js"></script>
    <script type="text/javascript" id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="e4db29b5-cd94-4bcf-87e4-04f4ca564240" data-blockingmode="manual"></script>

<link rel="icon" href="../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="top-logo">
        <a href="../.." class="lisk-logo"></a>
        <a href="../.." class="docs-logo"></a>
      </div>
      <!--<a class="navbar-item" href="https://lisk.com/documentation">Lisk documentation</a>-->
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">APIs</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../api/lisk-node-http.html">Lisk node HTTP API</a>
            <a class="navbar-item" href="../../api/lisk-node-rpc.html">Lisk node RPC API</a>
            <a class="navbar-item" href="../../api/lisk-service-http.html">Lisk Service HTTP API</a>
            <a class="navbar-item" href="../../api/lisk-service-rpc.html">Lisk Service RPC API</a>
            <a class="navbar-item" href="../../api/lisk-service-pubsub.html">Lisk Service Pub/Sub API</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Explorers</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://lisk.observer/" target="_blank">Lisk Observer</a>
            <a class="navbar-item" href="https://liskscan.com/" target="_blank">LiskScan</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../lisk-sdk/">Lisk SDK</a>
            <a class="navbar-item" href="../../lisk-service/">Lisk Service</a>
            <a class="navbar-item" href="../../lisk-core/">Lisk Core</a>
            <a class="navbar-item" href="https://lisk.com/wallet" target="_blank">Lisk Wallets</a>
          </div>
        </div>
        <button onclick="switch_style('toggle')" id="theme-toggle" class="theme-toggle navbar-item"></button>
        <!-- <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div> -->
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
  <div class="components-versions">
      <div class="page-components">
    <button class="component-menu-toggle" title="Show other documentations">Lisk Documentation</button>
    <div class="component-menu">
        <a class="component" href="../../lisk-core/index.html">Lisk Core</a>
        <a class="component" href="../../lisk-docs-manual/index.html">Lisk docs manual</a>
        <a class="component is-current" href="../../index.html">Lisk Documentation</a>
    </div>
  </div>
    <span></span>
      </div>
  <span></span>
  <span></span>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Lisk Documentation</a></li>
    <li><a href="../index.html">Build Blockchain</a></li>
    <li><a href="index.html">How to create a module</a></li>
    <li><a href="configuration.html">1. How to create a module configuration</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/1519-create-module-guide/docs/modules/ROOT/pages/build-blockchain/module/configuration.adoc"><img class="pencil">Edit this Page</a></div>
  </div>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Lisk Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../intro/what-is-blockchain.html">What is blockchain?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../intro/how-blockchain-works.html">How blockchain works</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../intro/blockchain-scalability.html">Blockchain Scalability</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../intro/lisk-products.html">Lisk products</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../../understand-blockchain/index.html">Understand Lisk Blockchain</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../understand-blockchain/state-machine.html">State machine</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../../understand-blockchain/consensus/index.html">Consensus protocols</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../understand-blockchain/consensus/dpos-poa.html">Block generator selection algorithms</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../understand-blockchain/consensus/bft.html">Lisk BFT</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../understand-blockchain/consensus/certificates.html">Lisk Certificates</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../../understand-blockchain/interoperability/index.html">Lisk Interoperability</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../understand-blockchain/interoperability/communication.html">Cross-chain communication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../understand-blockchain/interoperability/sidechain-registration-and-recovery.html">Sidechain Registration &amp; Recovery</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../understand-blockchain/blocks-txs.html">Blocks and Transactions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../understand-blockchain/sdk/modules-commands.html">Modules and Commands</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../understand-blockchain/sdk/plugins.html">Plugins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../understand-blockchain/sdk/rpc.html">Communicating to a Lisk node via RPC</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../understand-blockchain/sdk/codec-schema.html">Codec &amp; schema</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../index.html">Build Blockchain</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../create-blockchain-app.html">Creating a new blockchain application</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="index.html">How to create a module</a>
        </span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="configuration.html">1. How to create a module configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="stores.html">2. How to create stores</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="command.html">3. How to create a command</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="endpoints-methods.html">4. How to create endpoints and methods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="blockchain-event.html">5. How to create a blockchain event</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../create-genesis-block.html">How to create a new genesis block</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../create-plugin.html">Creating a new plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration.html">How to configure a blockchain application</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../../run-blockchain/index.html">Run Blockchain</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../run-blockchain/forging.html">Enabling forging</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../integrate-blockchain/index.html">Integrate Blockchain</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../api/lisk-node-rpc.html">RPC API for Lisk nodes</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Products</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../lisk-core/index.html">Lisk Core</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../bug-bounty-program.html">Lisk Bug Bounty Program</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../glossary.html">Glossary</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk Documentation</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../lisk-core/index.html">Lisk Core</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../lisk-core/index.html">3.0.4 (latest)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../lisk-docs-manual/index.html">Lisk docs manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../lisk-docs-manual/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../index.html">Lisk Documentation</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">How to create a module configuration</h1>
<div id="preamble">
<div class="sectionbody">
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>On this page, you&#8217;ll learn how to:</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Define a config schema for a module</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> Set a default module config</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> Set custom configurations for a module</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> Make module configurations accessible inside the command of a module</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>To allow the developer to configure a module in the <code>config.json</code> file, create the corresponding configuration schema and pass the values to the module in the <code>init()</code> method of the module.</p>
</div>
<div class="paragraph">
<p>This allows to overwrite the default configurations of a module conveniently by updating the <code>config.json</code> file of the Hello client.</p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#define-a-module-schema">Define a module schema</a></li>
<li><a href="#define-a-custom-module-configuration">Define a custom module configuration</a></li>
<li><a href="#initialize-the-module-config">Initialize the module config</a></li>
<li><a href="#use-the-config-values-in-the-command">Use the config values in the command</a></li>
<li><a href="#testing-the-custom-module-config">Testing the custom module config</a></li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="define-a-module-schema"><a class="anchor" href="#define-a-module-schema"></a>Define a module schema</h2>
<div class="sectionbody">
<div class="paragraph">
<p>At first, define a default configuration inside of <code>module.ts</code>.
This configuration values will be used, if no custom values are set by the developer in <code>config.json</code>.</p>
</div>
<div class="paragraph">
<p>For the Hello module, we want to provide configuration options for the following values:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>maximum Hello message length</p>
</li>
<li>
<p>minimum Hello message length</p>
</li>
<li>
<p>List of blacklisted words</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Therefore, we define the module default config as follows:</p>
</div>
<div class="listingblock">
<div class="title">/hello/module.ts</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export const defaultConfig = {
    maxMessageLength: 256,
    minMessageLength: 3,
    blacklist: ["illegalWord1"]
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>In our example, we define the following default config:</p>
</div>
<div class="olist arabic">
<div class="title">Default config values</div>
<ol class="arabic">
<li>
<p>maximum Hello message length: 256</p>
</li>
<li>
<p>minimum Hello message length: 3</p>
</li>
<li>
<p>List of blacklisted words: "illegalWord1"</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once the default config is created, define the corresponding module config interface in <code>types.ts</code>:</p>
</div>
<div class="listingblock">
<div class="title">hello/types.ts</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { JSONObject } from 'lisk-sdk';

export interface ModuleConfig {
    maxMessageLength: number;
    minMessageLength: number;
    blacklist: string[];
}

export type ModuleConfigJSON = JSONObject&lt;ModuleConfig&gt;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The config schema is required to validate the module config defined in <code>config.json</code>, so add the respective config schema to <code>schema.ts</code> as well:</p>
</div>
<div class="listingblock">
<div class="title">/hello/schema.ts</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export const configSchema = {
    $id: '/hello/config',
    type: 'object',
    properties: {
        maxMessageLength: {
            dataType: 'uint32',
            fieldNumber: 1,
        },
        minMessageLength: {
            dataType: 'uint32',
            fieldNumber: 2,
        },
        blacklist: {
            type: 'array',
            fieldNumber: 3,
            items: {
                dataType: 'string',
                minLength: 1,
                maxLength: 40,
            },
        },
    },
    required: [
        'maxMessageLength',
        'minMessageLength',
        'blacklist'
    ],
};</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="define-a-custom-module-configuration"><a class="anchor" href="#define-a-custom-module-configuration"></a>Define a custom module configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now, open the configuration file and add the config option for the Hello module like this:</p>
</div>
<div class="listingblock">
<div class="title">custom_config.json</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  // [...]
  "modules": {
    "hello": {
      "maxMessageLength": 300,
      "minMessageLength": 5,
      "blacklist": ["illegalWord1", "badWord2", "censoredWord3"]
    }
  },
  "plugins": {}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example, we increase the max message length to <code>300</code>, the min message length to <code>5</code>, and we add two additional words to the blacklist: <code>badWord2</code> and <code>censoredWord3</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="initialize-the-module-config"><a class="anchor" href="#initialize-the-module-config"></a>Initialize the module config</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To make the custom config that we defined in the previous step <a href="#define-a-custom-module-configuration">Define a custom module configuration</a> accessible in the module, retieve the config option in the <code>init()</code> method like so:</p>
</div>
<div class="listingblock">
<div class="title">/hello/module.ts</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import {
    BaseModule, BlockAfterExecuteContext, BlockExecuteContext, BlockVerifyContext,
    GenesisBlockExecuteContext, InsertAssetContext, ModuleInitArgs,
    ModuleMetadata, TransactionExecuteContext, TransactionVerifyContext,
    VerificationResult, codec, utils
} from 'lisk-sdk';
import { validator } from '@liskhq/lisk-validator';
import { createHelloSchema, CreateHelloParams, configSchema } from './schema';
import { ModuleConfigJSON } from './types';
// [...]
export const defaultConfig = {
	blacklist: ["illegalWord1"],
	maxMessageLength: 256,
	minMessageLength: 3
};

export class HelloModule extends BaseModule {
    // [...]

    public async init(args: ModuleInitArgs): Promise&lt;void&gt; {
        // Get the module config defined in the config.json file
        const { moduleConfig } = args;
        // Overwrite the default module config with values from config.json, if set
        const config = utils.objects.mergeDeep({}, defaultConfig, moduleConfig) as ModuleConfigJSON;
        // Validate the provided config with the config schema
        validator.validate(configSchema, config);
        // Call the command init() method with config as parameter
        this.commands[0].init(config).catch(err =&gt; {
            console.log("Error: ", err);
        });
    }
    // [...]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The custom config is merged with the default config.
This will overwrite every value of the default config with the value of the custom config, if it is set.
If no value is set in the custom config, it will use the value of the default config.</p>
</div>
<div class="paragraph">
<p>Once the configs are merged, the module config is validated against the config schema defined in step <a href="#define-a-module-schema">Define a module schema</a>.</p>
</div>
<div class="paragraph">
<p>As a last step, the config values are passed to the command by calling the commands' <code>init()</code> method, with the config as parameter.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-the-config-values-in-the-command"><a class="anchor" href="#use-the-config-values-in-the-command"></a>Use the config values in the command</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the command, create a new method <code>init()</code> to update the command blacklist and schema wih the values from the module config.</p>
</div>
<div class="listingblock">
<div class="title">/hello/command/create_hello_command.ts</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">// [...]
export class CreateHelloCommand extends BaseCommand {
    public schema = createHelloSchema;
    // Create private attribute _blacklist
    private _blacklist!: string[];

    // Create init() method for command
    public async init(config: ModuleConfig): Promise&lt;void&gt; {
		// Set _blacklist to the value of the blacklist defined in the module config
		this._blacklist = config.blacklist;
		// Set the max message length to the value defined in the module config
		this.schema.properties.message.maxLength = config.maxMessageLength;
		// Set the min message length to the value defined in the module config
		this.schema.properties.message.minLength = config.minMessageLength;
		console.log("this.schema: ", this.schema);
	}
    // [...]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-the-custom-module-config"><a class="anchor" href="#testing-the-custom-module-config"></a>Testing the custom module config</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As a final step, let&#8217;s verify that the config options which we defined in <code>custom_config.json</code> in step <a href="#define-a-custom-module-configuration">Define a custom module configuration</a> are really used during the verification of a command.</p>
</div>
<div class="paragraph">
<p>For this, we create a transaction, similar to how it is done in <a href="command.html#try-the-new-command-out" class="xref page">How to create a command &#8594; Try the new command out</a>.
But in this case, we want the transaction to be invalid, to verify it is using the custom module config.
Therefore, it should violate at least one of the three command validations:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>minimum Hello message Length: 5</p>
</li>
<li>
<p>maximum Hello message Length: 300</p>
</li>
<li>
<p>the Hello message contains none of the blacklisted words</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In the root folder of the Hello client, execute the following steps in the terminal:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Rebuild the client:</p>
<div class="literalblock">
<div class="content">
<pre>npm run build</pre>
</div>
</div>
</li>
<li>
<p>Start the client:</p>
<div class="literalblock">
<div class="content">
<pre>./bin/run start --config=config/custom_config.json</pre>
</div>
</div>
</li>
<li>
<p>In another terminal window, create the transaction:</p>
<div class="literalblock">
<div class="content">
<pre>% ./bin/run transaction:create hello createHello 10000000 --params='{"message":"foo"}' --json --key-derivation-path="m/44'/134'/0'" --pretty</pre>
</div>
</div>
<div class="paragraph">
<p>With the message <code>foo</code>, we go below the minimum message length which we defined as <code>5</code> in <code>custom_config.json</code>, to test if the command fails in the verification, as expected.
Alternatively, you can include a word from the blacklist in the message, or exceed the maximum message length, to make the transaction invalid.</p>
</div>
<div class="paragraph">
<p>Use the password contained in the file <code>config/default/passphrase.json</code> when prompted for it.
You can ignore the warning <code>Warning: Passphrase contains 24 words instead of expected 12. Passphrase contains 23 whitespaces instead of expected 11.</code>
The output of the command looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">{
  "transaction": "0a0568656c6c6f120b63726561746548656c6c6f18002080ade2042a205412b41c5bf15b68c779c87fc44baafdf5d2301556227a91a60599b86b4ab51e322b0a2968692c2074686973206973206120746573742c20696c6c6567616c576f726420616e6420736f206f6e3a400cd91d8980e057b87186563def7ec3c33d4c00cab40dcaadd222d8e4ddc95402edfafd6e4f387ef7cb4eca88b36c8dd774448163388d08c4c1522efd5bc23102"
}
{
  "transaction": {
    "module": "hello",
    "command": "createHello",
    "fee": "10000000",
    "nonce": "0",
    "senderPublicKey": "5412b41c5bf15b68c779c87fc44baafdf5d2301556227a91a60599b86b4ab51e",
    "signatures": [
      "0cd91d8980e057b87186563def7ec3c33d4c00cab40dcaadd222d8e4ddc95402edfafd6e4f387ef7cb4eca88b36c8dd774448163388d08c4c1522efd5bc23102"
    ],
    "params": {
      "message": "foo"
    },
    "id": "7ffb4283f0ecc765b7ddb1494e97c22471e136824b437594945f0a8224bc7abf"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first object is the transaction in binary format, and the second object is the same transaction in JSON format, because we added the flags <code>--json</code> and <code>pretty</code>.</p>
</div>
</li>
<li>
<p>Send the transaction:
Use the transaction in binary format to post the transaction to the node like shown below.
Note: When you use <code>curl</code>, make sure you have <code>http</code> enabled in the config under <code>rpc.modes</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl --location --request POST 'http://localhost:7887/rpc' \
--header 'Content-Type: application/json' \
--data-raw '{
    "jsonrpc": "2.0",
    "id": "1",
    "method": "txpool_postTransaction",
    "params": {
        "transaction": "0a0568656c6c6f120b63726561746548656c6c6f18002080ade2042a205412b41c5bf15b68c779c87fc44baafdf5d2301556227a91a60599b86b4ab51e322b0a2968692c2074686973206973206120746573742c20696c6c6567616c576f726420616e6420736f206f6e3a400cd91d8980e057b87186563def7ec3c33d4c00cab40dcaadd222d8e4ddc95402edfafd6e4f387ef7cb4eca88b36c8dd774448163388d08c4c1522efd5bc23102"
    }
}'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Because the message length is below to minimum message length we defined in <code>custom_config.json</code>, the command verification fails and the node returns the following response, indicating that the transaction was not accepted:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "jsonrpc": "2.0",
    "id": "1",
    "error": {
        "message": "Transaction verification failed.",
        "code": -32600
    }
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="index.html">How to create a module</a></span>
  <span class="next"><a href="stores.html">2. How to create stores</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="footerdiv">
    <p>© 2022 Lisk Foundation</p>
    <!-- <div class="community-section">
      <p class="community-section__text">Follow Lisk on: </p>
      <div class="community-section__icons"> -->
    <div class="community_icons">
        <a href="https://lisk.chat" title="Discord" target="_blank" class="footer_icon icon-discord"><p>Discord</p></a>
        <a href="https://dev.lisk.com" title="Discourse" target="_blank" class="footer_icon icon-discourse"><p>Discourse</p></a>
        <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer_icon icon-github"><p>GitHub</p></a>
  <!--    </div> -->
    </div>
  </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script async src="../../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../../_/js/vendor/swagger-ui.js"></script>
<script async src="../../_/js/vendor/component-versions.js"></script>
<script src="../../_/js/vendor/custom.js"></script>
  </body>
</html>
