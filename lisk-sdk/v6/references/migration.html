<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SDK Migration Guide :: Lisk documentation</title>
    <link rel="canonical" href="https://lisk.com/documentation/lisk-sdk/v6/references/migration.html">
    <link rel="prev" href="../plugins/report-misbehavior-plugin.html">
    <link rel="next" href="lisk-commander/index.html">
    <meta name="generator" content="Antora 3.1.1">

  <link id="theme" rel="stylesheet" title="Default" href="../../../_/css/site.css">
  <link rel="stylesheet" title="Dark" href="../../../_/css/dark-site.css">

    <script>var uiRootPath = '../../../_'</script>
    <script src="../../../_/js/vendor/medium-zoom.js"></script>
    <script type="text/javascript" id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="e4db29b5-cd94-4bcf-87e4-04f4ca564240" data-blockingmode="manual"></script>

<link rel="icon" href="../../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="top-logo">
        <a href="../../.." class="lisk-logo"></a>
        <a href="../../.." class="docs-logo"></a>
      </div>
      <!--<a class="navbar-item" href="https://lisk.com/documentation">Lisk documentation</a>-->
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">APIs</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../api/lisk-node-http.html">Lisk node HTTP API</a>
            <a class="navbar-item" href="../../../api/lisk-node-rpc.html">Lisk node RPC API</a>
            <a class="navbar-item" href="../../../api/lisk-service-http.html">Lisk Service HTTP API</a>
            <a class="navbar-item" href="../../../api/lisk-service-rpc.html">Lisk Service RPC API</a>
            <a class="navbar-item" href="../../../api/lisk-service-pubsub.html">Lisk Service Pub/Sub API</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Explorers</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://lisk.observer/" target="_blank">Lisk Observer</a>
            <a class="navbar-item" href="https://liskscan.com/" target="_blank">LiskScan</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../lisk-sdk/">Lisk SDK</a>
            <a class="navbar-item" href="../../../lisk-service/">Lisk Service</a>
            <a class="navbar-item" href="../../../lisk-core/">Lisk Core</a>
            <a class="navbar-item" href="https://lisk.com/wallet" target="_blank">Lisk Wallets</a>
          </div>
        </div>
        <button onclick="switch_style('toggle')" id="theme-toggle" class="theme-toggle navbar-item"></button>
        <!-- <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div> -->
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
  <div class="components-versions">
      <div class="page-components">
    <button class="component-menu-toggle" title="Show other documentations">Lisk SDK</button>
    <div class="component-menu">
        <a class="component" href="../../../lisk-core/index.html">Lisk Core</a>
        <a class="component" href="../../../lisk-docs-manual/index.html">Lisk docs manual</a>
        <a class="component" href="../../../index.html">Lisk Documentation</a>
        <a class="component is-current" href="../../index.html">Lisk SDK</a>
        <a class="component" href="../../../lisk-service/index.html">Lisk Service</a>
    </div>
  </div>
    <span></span>
    <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">6.0.0 (beta)</button>
  <div class="version-menu">
    <a class="version is-missing" href="../../index.html">5.2.2 (latest)</a>
    <a class="version is-current" href="migration.html">6.0.0 (beta)</a>
  </div>
</div>
  </div>
  <span></span>
  <span></span>
  <a href="../../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Lisk SDK</a></li>
    <li>References</li>
    <li><a href="migration.html">SDK Migration Guide</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/1176-migration-guide/modules/ROOT/pages/references/migration.adoc"><img class="pencil">Edit this Page</a></div>
  </div>
<div class="body">
<div class="nav-container" data-component="lisk-sdk" data-version="v6">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Lisk SDK</a></h3>
<ul class="nav-list">
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Lisk SDK</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../application-cli.html">Application CLI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../config.html">Application configuration</a>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../modules/index.html">Modules</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/token-module.html">Token module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/dpos-module.html">DPoS module</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../plugins/index.html">Plugins</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/dashboard-plugin.html">Dashboard plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/faucet-plugin.html">Faucet plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/forger-plugin.html">Forger plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/monitor-plugin.html">Monitor plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/report-misbehavior-plugin.html">Report misbehavior plugin</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">References</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="migration.html">SDK Migration Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-framework" target="_blank" rel="noopener">Lisk Framework</a></span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-framework/modules/testing.html" target="_blank" rel="noopener">Testing utilities</a></span>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="lisk-commander/index.html">Lisk Commander</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lisk-commander/cli.html">Command-Line-Interface</a>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-commander" target="_blank" rel="noopener">Commands</a></span>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lisk-commander/sensitive-inputs.html">Sensitive inputs</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="lisk-elements/index.html">Lisk Elements</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-client" target="_blank" rel="noopener">lisk-client</a></span>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-elements/modules/apiClient" target="_blank" rel="noopener">lisk-api-client</a></span>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-elements/modules/chain" target="_blank" rel="noopener">lisk-chain</a></span>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-elements/modules/codec" target="_blank" rel="noopener">lisk-codec</a></span>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-elements/modules/cryptography" target="_blank" rel="noopener">lisk-cryptography</a></span>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-elements/modules/p2p" target="_blank" rel="noopener">lisk-p2p</a></span>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-elements/modules/passphrase" target="_blank" rel="noopener">lisk-passphrase</a></span>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-elements/modules/transactionPool" target="_blank" rel="noopener">lisk-transaction-pool</a></span>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-elements/modules/transactions" target="_blank" rel="noopener">lisk-transactions</a></span>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-elements/modules/tree" target="_blank" rel="noopener">lisk-tree</a></span>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-elements/modules/utils" target="_blank" rel="noopener">lisk-utils</a></span>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text"><a href="https://liskhq.github.io/lisk-docs/lisk-sdk/references/typedoc/lisk-elements/modules/validator" target="_blank" rel="noopener">lisk-validator</a></span>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk SDK</span>
    <span class="version">6.0.0 (beta)</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../lisk-core/index.html">Lisk Core</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-core/index.html">3.0.4 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-core/v4/index.html">4.0.0-beta.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../lisk-docs-manual/index.html">Lisk docs manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-docs-manual/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../index.html">Lisk Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../index.html">Lisk SDK</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../index.html">5.2.2 (latest)</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">6.0.0 (beta)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../lisk-service/index.html">Lisk Service</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-service/index.html">0.6.4 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-service/v0.7/index.html">0.7.0 (beta)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">SDK Migration Guide</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#terminology-changes">1. Terminology changes</a></li>
<li><a href="#introduction-of-the-chain-id">2. Introduction of the chain ID</a></li>
<li><a href="#removing-module-command-ids">3. Removing module &amp; command IDs</a></li>
<li><a href="#failed-transactions-are-included-in-blocks">4. Failed transactions are included in blocks</a></li>
<li><a href="#addition-of-blockchain-events">5. Addition of blockchain events</a></li>
<li><a href="#methods-replace-reducers">6. Methods replace reducers</a></li>
<li><a href="#endpoints-replace-actions">7. Endpoints replace actions</a></li>
<li><a href="#migration-of-store-from-v5-to-v6">8. Migration of store from v5 to v6</a></li>
<li><a href="#addition-of-metadata">9. Addition of metadata</a></li>
<li><a href="#removing-account-schema">10. Removing account schema</a></li>
<li><a href="#update-of-how-to-register-module-and-dependencies">11. Update of how to register module and dependencies</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="terminology-changes"><a class="anchor" href="#terminology-changes"></a>1. Terminology changes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">SDKv5 (old)</th>
<th class="tableblock halign-left valign-top">SDKv6 (new)</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forging</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Block generation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forging node</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validator node</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non-forging node</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RPC node</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chain ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blockchain application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sidechain client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blockchain application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sidechain application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Module/Plugin action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Module/Plugin endpoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application event</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RPC event</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RPC endpoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="introduction-of-the-chain-id"><a class="anchor" href="#introduction-of-the-chain-id"></a>2. Introduction of the chain ID</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="removing-module-command-ids"><a class="anchor" href="#removing-module-command-ids"></a>3. Removing module &amp; command IDs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The module and command IDs are removed completely in Lisk SDKv6.</p>
</div>
<div class="paragraph">
<p>Module and command name are used as unique identifiers for modules and commands instead.</p>
</div>
<details>
<summary class="title">Main benefits of this change</summary>
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Improved developer experience</dt>
<dd>
<p>Reduces the number of required properties and uses strings which are more associative than numbers.</p>
</dd>
</dl>
</div>
</div>
</details>
</div>
</div>
<div class="sect1">
<h2 id="failed-transactions-are-included-in-blocks"><a class="anchor" href="#failed-transactions-are-included-in-blocks"></a>4. Failed transactions are included in blocks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Transaction fee is paid for every transaction included in a block.
By including failed transactions in blocks, the transaction fee for a transaction is always paid even if it failed and didn&#8217;t introduce any state changes on the blockchain.</p>
</div>
<div class="paragraph">
<p>To verify, if a transaction which is included in a block was executed successfully, Lisk SDK v6 introduces the <a href="#addition-of-blockchain-events">Addition of blockchain events</a>.</p>
</div>
<details>
<summary class="title">Main benefits of this change</summary>
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Increased rewards for validators</dt>
<dd>
<p>By doing this, validators will still be rewarded for executing the logic of the transaction until the point where it failed.</p>
</dd>
<dt class="hdlist1">Increased security</dt>
<dd>
<p>Additionally, it mitigates the danger of DDoSing sidechains by spamming transactions that will fail, because the transaction fee has to be paid in any case.</p>
</dd>
</dl>
</div>
</div>
</details>
</div>
</div>
<div class="sect1">
<h2 id="addition-of-blockchain-events"><a class="anchor" href="#addition-of-blockchain-events"></a>5. Addition of blockchain events</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Blockchain events</strong> are newly introduced, and <strong>Module events</strong> are completely removed in Lisk SDK v6.</p>
</div>
<div class="paragraph">
<p>Although similar in name, <strong>Blockchain events</strong> follow a completely different approach.
To avoid confusion between the two events, please read the summary below, which is comparing the new and old events inside modules.</p>
</div>
<details>
<summary class="title">Main benefits of this change</summary>
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Required, if failed transactions are included in blocks</dt>
<dd>
<p>As explained above, <a href="#failed-transactions-are-included-in-blocks">Failed transactions are included in blocks</a> in v6.</p>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This means, if you wish to verify that a transaction was successfully executed, it is not sufficient anymore to check, if it is included in a finalized block.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It could happen that the transaction inside a block has failed, and wasn&#8217;t executed on the blockchain.</p>
</div>
<div class="paragraph">
<p>But how to check if the transaction failed, or was executed successfully?
To transmit this information, the <a href="../../../understand-blockchain/sdk/modules-commands.html#standard-event" class="xref page">standard event</a> is emitted for every transaction included in the particular block.
It informs if that particular transaction was successfully executed, or failed.</p>
</div>
<div class="paragraph">
<p>By adding events, it is therefore possible again to check if a transaction was executed successfully.
At the same time, events can store various additional information on-chain, which can be valuable for other services.
Additional events can be defined per module by the sidechain developer.</p>
</div>
</dd>
</dl>
</div>
</div>
</details>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_blockchain-events---sdkv6"></a>Blockchain events - SDKv6</p>
</li>
<li>
<p><a id="tabset1_module-events---sdkv5"></a>Module events - SDKv5</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_blockchain-events---sdkv6">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Description</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blockchain events are introduced newly in Lisk SDK v6.
Blockchain events are still defined and emitted inside the module, but it is not possible to subscribe to them via the RPC API of a node.</p>
<p class="tableblock">Instead, blockchain events are <strong>logged per block</strong>, i.e. directly included in the block header and can be queried through the RPC API of a node by requesting the RPC endpoint <code>chain_getEvents</code>.</p>
<p class="tableblock"><strong>Blockchain events in Lisk SDK v6 are following a concept comparable to the <a href="https://medium.com/mycrypto/understanding-event-logs-on-the-ethereum-blockchain-f4ae7ba50378" target="_blank" rel="noopener">Ethereum event log</a>.</strong></p>
<p class="tableblock">Beside the newly introduced blockchain events, there are still a couple of <a href="../../../understand-blockchain/sdk/rpc.html#rpc-events" class="xref page">RPC events</a> included in the Lisk Framework, which can be retrieved via public-subscribe, as in v5.</p>
<p class="tableblock">The sidechain developer can define new blockchain events per module as desired, but the RPC events are not customizable anymore.
Only new blockchain events can be included in the sidechain client by the developer.</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Purpose</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blockchain events are a way for modules to store important information which is not included in the transactions or block assets, directly inside the block header.</p>
<p class="tableblock">They are part of the overall state of the blockchain, as an event root of all events included in a particular block is stored in the block header.</p>
<p class="tableblock">They can include a lot of additional data, if required, as the events themselves can be removed from the stores of the node after a certain time, and therefore don&#8217;t "pollute" the blockchain itself.</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">public constructor() {
    super();
    // registration of stores and events
    this.events.register(NewHelloEvent, new NewHelloEvent(this.name));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information how to create the corresponding event class, please check out the guide <a href="../../../build-blockchain/module/blockchain-event.html" class="xref page">How to create a blockchain event</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Publishing</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const newHelloEvent = this.events.get(NewHelloEvent);
newHelloEvent.add(context, {
    senderAddress: context.transaction.senderAddress,
    message: context.params.message
},[ context.transaction.senderAddress ]);</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Retrieving</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>In Lisk SDK v6, events are requested per block height after an event is emitted.</p>
</div>
<div class="paragraph">
<p>Retrieving events from a node:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl --location --request POST 'http://localhost:7887/rpc' \
--header 'Content-Type: application/json' \
--data-raw '{
    "jsonrpc": "2.0",
    "id": "1",
    "method": "chain_getEvents",
    "params": {
        "height": 123
    }
}'</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="tab-pane" aria-labelledby="tabset1_module-events---sdkv5">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Description</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Analog to the <a href="../../events.html" class="xref page">application events</a> from v5, module events could be subscribed to via the RPC API of a node.</p>
<p class="tableblock">An event informs services that subscribed to it, if a certain event happened (e.g. a transaction was executed), and often contain additional data, providing more information or context about the event.</p>
<p class="tableblock"><strong>Module events in Lisk SDK v5 follow the <a href="https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern" target="_blank" rel="noopener">publish-subscribe-pattern</a>.</strong></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Purpose</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Events are used to communicate about certain events in real time, and to prevent reoccuring RPC request, just to check if there are any changes.</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">public events = ['newHello'];</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information how to create the corresponding event class, please check out the guide <a href="../../../build-blockchain/module/blockchain-event.html" class="xref page">How to create a blockchain event</a></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Publishing</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">this._channel.publish('hello:newHello', {
    sender: tx.senderAddress.toString('hex'),
    hello: helloAsset.helloString
});</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Retrieving</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>In Lisk SDK v5, events could be subscribed directly via the API client.</p>
</div>
<div class="paragraph">
<p>If an event was missed, there was no way of retrieving the event, after it was emitted by a node.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">client.subscribe('app:block:new', ( data ) =&gt; {
  console.log('new block:',data);
});</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="methods-replace-reducers"><a class="anchor" href="#methods-replace-reducers"></a>6. Methods replace reducers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The module reducers are renamed to <a href="../../../understand-blockchain/sdk/modules-commands.html#methods" class="xref page">methods</a>.</p>
</div>
<div class="paragraph">
<p>Methods in Lisk SDK v6 still have the same purpose as reducers in v5, but beside the name change, they are also defined slightly different, as summarized below:</p>
</div>
<details>
<summary class="title">Main benefits of this change</summary>
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Improved developer experience</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>By providing a base class for the creation of module methods, developers can follow a dedicated pattern to include methods into a module in a straightforward manner.</p>
</li>
<li>
<p>The renaming from reducers to methods was introduced to improve intuitive understanding of the meaning behind this data structure.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</details>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset2_methods---sdkv6"></a>Methods - SDKv6</p>
</li>
<li>
<p><a id="tabset2_reducers---sdkv5"></a>Reducers - SDKv5</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset2_methods---sdkv6">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Method</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Description</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">An interface for module-to-module communication.</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="olist arabic">
<ol class="arabic">
<li>
<p>Define methods in a class which extends from the <code>BaseMethod</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export class TokenMethod extends BaseMethod {

    // ...

	public async getAvailableBalance(
		methodContext: ImmutableMethodContext,
		address: Buffer,
		tokenID: TokenID,
	): Promise&lt;bigint&gt; {
		const canonicalTokenID = await this.getCanonicalTokenID(methodContext, tokenID);
		const userStore = this.stores.get(UserStore);
		try {
			const user = await userStore.get(methodContext, userStore.getKey(address, canonicalTokenID));
			return user.availableBalance;
		} catch (error) {
			if (!(error instanceof NotFoundError)) {
				throw error;
			}
			return BigInt(0);
		}
	}

    // ...
}</code></pre>
</div>
</div>
</li>
<li>
<p>Assign the <code>method</code> attribute of the module to an instance of the Method class, which was created above:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { TokenMethod } from './method';

export class TokenModule extends BaseInteroperableModule {
	public method = new TokenMethod(this.stores, this.events, this.name);
    // ...
}</code></pre>
</div>
</div>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Usage</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { TokenMethod } from '../../../token';

export class SidechainRegistrationCommand extends BaseInteroperabilityCommand {
	public schema = sidechainRegParams;
	private _tokenMethod!: TokenMethod;

	public addDependencies(tokenMethod: TokenMethod) {
		this._tokenMethod = tokenMethod;
	}
    public async verify(
		context: CommandVerifyContext&lt;SidechainRegistrationParams&gt;,
	): Promise&lt;VerificationResult&gt; {
        // ...
        // Sender must have enough balance to pay for extra command fee.
		const availableBalance = await this._tokenMethod.getAvailableBalance(
			context.getMethodContext(),
			senderAddress,
			TOKEN_ID_LSK,
		);
		if (availableBalance &lt; REGISTRATION_FEE) {
            // ...
		}
        // ...
	}
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="tab-pane" aria-labelledby="tabset2_reducers---sdkv5">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Description</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">An interface for module-to-module communication.</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export class TokenModule extends BaseModule {
	// [...]
	public reducers = {
		credit: async (params: Record&lt;string, unknown&gt;, stateStore: StateStore): Promise&lt;void&gt; =&gt; {
			// [...]
		},
		debit: async (params: Record&lt;string, unknown&gt;, stateStore: StateStore): Promise&lt;void&gt; =&gt; {
			// [...]
		},
		getBalance: async (
			params: Record&lt;string, unknown&gt;,
			stateStore: StateStore,
		): Promise&lt;bigint&gt; =&gt; {
			const { address } = params;
			if (!Buffer.isBuffer(address)) {
				throw new Error('Address must be a buffer');
			}
			const account = await stateStore.account.getOrDefault&lt;TokenAccount&gt;(address);
			return account.token.balance;
		}
	};
    // [...]
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Usage</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Reducers can be invoked through the <code>reducerHandler</code>, which is available inside the lifecycle hooks and assets of a module.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">await reducerHandler.invoke("token:debit", {
  address: senderAddress,
  amount: asset.initValue,
});</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="endpoints-replace-actions"><a class="anchor" href="#endpoints-replace-actions"></a>7. Endpoints replace actions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The module actions are renamed to <a href="../../../understand-blockchain/sdk/modules-commands.html#endpoints" class="xref page">endpoints</a>.</p>
</div>
<div class="paragraph">
<p>Endpoints in Lisk SDK v6 still have the same purpose as actions in v5, but beside the name change, they are also defined slightly different, as summarized below:</p>
</div>
<details>
<summary class="title">Main benefits of this change</summary>
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Improved developer experience</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>By providing a base class for the creation of module endpoints, developers can follow a dedicated pattern to include endpoints into a module in a straightforward manner.</p>
</li>
<li>
<p>The renaming from actions to endpoints was introduced to improve intuitive understanding of the meaning behind this data structure.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</details>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset3_endpoints---sdkv6"></a>Endpoints - SDKv6</p>
</li>
<li>
<p><a id="tabset3_actions---sdkv5"></a>Actions - SDKv5</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset3_endpoints---sdkv6">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endpoints</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Description</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">An interface between a module and an external system via an RPC endpoint.</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { BaseEndpoint, ModuleEndpointContext, cryptography } from 'lisk-sdk';
import { MessageStore, MessageStoreData } from './stores/message';

export class HelloEndpoint extends BaseEndpoint {
    public async getHello(ctx: ModuleEndpointContext): Promise&lt;MessageStoreData&gt; {
        // 1. Get message store
        const messageSubStore = this.stores.get(MessageStore);
        // 2. Get the address from the endpoint params
        const { address } = ctx.params;
        // 3. Validate address
        if (typeof address !== 'string') {
            throw new Error('Parameter address must be a string.');
        }
        cryptography.address.validateLisk32Address(address);
        // 4. Get the Hello message for the address from the message store
        const helloMessage = await messageSubStore.get(
            ctx,
            cryptography.address.getAddressFromLisk32Address(address),
        );
        // 5. Return the Hello message
        return helloMessage;
    }
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Usage</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl --location --request GET 'http://localhost:7887/rpc' \
--header 'Content-Type: application/json' \
--data-raw '{
    "jsonrpc": "2.0",
    "id": "1",
    "method": "hello_getHello",
    "params": {
        "address": "lskuz5p98kz3mqzxnu68qdrjxtvdvr2o7pprtj4yv"
    }
}'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">const data = await client.invoke('namespace_endpointName', input);
console.log(data);</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="tab-pane" aria-labelledby="tabset3_actions---sdkv5">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Description</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export class HelloModule extends BaseModule {

    // ...

    public actions = {
        amountOfHellos: async () =&gt; {
            const res = await this._dataAccess.getChainState(CHAIN_STATE_HELLO_COUNTER);
            const count = codec.decode(
                helloCounterSchema,
                res
            );
            return count;
        },
    };

    // ...
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Usage</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">const data = await client.invoke('app:actionName', input);</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="migration-of-store-from-v5-to-v6"><a class="anchor" href="#migration-of-store-from-v5-to-v6"></a>8. Migration of store from v5 to v6</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 44.4444%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">SDKv5</th>
<th class="tableblock halign-left valign-top">SDKv6</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Description</p></th>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></th>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Usage</p></th>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="addition-of-metadata"><a class="anchor" href="#addition-of-metadata"></a>9. Addition of metadata</h2>
<div class="sectionbody">
<details>
<summary class="title">Main benefits of this change</summary>
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Improved developer experience</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>By providing a base class for the creation of module methods, developers can follow a dedicated pattern to include methods into a module in a straightforward manner.</p>
</li>
<li>
<p>The renaming from reducers to methods was introduced to improve intuitive understanding of the meaning behind this data structure.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</details>
</div>
</div>
<div class="sect1">
<h2 id="removing-account-schema"><a class="anchor" href="#removing-account-schema"></a>10. Removing account schema</h2>
<div class="sectionbody">
<details>
<summary class="title">Main benefits of this change</summary>
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Improved developer experience</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>By providing a base class for the creation of module methods, developers can follow a dedicated pattern to include methods into a module in a straightforward manner.</p>
</li>
<li>
<p>The renaming from reducers to methods was introduced to improve intuitive understanding of the meaning behind this data structure.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</details>
</div>
</div>
<div class="sect1">
<h2 id="update-of-how-to-register-module-and-dependencies"><a class="anchor" href="#update-of-how-to-register-module-and-dependencies"></a>11. Update of how to register module and dependencies</h2>
<div class="sectionbody">
<details>
<summary class="title">Main benefits of this change</summary>
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Improved developer experience</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>By providing a base class for the creation of module methods, developers can follow a dedicated pattern to include methods into a module in a straightforward manner.</p>
</li>
<li>
<p>The renaming from reducers to methods was introduced to improve intuitive understanding of the meaning behind this data structure.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</details>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 44.4444%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">SDKv5</th>
<th class="tableblock halign-left valign-top">SDKv6</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Description</p></th>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></th>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Usage</p></th>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../plugins/report-misbehavior-plugin.html">Report misbehavior plugin</a></span>
  <span class="next"><a href="lisk-commander/index.html">Lisk Commander</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="footerdiv">
    <p>Â© 2022 Lisk Foundation</p>
    <!-- <div class="community-section">
      <p class="community-section__text">Follow Lisk on: </p>
      <div class="community-section__icons"> -->
    <div class="community_icons">
        <a href="https://lisk.chat" title="Discord" target="_blank" class="footer_icon icon-discord"><p>Discord</p></a>
        <a href="https://dev.lisk.com" title="Discourse" target="_blank" class="footer_icon icon-discourse"><p>Discourse</p></a>
        <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer_icon icon-github"><p>GitHub</p></a>
  <!--    </div> -->
    </div>
  </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script async src="../../../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../../../_/js/vendor/swagger-ui.js"></script>
<script async src="../../../_/js/vendor/component-versions.js"></script>
<script src="../../../_/js/vendor/custom.js"></script>
  </body>
</html>
