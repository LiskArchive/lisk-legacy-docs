<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Enabling forging :: Lisk documentation</title>
    <link rel="canonical" href="https://lisk.com/documentation/run-blockchain/forging.html">
    <link rel="prev" href="index.html">
    <link rel="next" href="../integrate-blockchain/index.html">
    <meta name="description" content="How to enable, disable and check forging on the respective user's node.">
    <meta name="generator" content="Antora 3.1.1">

  <link id="theme" rel="stylesheet" title="Default" href="../_/css/site.css">
  <link rel="stylesheet" title="Dark" href="../_/css/dark-site.css">

    <script>var uiRootPath = '../_'</script>
    <script src="../_/js/vendor/medium-zoom.js"></script>
    <script type="text/javascript" id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="e4db29b5-cd94-4bcf-87e4-04f4ca564240" data-blockingmode="manual"></script>

<link rel="icon" href="../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="top-logo">
        <a href=".." class="lisk-logo"></a>
        <a href=".." class="docs-logo"></a>
      </div>
      <!--<a class="navbar-item" href="https://lisk.com/documentation">Lisk documentation</a>-->
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">APIs</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../api/lisk-node-http.html">Lisk node HTTP API</a>
            <a class="navbar-item" href="../api/lisk-node-rpc.html">Lisk node RPC API</a>
            <a class="navbar-item" href="../api/lisk-service-http.html">Lisk Service HTTP API</a>
            <a class="navbar-item" href="../api/lisk-service-rpc.html">Lisk Service RPC API</a>
            <a class="navbar-item" href="../api/lisk-service-pubsub.html">Lisk Service Pub/Sub API</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Explorers</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://lisk.observer/" target="_blank">Lisk Observer</a>
            <a class="navbar-item" href="https://liskscan.com/" target="_blank">LiskScan</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../lisk-sdk/">Lisk SDK</a>
            <a class="navbar-item" href="../lisk-service/">Lisk Service</a>
            <a class="navbar-item" href="../lisk-core/">Lisk Core</a>
            <a class="navbar-item" href="https://lisk.com/wallet" target="_blank">Lisk Wallets</a>
          </div>
        </div>
        <button onclick="switch_style('toggle')" id="theme-toggle" class="theme-toggle navbar-item"></button>
        <!-- <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div> -->
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
  <div class="components-versions">
      <div class="page-components">
    <button class="component-menu-toggle" title="Show other documentations">Lisk Documentation</button>
    <div class="component-menu">
        <a class="component" href="../lisk-core/index.html">Lisk Core</a>
        <a class="component" href="../lisk-docs-manual/index.html">Lisk docs manual</a>
        <a class="component is-current" href="../index.html">Lisk Documentation</a>
        <a class="component" href="../lisk-sdk/index.html">Lisk SDK</a>
        <a class="component" href="../lisk-service/index.html">Lisk Service</a>
    </div>
  </div>
    <span></span>
      </div>
  <span></span>
  <span></span>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Lisk Documentation</a></li>
    <li><a href="index.html">Run Blockchain</a></li>
    <li><a href="forging.html">Enabling forging</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/development/docs/modules/ROOT/pages/run-blockchain/forging.adoc"><img class="pencil">Edit this Page</a></div>
  </div>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Lisk Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../intro/what-is-blockchain.html">What is blockchain?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../intro/how-blockchain-works.html">How blockchain works</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../intro/blockchain-scalability.html">Blockchain Scalability</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../intro/lisk-products.html">Lisk products</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../understand-blockchain/index.html">Understand Lisk Blockchain</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../understand-blockchain/state-machine.html">State machine</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../understand-blockchain/consensus/index.html">Consensus protocols</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../understand-blockchain/consensus/dpos-poa.html">Block generator selection algorithms</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../understand-blockchain/consensus/bft.html">Lisk BFT</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../understand-blockchain/consensus/certificates.html">Lisk Certificates</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../understand-blockchain/interoperability/index.html">Lisk Interoperability</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../understand-blockchain/interoperability/communication.html">Cross-chain communication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../understand-blockchain/interoperability/sidechain-registration-and-recovery.html">Sidechain Registration &amp; Recovery</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../understand-blockchain/blocks-txs.html">Blocks and Transactions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../understand-blockchain/sdk/modules-commands.html">Modules and Commands</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../understand-blockchain/sdk/plugins.html">Plugins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../understand-blockchain/sdk/rpc.html">Communicating to a Lisk node via RPC</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../understand-blockchain/sdk/codec-schema.html">Codec &amp; schema</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../build-blockchain/index.html">Build Blockchain</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../build-blockchain/create-blockchain-app.html">Creating a new blockchain application</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../build-blockchain/configuration.html">Sidechain client configuration</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../build-blockchain/module/index.html">How to create a module</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/module/configuration.html">1. How to create a module configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/module/stores.html">2. How to create stores</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/module/command.html">3. How to create a command</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/module/endpoints-methods.html">4. How to create endpoints and methods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/module/blockchain-event.html">5. How to create a blockchain event</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="../build-blockchain/plugin/index.html">How to create a plugin</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/plugin/schema-types.html">1. Defining off-chain data structures</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/plugin/offchain-db.html">2. Setting up an Off-chain database</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/plugin/configuring-plugin.html">3. Configuring a Plugin</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/plugin/plugin-class.html">4. Updating the Plugin Class</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../build-blockchain/plugin/plugin-endpoints.html">5. Creating an endpoint &amp; Testing the plugin</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../build-blockchain/create-genesis-block.html">How to create a new genesis block</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="index.html">Run Blockchain</a>
        </span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="forging.html">Enabling forging</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../integrate-blockchain/index.html">Integrate Blockchain</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../api/lisk-node-rpc.html">RPC API for Lisk nodes</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Products</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../lisk-sdk/index.html">Lisk SDK</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../lisk-core/index.html">Lisk Core</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../bug-bounty-program.html">Lisk Bug Bounty Program</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../glossary.html">Glossary</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk Documentation</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../lisk-core/index.html">Lisk Core</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../lisk-core/index.html">3.0.4 (latest)</a>
        </li>
        <li class="version">
          <a href="../lisk-core/v4/index.html">4.0.0-beta.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../lisk-docs-manual/index.html">Lisk docs manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../lisk-docs-manual/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">Lisk Documentation</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../lisk-sdk/index.html">Lisk SDK</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../lisk-sdk/index.html">5.2.2 (latest)</a>
        </li>
        <li class="version">
          <a href="../lisk-sdk/v6/index.html">6.0.0 (beta)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../lisk-service/index.html">Lisk Service</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../lisk-service/index.html">0.6.4 (latest)</a>
        </li>
        <li class="version">
          <a href="../lisk-service/v0.7/index.html">0.7.0 (beta)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Enabling forging</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#registering-a-delegate">1. Registering a delegate</a>
<ul class="sectlevel2">
<li><a href="#start-the-blockchain-application">1.1. Start the blockchain application</a></li>
<li><a href="#create-the-delegate-registration-transaction">1.2. Create the Delegate Registration transaction</a></li>
<li><a href="#send-the-transaction">1.3. Send the transaction</a></li>
<li><a href="#check-account-details">1.4. Check account details</a></li>
</ul>
</li>
<li><a href="#add-delegate-data-to-config">2. Add delegate data to config</a>
<ul class="sectlevel2">
<li><a href="#creating-a-custom-config-file">2.1. Creating a custom config file</a></li>
<li><a href="#option-1-via-application-cli">2.2. Option 1: via application CLI</a></li>
<li><a href="#option-2-with-lisk-commander">2.3. Option 2: with Lisk Commander</a></li>
<li><a href="#updating-the-custom-configuration">2.4. Updating the custom configuration</a></li>
</ul>
</li>
<li><a href="#forger_info-data">3. Forger_info data</a></li>
<li><a href="#checking-the-forging-status">4. Checking the forging status</a></li>
<li><a href="#enable-forging">5. Enable forging</a>
<ul class="sectlevel2">
<li><a href="#via-application-cli">5.1. via application CLI</a></li>
<li><a href="#via-the-updateforgingstatus-action">5.2. via the <code>updateForgingStatus</code> action</a></li>
</ul>
</li>
<li><a href="#disable-forging">6. Disable forging</a>
<ul class="sectlevel2">
<li><a href="#with-the-application-cli">6.1. with the application CLI</a></li>
<li><a href="#via-the-updateforgingstatus-action-2">6.2. via the <code>updateForgingStatus</code> action</a></li>
</ul>
</li>
<li><a href="#safely-enabling-forging-on-another-node">7. Safely enabling forging on another node</a></li>
<li><a href="#safely-enabling-forging-without-forger_info-data">8. Safely enabling forging without forger_info data</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>How to enable forging on a node as a delegate.
For more information about forging, please check the <a href="../lisk-sdk/modules/dpos-module.html#forging" class="xref page">forging</a> explanations on the DPoS module page.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="registering-a-delegate"><a class="anchor" href="#registering-a-delegate"></a>1. Registering a delegate</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before it is possible to enable forging on a node, it is required to register as a delegate.
This is achieved by choosing a unique delegate name, and posting a corresponding <a href="../understand-blockchain/lisk-protocol/transactions.html#delegate-registration" class="xref page">Register Delegate</a> transaction to the network.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
There are many possibilities to post the transaction, use the one you prefer: <a href="https://lisk.com/wallet" target="_blank" rel="noopener">Lisk Desktop</a>, <a href="../lisk-sdk/references/lisk-elements/index.html" class="xref page">Lisk Elements</a>, or the <a href="../lisk-sdk/plugins/dashboard-plugin.html" class="xref page">Dashboard plugin</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An option is to create the transaction object with the application CLI:</p>
</div>
<div class="sect2">
<h3 id="start-the-blockchain-application"><a class="anchor" href="#start-the-blockchain-application"></a>1.1. Start the blockchain application</h3>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_lisk-core"></a>Lisk Core</p>
</li>
<li>
<p><a id="tabset1_lisk-app"></a>Lisk app</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_lisk-core">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">lisk-core start</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_lisk-app">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./bin/run start</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-the-delegate-registration-transaction"><a class="anchor" href="#create-the-delegate-registration-transaction"></a>1.2. Create the Delegate Registration transaction</h3>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset2_lisk-core"></a>Lisk Core</p>
</li>
<li>
<p><a id="tabset2_lisk-app"></a>Lisk app</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset2_lisk-core">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">lisk-core transaction:create 5 0 1100000000 --asset='{"username":"myname"}'
? Please enter passphrase:  [hidden]
? Please re-enter passphrase:  [hidden]
{"transaction":"0805100018032080d6c28c042a20bad983c72bed43fd274f852658c298b74c71ab6fc50508879fef309e3836384b32080a066d796e616d653a4045afdd04d0c0bc6e548c0915d5fabef1311b1b75b1eb919a43b88dab539e7b6a99b9075f5d6382ec3bbebfca3301651a15d8af3f999d5b6fa7873b3969cd3d0c"}</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_lisk-app">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./bin/run transaction:create 5 0 1100000000 --asset='{"username":"myname"}'
? Please enter passphrase:  [hidden]
? Please re-enter passphrase:  [hidden]
{"transaction":"0805100018032080d6c28c042a20bad983c72bed43fd274f852658c298b74c71ab6fc50508879fef309e3836384b32080a066d796e616d653a4045afdd04d0c0bc6e548c0915d5fabef1311b1b75b1eb919a43b88dab539e7b6a99b9075f5d6382ec3bbebfca3301651a15d8af3f999d5b6fa7873b3969cd3d0c"}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="send-the-transaction"><a class="anchor" href="#send-the-transaction"></a>1.3. Send the transaction</h3>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset3_lisk-core"></a>Lisk Core</p>
</li>
<li>
<p><a id="tabset3_lisk-app"></a>Lisk app</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset3_lisk-core">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">lisk-core transaction:send 0805100018032080d6c28c042a20bad983c72bed43fd274f852658c298b74c71ab6fc50508879fef309e3836384b32080a066d796e616d653a4045afdd04d0c0bc6e548c0915d5fabef1311b1b75b1eb919a43b88dab539e7b6a99b9075f5d6382ec3bbebfca3301651a15d8af3f999d5b6fa7873b3969cd3d0c
Transaction with id: '1809da284fe26dba90d34dc3aab837a32d3c291a4ca78a9bfa263f927c69598a' received by node.</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_lisk-app">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./bin/run transaction:send 0805100018032080d6c28c042a20bad983c72bed43fd274f852658c298b74c71ab6fc50508879fef309e3836384b32080a066d796e616d653a4045afdd04d0c0bc6e548c0915d5fabef1311b1b75b1eb919a43b88dab539e7b6a99b9075f5d6382ec3bbebfca3301651a15d8af3f999d5b6fa7873b3969cd3d0c
Transaction with id: '1809da284fe26dba90d34dc3aab837a32d3c291a4ca78a9bfa263f927c69598a' received by node.</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="check-account-details"><a class="anchor" href="#check-account-details"></a>1.4. Check account details</h3>
<div class="paragraph">
<p>Use the <code>account:get</code> command to verify the account has now registered a delegate name:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset4_lisk-core"></a>Lisk Core</p>
</li>
<li>
<p><a id="tabset4_lisk-app"></a>Lisk app</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset4_lisk-core">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">lisk-core account:get ed86183c22f8399f7aa28f7d2c2f1680224f7281 --pretty</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset4_lisk-app">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./bin/run account:get ed86183c22f8399f7aa28f7d2c2f1680224f7281 --pretty</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The new delegate name should be displayed under <code>dpos.delegate.username</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "address": "ed86183c22f8399f7aa28f7d2c2f1680224f7281",
  "token": {
    "balance": "8888869000"
  },
  "sequence": {
    "nonce": "4"
  },
  "keys": {
    "numberOfSignatures": 0,
    "mandatoryKeys": [],
    "optionalKeys": []
  },
  "dpos": {
    "delegate": {
      "username": "myname",
      "pomHeights": [],
      "consecutiveMissedBlocks": 0,
      "lastForgedHeight": 2467,
      "isBanned": false,
      "totalVotesReceived": "0"
    },
    "sentVotes": [],
    "unlocking": []
  },
  "hello": {
    "helloMessage": "Greetings World!"
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="add-delegate-data-to-config"><a class="anchor" href="#add-delegate-data-to-config"></a>2. Add delegate data to config</h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
This step only needs to be performed when a delegate is enabling forging on a node for the first time.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To enable your node to forge for a particular delegate, firstly it is required to insert some data into the config file under the <code>forging.delegates</code> array as described below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>address</code>: The address of the delegate as a hex string.</p>
</li>
<li>
<p><code>encryptedPassphrase</code>: The symmetrically encrypted 12 word mnemonic passphrase of the delegate account.</p>
</li>
<li>
<p><code>hashOnion</code>: The hash onion stores the random seeds of the delegate for each forging round.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To create the delegate configuration data,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First create a custom config file</p>
</li>
<li>
<p>Then use one of the following alternatives to generate the delegate config data:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#option-1-via-application-cli">Option 1: via application CLI</a></p>
</li>
<li>
<p><a href="#option-2-with-lisk-commander">Option 2: with Lisk Commander</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Lastly, add the delegate config data to the custom config file.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="creating-a-custom-config-file"><a class="anchor" href="#creating-a-custom-config-file"></a>2.1. Creating a custom config file</h3>
<div class="paragraph">
<p>First copy the existing config file for the respective network.</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset5_lisk-core"></a>Lisk Core</p>
</li>
<li>
<p><a id="tabset5_lisk-app"></a>Lisk app</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset5_lisk-core">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cp ~/lisk-core/config/mainnet/config.json ~/lisk-core/config/mainnet/custom-config.json</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset5_lisk-app">
<div class="paragraph">
<p>Navigate to the app root folder, then</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cp config/default/config.json config/default/custom-config.json</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="option-1-via-application-cli"><a class="anchor" href="#option-1-via-application-cli"></a>2.2. Option 1: via application CLI</h3>
<div class="paragraph">
<p>If the blockchain application was <a href="../build-blockchain/create-blockchain-app.html#bootstrapping-a-new-blockchain-application-with-lisk-commander" class="xref page">bootstrapped with Lisk Commander</a>, it is possible to conveniently generate the relevant forging data using the command <a href="../lisk-sdk/application-cli.html#forgingconfig" class="xref page">forging:config</a>.</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset6_lisk-core"></a>Lisk Core</p>
</li>
<li>
<p><a id="tabset6_lisk-app"></a>Lisk app</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset6_lisk-core">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ lisk-core forging:config --output ./delegate_config.json
? Please enter passphrase:  [hidden]        <i class="conum" data-value="1"></i><b>(1)</b>
? Please re-enter passphrase:  [hidden]
? Please enter password:  [hidden]          <i class="conum" data-value="2"></i><b>(2)</b>
? Please re-enter password:  [hidden]</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset6_lisk-app">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ ./bin/run forging:config --output ./delegate_config.json
? Please enter passphrase:  [hidden]         <i class="conum" data-value="1"></i><b>(1)</b>
? Please re-enter passphrase:  [hidden]
? Please enter password:  [hidden]           <i class="conum" data-value="2"></i><b>(2)</b>
? Please re-enter password:  [hidden]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Passphrase of the delegate account.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Password to encrypt the passphrase of the delegate account.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The command will ask for the delegate passphrase, and in order to symmetrically encrypt the passphrase for the config, it will also ask for a password.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Store the password you used for the encryption somewhere safe.
It will be required everytime you wish to enable forging, in order to decrypt the delegates' passphrase in the config.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After providing the required inputs, the delegate configuration data will be saved in the file <code>delegate_config.json</code>.</p>
</div>
<details>
<summary class="title">Example of delegate_config.json</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
  forging: {
    delegates: [ <i class="conum" data-value="1"></i><b>(1)</b>
        {
            address: "86555265f0110b4ed5a8cb95dbc732e77732c474",
            encryptedPassphrase: "iterations=1&amp;salt=476d4299531718af8c88156aab0bb7d6&amp;cipherText=663dde611776d87029ec188dc616d96d813ecabcef62ed0ad05ffe30528f5462c8d499db943ba2ded55c3b7c506815d8db1c2d4c35121e1d27e740dc41f6c405ce8ab8e3120b23f546d8b35823a30639&amp;iv=1a83940b72adc57ec060a648&amp;tag=b5b1e6c6e225c428a4473735bc8f1fc9&amp;version=1",
            hashOnion: {
                "count": 1000000,
                "distance": 1000,
                "hashes": [
                    "ff2156e33c4aefa4a5a790edbe329f4a",
                    "5f86db180d4e63be6412d42d444dfb49",
                    "10fc37bb42d7f77030138e45795fef65",
                    "f04a306a73c5d7d94cc4f262b4d5ebb4",
                    //[...]
                    "ca41d52225f4b76140fc7f277731d326",
                    "fde61109609b74ba16d5ebd72a8b446f",
                    "9752dc2228492466d7c2046354d5fdfd"
                ]
            }
        }
    ]
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The list of delegates who are allowed to forge on this node.</td>
</tr>
</table>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="option-2-with-lisk-commander"><a class="anchor" href="#option-2-with-lisk-commander"></a>2.3. Option 2: with Lisk Commander</h3>
<div class="paragraph">
<p>Please ensure that the <a href="#lisk-sdk::references/lisk-commander/">Lisk Commander</a> is installed in a secure environment.
Upon completion, please follow these commands to generate the encrypted passphrase:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ lisk
lisk passphrase:encrypt --json
Please enter your secret passphrase: *****     <i class="conum" data-value="1"></i><b>(1)</b>
Please re-enter your secret passphrase: *****
Please enter your password: ***                <i class="conum" data-value="2"></i><b>(2)</b>
Please re-enter your password: ***
{
        "encryptedPassphrase": "iterations=1000000&amp;cipherText=30a3c8&amp;iv=b0d7322bf24e0dfe08462f4f&amp;salt=aa7e26c9f4317b61b4f45b5c6909f941&amp;tag=a2e0eadaf1f11a10b342965bc3bafc68&amp;version=1",
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enter the secret passphrase here that needs to be encrypted.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Enter the password here that will be required to decrypt the passphrase again.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Ensure a strong password is used.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://en.wikipedia.org/wiki/Password_strength#Guidelines_for_strong_passwords" target="_blank" rel="noopener">Guidelines for password strength</a> at Wikipedia for reference.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The hash onion can be generated with Lisk Commander in the following manner:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">lisk hash-onion --json</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Add the hash onion and the delegate address in hexadecimal representation to the object with the <code>encryptedPassphrase</code>.</p>
</li>
<li>
<p>Add the JSON object to the config under <code>forging.delegates</code> as shown below:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
  "forging": {
    "force": false,
    "delegates": [    <i class="conum" data-value="1"></i><b>(1)</b>
        {
            "address": "86555265f0110b4ed5a8cb95dbc732e77732c474",
            "encryptedPassphrase": "iterations=1&amp;salt=476d4299531718af8c88156aab0bb7d6&amp;cipherText=663dde611776d87029ec188dc616d96d813ecabcef62ed0ad05ffe30528f5462c8d499db943ba2ded55c3b7c506815d8db1c2d4c35121e1d27e740dc41f6c405ce8ab8e3120b23f546d8b35823a30639&amp;iv=1a83940b72adc57ec060a648&amp;tag=b5b1e6c6e225c428a4473735bc8f1fc9&amp;version=1",
            "hashOnion": {
              "count":1000000,
              "distance":1000,
              "hashes":[
                "a623885d5422ce0f2aad3ee128e447ce",
                "91e7ecad63bafdf36a5b02556ea77fe7",
                "4a66b400290185cba622f8c9f5d37181",
                //[...]
                "fb8eee95e630e812cdf90d054acc903a"
              ]
            }
        }
    ]
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The list of delegates who are allowed to forge on this node.</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Restart the node to apply the changes in the config.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more information about the configuration of the Lisk SDK check out the <a href="../build-blockchain/configuration.html" class="xref page">configuration guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="updating-the-custom-configuration"><a class="anchor" href="#updating-the-custom-configuration"></a>2.4. Updating the custom configuration</h3>
<div class="paragraph">
<p>Add the JSON object to the config file of the application.</p>
</div>
<div class="paragraph">
<p><code>forging.delegates</code> stores the list of delegates who are allowed to forge on this node:</p>
</div>
<div class="paragraph">
<p>Merge the delegate config with the custom config which was created in <a href="#creating-a-custom-config-file">step 2.1</a> above, to add the delegate information to the application configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">TEMP_FILE=$( mktemp )
jq --slurp '.[0] * .[1]' custom-config.json delegate_config.json &gt; $TEMP_FILE
mv $TEMP_FILE custom-config.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>Open <code>custom-config.json</code> to verify it was updated correctly.</p>
</div>
<div class="paragraph">
<p>Besides adding the delegate config data, the other options in the config can be adjusted as desired.
Examples of config options that might be interesting to update can be found below.</p>
</div>
<details>
<summary class="title">Example: <code>custom-config.json</code> file</summary>
<div class="content">
<div class="listingblock">
<div class="title">custom-config.json</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  //...
  "logger": {
    "fileLogLevel": "error",
    "consoleLogLevel": "info" <i class="conum" data-value="1"></i><b>(1)</b>
  },
  "rpc": {
    "enable": true, <i class="conum" data-value="2"></i><b>(2)</b>
    "mode": "ipc"
  },
  "forging": {
    "delegates": [ <i class="conum" data-value="3"></i><b>(3)</b>
        {
            "address": "86555265f0110b4ed5a8cb95dbc732e77732c474",
            "encryptedPassphrase": "iterations=1&amp;salt=476d4299531718af8c88156aab0bb7d6&amp;cipherText=663dde611776d87029ec188dc616d96d813ecabcef62ed0ad05ffe30528f5462c8d499db943ba2ded55c3b7c506815d8db1c2d4c35121e1d27e740dc41f6c405ce8ab8e3120b23f546d8b35823a30639&amp;iv=1a83940b72adc57ec060a648&amp;tag=b5b1e6c6e225c428a4473735bc8f1fc9&amp;version=1",
            "hashOnion": {
                "count": 1000000,
                "distance": 1000,
                "hashes": [
                    "ff2156e33c4aefa4a5a790edbe329f4a",
                    "5f86db180d4e63be6412d42d444dfb49",
                    "10fc37bb42d7f77030138e45795fef65",
                    "f04a306a73c5d7d94cc4f262b4d5ebb4",
                    //[...]
                    "ca41d52225f4b76140fc7f277731d326",
                    "fde61109609b74ba16d5ebd72a8b446f",
                    "9752dc2228492466d7c2046354d5fdfd"
                ]
            }
        }
    ],
  },
  //...
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set the console log level to <code>info</code> to view all relevant logs on the console.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Enable IPC to be able to use all commands of the Lisk Core CLI.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Add the delegate config info here, under <code>forging.delegates</code> of the node configuration.</td>
</tr>
</table>
</div>
</div>
</details>
</div>
</div>
</div>
<div class="sect1">
<h2 id="forger_info-data"><a class="anchor" href="#forger_info-data"></a>3. Forger_info data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>forger_info</code> data contains the following three properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>height</code>: Last forged block height.</p>
</li>
<li>
<p><code>maxHeightPreviouslyForged</code>: Delegates largest previously forged height.</p>
</li>
<li>
<p><code>maxHeightPrevoted</code>: Delegates largest prevoted height for a block.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For each of these properties, the forger config contains the value used in the last block forged by the node.</p>
</div>
<div class="paragraph">
<p>These  three variables are required for enabling forging for the corresponding delegate.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="checking-the-forging-status"><a class="anchor" href="#checking-the-forging-status"></a>4. Checking the forging status</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To check the forging status of a Lisk Core node, execute the following command:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset7_lisk-core"></a>Lisk Core</p>
</li>
<li>
<p><a id="tabset7_lisk-app"></a>Lisk app</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset7_lisk-core">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">lisk-core forging:status</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset7_lisk-app">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./bin/run forging:status</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">[{"address":"89aa5fc8861d392f60662f76a379cc348fe97d28","forging":true,"height":670237,"maxHeightPrevoted":670159,"maxHeightPreviouslyForged":670187}]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The command returns a list of delegates, based on the list under <code>forging.delegates</code> in the application config, (based on the details added to the config in the previous step, <a href="#add-delegate-data-to-config">Add delegate data to config</a>).
The following information is displayed for each delegate:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The hexadecimal representation of the delegate address.</p>
</li>
<li>
<p>If the delegate has forging enabled or not.</p>
</li>
<li>
<p>The <a href="#forger_info-data">Forger_info data</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enable-forging"><a class="anchor" href="#enable-forging"></a>5. Enable forging</h2>
<div class="sectionbody">
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure the node is <strong>fully synchronized</strong> with the network, before enabling forging on this node.</p>
</li>
<li>
<p>If forging is enabled for a delegate for the <strong>first time</strong>, use <code>0</code> as the value for <code>HEIGHT</code>, <code>MAXHEIGHTPREVIOUSLYFORGED</code>, and <code>MAXHEIGHTPREVOTED</code>.
Afterwards, it is always required to use the latest values of the <code>forger_info</code> info data.</p>
</li>
<li>
<p>To avoid being <a href="../understand-blockchain/lisk-protocol/consensus-algorithm.html#punishment" class="xref page">punished</a> by the network, ensure to adhere to the following points:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Never use outdated <a href="#forger_info-data">Forger_info data</a>.</p>
</li>
<li>
<p>Never activate forging for the same delegate on two or more nodes at the same time, (a.k.a double-forging).</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="via-application-cli"><a class="anchor" href="#via-application-cli"></a>5.1. via application CLI</h3>
<div class="paragraph">
<p>If the blockchain application was <a href="../build-blockchain/create-blockchain-app.html#bootstrapping-a-new-blockchain-application-with-lisk-commander" class="xref page">bootstrapped with Lisk Commander</a>, it is possible to conveniently generate the relevant forging data using the command <a href="../lisk-sdk/application-cli.html#forgingenable" class="xref page">forging:enable</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The blockchain application needs to be running to successfully enable forging on the node.
</td>
</tr>
</table>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset8_lisk-core"></a>Lisk Core</p>
</li>
<li>
<p><a id="tabset8_lisk-app"></a>Lisk app</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset8_lisk-core">
<div class="listingblock">
<div class="title">Enable forging</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">lisk-core forging:enable 9bd82e637d306533b1e1ad66e19ca0047faa1a6a --use-status-values <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset8_lisk-app">
<div class="listingblock">
<div class="title">Enable forging</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./bin/run forging:enable 9bd82e637d306533b1e1ad66e19ca0047faa1a6a --use-status-values <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <code>9bd82e637d306533b1e1ad66e19ca0047faa1a6a</code> with the hex string representation of your delegate address, which was displayed while <a href="#checking-the-forging-status">Checking the forging status</a>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This will automatically use the currently saved <code>forger_info</code> data to enable forging on the node.
Verify the correctness of the values <code>height</code>, <code>maxHeightPrevoted</code>, and <code>maxHeightPreviouslyForged</code> by answering <code>yes</code>, and use your password to decrypt the passphrase for forging.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Don&#8217;t trust <a href="#forger_info-data">Forger_info data</a> from public APIs or explorers, make sure to always use your local data!
You can use your data automatically by setting the flag <code>--use-status-values</code>.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"> Current forging status for delegate account 331e287263c8166febde9d77a5f333df75056c74 is:
{"height":14814092,"maxHeightPrevoted":14814017,"maxHeightPreviouslyForged":14814025}
? Do you want to use the above values to enable forging? yes
? Enter password to decrypt the encrypted passphrase:  **********
Updated forging status:
{"address":"331e287263c8166febde9d77a5f333df75056c74","forging":true}</code></pre>
</div>
</div>
<details>
<summary class="title">Reference for the <code>forging:enable</code> command</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">Enable forging for the given delegate address.

USAGE
  $ lisk-core forging:enable ADDRESS [HEIGHT] [MAXHEIGHTPREVIOUSLYFORGED] [MAXHEIGHTPREVOTED]

ARGUMENTS
  ADDRESS                    Address of an account in hex format.
  HEIGHT                     Last forged block height.
  MAXHEIGHTPREVIOUSLYFORGED  Delegates largest previously forged height.
  MAXHEIGHTPREVOTED          Delegates largest prevoted height for a block.

OPTIONS
  -d, --data-path=data-path  Directory path to specify where node data is stored. Environment variable "LISK_DATA_PATH" can also be
                             used.

  -w, --password=password    Specifies a source for your secret password. Command will prompt you for input if this option is not
                             set.
                             	Examples:
                             	- --password=pass:password123 (should only be used where security is not important)

  -y, --yes                  Do you want to use these values to enable forging.

  --overwrite                Overwrites the forger info.

  --pretty                   Prints JSON in pretty format rather than condensed.

  --use-status-values        Use delegates forging status values.

EXAMPLES
  forging:enable ab0041a7d3f7b2c290b5b834d46bdc7b7eb85815 --use-status-values
  forging:enable ab0041a7d3f7b2c290b5b834d46bdc7b7eb85815 --use-status-values --yes
  forging:enable ab0041a7d3f7b2c290b5b834d46bdc7b7eb85815 100 100 10
  forging:enable ab0041a7d3f7b2c290b5b834d46bdc7b7eb85815 100 100 10 --overwrite
  forging:enable ab0041a7d3f7b2c290b5b834d46bdc7b7eb85815 100 100 10 --data-path ./data
  forging:enable ab0041a7d3f7b2c290b5b834d46bdc7b7eb85815 100 100 10 --data-path ./data --password your_password</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="via-the-updateforgingstatus-action"><a class="anchor" href="#via-the-updateforgingstatus-action"></a>5.2. via the <code>updateForgingStatus</code> action</h3>
<div class="paragraph">
<p>Invoke the following action to <strong>enable the forging</strong> for a delegate:</p>
</div>
<div class="listingblock">
<div class="title">Enable forging</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const { createWSClient } = require('@liskhq/lisk-api-client');

export const enableForging = async () =&gt; {
    let apiClient = await createWSClient('ws://localhost:8080/ws');
    let response;

    const { data } = await apiClient.invoke('app:updateForgingStatus', {
      address: string, <i class="conum" data-value="1"></i><b>(1)</b>
      password: string, <i class="conum" data-value="2"></i><b>(2)</b>
      forging: true, <i class="conum" data-value="3"></i><b>(3)</b>
      height?: number, <i class="conum" data-value="4"></i><b>(4)</b>
      maxHeightPrevoted?: number, <i class="conum" data-value="5"></i><b>(5)</b>
      maxHeightPreviouslyForged?: number, <i class="conum" data-value="6"></i><b>(6)</b>
      override?: boolean <i class="conum" data-value="7"></i><b>(7)</b>
    });

    try {
      response = await apiClient.transaction.send(tx);
    } catch (error) {
      response = error;
    }
};</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Address as hex string.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Password that was used above to encrypt the passphrase in the configuration.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>When enabling forging, the value should be <code>true</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Not required, when enabling forging for a delegate for the first time.
Height of the last forged block by the delegate.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Not required, when enabling forging for a delegate for the first time.
Height of the previously prevoted block by any delegate.
Must match the value in the <code>forger_info</code> data.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Not required, when enabling forging for a delegate for the first time.
Height of the previously last forged block.
Must match the value in the <code>forger_info</code> data.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Optional: If true, overrides <code>maxHeightPreviouslyForged</code> and <code>maxHeightPrevoted</code> values in the forger_info data.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="disable-forging"><a class="anchor" href="#disable-forging"></a>6. Disable forging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sometimes it is necessary to disable forging, for example to update to the latest Lisk Core version, or if you are moving your node to a different server.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you would like to stop forging completely without being punished by the network, make sure to unvote yourself.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="with-the-application-cli"><a class="anchor" href="#with-the-application-cli"></a>6.1. with the application CLI</h3>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset9_lisk-core"></a>Lisk Core</p>
</li>
<li>
<p><a id="tabset9_lisk-app"></a>Lisk app</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset9_lisk-core">
<div class="listingblock">
<div class="title">Disable forging</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">lisk-core forging:disable 9bd82e637d306533b1e1ad66e19ca0047faa1a6a <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset9_lisk-app">
<div class="listingblock">
<div class="title">Disable forging</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./bin/run forging:disable 9bd82e637d306533b1e1ad66e19ca0047faa1a6a <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <code>9bd82e637d306533b1e1ad66e19ca0047faa1a6a</code> with the hexadecimal representation of your delegate address, which was displayed while <a href="#checking-the-forging-status">Checking the forging status</a>.</td>
</tr>
</table>
</div>
<details>
<summary class="title">Reference for the <code>forging:disable</code> command</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">Disable forging for the given delegate address.

USAGE
  $ lisk-core forging:disable ADDRESS

ARGUMENTS
  ADDRESS  Address of an account in a hexadecimal format.

OPTIONS
  -d, --data-path=data-path  Directory path to specify where node data is stored. Environment variable "LISK_DATA_PATH" can also be used.

  -w, --password=password    Specifies a source for your secret password. Command will prompt you for input if this option is not set.
                             	Examples:
                             	- --password=pass:password123 (should only be used where security is not important)

  --overwrite                Overwrites the forger info

  --pretty                   Prints JSON in pretty format rather than condensed.

EXAMPLES
  forging:disable ab0041a7d3f7b2c290b5b834d46bdc7b7eb85815
  forging:disable ab0041a7d3f7b2c290b5b834d46bdc7b7eb85815 --data-path ./data
  forging:disable ab0041a7d3f7b2c290b5b834d46bdc7b7eb85815 --data-path ./data --password your_password</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="via-the-updateforgingstatus-action-2"><a class="anchor" href="#via-the-updateforgingstatus-action-2"></a>6.2. via the <code>updateForgingStatus</code> action</h3>
<div class="paragraph">
<p>Invoke the following action to <strong>disable the forging</strong> for a delegate:</p>
</div>
<div class="listingblock">
<div class="title">Disable forging</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const { createWSClient } = require('@liskhq/lisk-api-client');

export const disableForging = async () =&gt; {
    let apiClient = await createWSClient('ws://localhost:8080/ws');
    const { data } = await apiClient.invoke('app:updateForgingStatus', {
      address: string,
      password: string,
      forging: false <i class="conum" data-value="1"></i><b>(1)</b>
    });
};</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Change forging to <code>false</code> to disable forging for a delegate on the node.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="safely-enabling-forging-on-another-node"><a class="anchor" href="#safely-enabling-forging-on-another-node"></a>7. Safely enabling forging on another node</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To safely enable forging on another node, please ensure to follow the steps below:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Setup a new node on another server.</p>
</li>
<li>
<p>Start the node and let it synchronize with the network.
If available, it is recommended to synchronize from snapshots to speed up the synchronization process.</p>
</li>
<li>
<p>Login to the server with the old node.</p>
</li>
<li>
<p><a href="#disable-forging">Disable forging</a> on the old node.</p>
</li>
<li>
<p>Stop the old node.</p>
</li>
<li>
<p>Dump the data in the <code>forger_info</code> table of the db of your node.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">lisk-core forger-info:export</code></pre>
</div>
</div>
</li>
<li>
<p>Login to the server with the new node.</p>
</li>
<li>
<p>Restore the <code>forger_info</code> table.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">lisk-core forger-info:import ./forger.db.tar.gz</code></pre>
</div>
</div>
</li>
<li>
<p><a href="#add-delegate-data-to-config">Add delegate data to config</a>.</p>
</li>
<li>
<p>Ensure the node is fully synchronized with the network.
The height of your node should be equal to the current network height.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">lisk-core node:info</code></pre>
</div>
</div>
</li>
<li>
<p>Fetch the forging data needed to enable forging by <a href="#checking-the-forging-status">Checking the forging status</a>.</p>
</li>
<li>
<p><a href="#enable-forging">Enable forging</a>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="safely-enabling-forging-without-forger_info-data"><a class="anchor" href="#safely-enabling-forging-without-forger_info-data"></a>8. Safely enabling forging without forger_info data</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">Configurable Constants</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>BLOCK_TIME = 10</code>: The block time of the considered blockchain in seconds, i.e., 10 for Lisk Mainnet.</p>
</li>
<li>
<p><code>MAX_FORK_DEPTH = 8640</code>: An upper boundary on the largest chain of off-chain blocks for which the validator generated a block, i.e., for every block at height <code>h</code> generated by the validator, the parent block at height <code>h - MAX_FORK_DEPTH</code> must be contained in the canonical chain that is eventually finalized.
It is recommended to use <code>MAX_FORK_DEPTH</code> = 8640 = 24*60 *6 (number of blocks generated in 24 h).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Required Delegate Input</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>lastHeightActive</code>: Unix timestamp of the last height when the validator node could have possibly been active and forging, (over estimate with a larger number when uncertain about the exact time).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Instructions</dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start a new node with forging deactivated and synchronize with the Lisk blockchain until there is a block <code>finalizedBlock</code> that is
finalized, and that the finalized block header timestamp is greater than the last active height: <code>finalizedBlock.header.timestamp &gt; lastHeightActive</code></p>
</li>
<li>
<p>Obtain a block <code>parentBlock</code> which is a parent block of <code>finalizedBlock</code> at height <code>finalizedBlock.header.height - MAX_FORK_DEPTH</code>.</p>
<div class="literalblock">
<div class="content">
<pre>parentBlock.header.height = finalizedBlock.header.height - MAX_FORK_DEPTH</pre>
</div>
</div>
</li>
<li>
<p>Compute the number of missed blocks in the current chain between the <code>finalizedBlock</code> and the <code>parentBlock</code>, i.e., as shown below:</p>
<div class="literalblock">
<div class="content">
<pre>missedBlocks = ceil((finalizedBlock.header.timestamp - parentBlock.header.timestamp)/BLOCK_TIME) - (finalizedBlock.header.height - parentBlock.header.height)</pre>
</div>
</div>
</li>
<li>
<p>Use the following forging configuration and activate forging:</p>
<div class="literalblock">
<div class="content">
<pre>height = finalizedBlock.header.height
maxHeightPreviouslyForged = finalizedBlock.header.height + missedBlocks
heightPrevoted = finalizedBlock.header.height</pre>
</div>
</div>
</li>
</ol>
</div>
</dd>
</dl>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="index.html">Run Blockchain</a></span>
  <span class="next"><a href="../integrate-blockchain/index.html">Integrate Blockchain</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="footerdiv">
    <p>© 2022 Lisk Foundation</p>
    <!-- <div class="community-section">
      <p class="community-section__text">Follow Lisk on: </p>
      <div class="community-section__icons"> -->
    <div class="community_icons">
        <a href="https://lisk.chat" title="Discord" target="_blank" class="footer_icon icon-discord"><p>Discord</p></a>
        <a href="https://dev.lisk.com" title="Discourse" target="_blank" class="footer_icon icon-discourse"><p>Discourse</p></a>
        <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer_icon icon-github"><p>GitHub</p></a>
  <!--    </div> -->
    </div>
  </div>
</footer>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script async src="../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../_/js/vendor/swagger-ui.js"></script>
<script async src="../_/js/vendor/component-versions.js"></script>
<script src="../_/js/vendor/custom.js"></script>
  </body>
</html>
