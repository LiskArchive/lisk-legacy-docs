= Interacting with the blockchain application via the dashboard plugin
Mona Bärenfänger <mona@lightcurve.io>
// Settings
:toc: preamble
:idprefix:
:idseparator: -
:sectnums:
:experimental:
// Project URLS
:advanced_rpc_appactions: advanced-explanations/rpc-endpoints.adoc#application-actions
:url_guides_asset: guides/app-development/asset.adoc
:url_guides_config: guides/app-development/configuration.adoc
:url_guides_genesisblock: guides/app-development/genesis-block.adoc
:url_guides_module: guides/app-development/module.adoc
:url_guides_module_actions: guides/app-development/module.adoc#actions
:url_guides_plugin: guides/app-development/plugin.adoc
:url_guides_plugin_actions: guides/app-development/plugin.adoc#actions
:url_guides_setup: guides/app-development/setup.adoc
:url_intro_plugins: introduction/plugins.adoc
:url_references_dashboard_plugin: references/lisk-framework/dashboard-plugin.adoc

How to conveniently interact with a blockchain application during development, by using the xref:{url_references_dashboard_plugin}[].

.Prerequisites
[NOTE]
====
To use this guide, it is assumed that the following criteria have been met:

. Lisk Commander is installed, and a basic blockchain application is already initialized, as explained in the guide xref:{url_guides_setup}[].
. a new module `HelloModule` is created, as explained in the guide xref:{url_guides_module}[].
. a new asset `HelloAsset` is created, as explained in the guide xref:{url_guides_asset}[].
. a new plugin `LatestHelloPlugin` is created, as explained in the guide xref:{url_guides_plugin}[].
. The Hello World blockchain application has been configured to successfully connect with the dahsboard plugin, as explained in the previous guide xref:{url_guides_config}[].
====

== Plugin registration

Install the dashboard plugin:

[source,bash]
----
npm i @liskhq/lisk-framework-dashboard-plugin
----

Now open `plugins.ts`, import the Dashboard plugin and register it with the application:

.src/app/plugins.ts
[source,typescript]
----
/* eslint-disable @typescript-eslint/no-empty-function */
import { Application } from 'lisk-sdk';
import { LatestHelloPlugin } from "./plugins/latest_hello/latest_hello_plugin";
import { DashboardPlugin } from "@liskhq/lisk-framework-dashboard-plugin";

// @ts-expect-error Unused variable error happens here until at least one module is registered
export const registerPlugins = (app: Application): void => {

    app.registerPlugin(LatestHelloPlugin);
    app.registerPlugin(DashboardPlugin);
};
----

Save and close `plugins.ts` and start the lockchain application again:

[source,bash]
----
./bin/run start
----

Wait until the application start is completed.
Now it is possible to access the dashboard on the browser under `localhost: 4005`

== Dashboard walkabout

Go to http://localhost:4005 to access the dashboard.

.Dashbobard overview
image:guides/dashboard/dashboard2.png[]

//=== Creating new accounts

=== Subscribing to events

At the bottom of the dashoard is the "Recent events" window, which allows to subscribe to various events by selecting them from a dropdown.

We subscribe to the newly created event `hello:newHello`

image:guides/dashboard/subscribe_event.png[]

Once a new hello transaction is posted, the event is published and will show up in the window "Recent events".

NOTE: It can happen that the same event is received multiple times, like in the below example, where the `hello:newHello` is received 3 times.

image:guides/dashboard/receive_newHello_event.png[]

=== Sending transactions

Another very useful component of the Dashboard is the "Send transaction" section.

The transaction type is selected from the dropdown.
Of course, we want to try out the newly created hello asset from the guide xref:{url_guides_asset}[]: `hello:createHello`.

image:guides/dashboard/send_tx_dropdown.png[]

Once the desired transaction type is selected, provide the passphrase of the sender account and the hello transaction asset:

The passphrase is retrieved from the file `accounts.json`, which contains the account credentials of all genesis delegates of the hello world blockchain application.

NOTE: The accounts in your `accounts.json` file will be different, because the file was created newly before in the guide xref:{url_guides_genesisblock}[].

.config/accounts.json
[source,js]
----
[
	{
		"passphrase": "wait yellow stage simple immune primary when digital bounce coin draft life",
		"address": "92ff111dfc904d1d8b077bf6e815fd21d881b005"
	},
	{
		"passphrase": "transfer alien ticket whisper face ability rally planet town brick profit solution",
		"address": "80bd220ff01b6a248822b337a11be79da7fb43d2"
	},
	{
		"passphrase": "broccoli coast fade over atom chimney skate symptom ten rug pave marble",
		"address": "252eeaf82f6d713501e561ddd437bf00a903f415"
	},

	// ...
]
----

image:guides/dashboard/send_tx_asset2.png[]

Once all needed parameters are provided, hit the kbd:[Submit] button.

If the transaction got accepted, you will see a confirmation:

image:guides/dashboard/send_tx_success2.png[]

To verify that the hello message was updated in the sender account, select the action `app:getAccount` from the section "Call action".

The action `app:getAccount` is part of the xref:{advanced_rpc_appactions}[application actions] and returns the account data for the account address that is specified in the action input.

Provide the address which is belonging to the passphrase which was used to create the hello transaction in the action input field and hit the kbd:[Submit] button.

image:guides/dashboard/call_action.png[]

In the response, you can see that the hello message of the account was updated successfully.

image:guides/dashboard/call_action_success2.png[]

=== Invoking actions

Actions are invoked in the "Call action" section.

In the previous guides we created the following two new actions:

. the action `hello:amountOfHellos` of the xref:{url_guides_module_actions}[hello module]
. the action `latestHello:getLatestHello` of the xref:{url_guides_plugin_actions}[latest hello plugin]

==== Invoking `hello:amountOfHellos`

Select `hello:amountOfHellos` from the dropdown menu.

You can directly hit the kbd:[Submit] button to see the results.
We don't need to provide any input, because the action doesn't require any.

image:guides/dashboard/call_moduleaction.png[]

As we already sent two hello transactions, the action responds as follows:
image:guides/dashboard/call_moduleaction_success.png[]

==== Invoking `latestHello:getLatestHello`

Select `latestHello:getLatestHello` from the dropdown menu.

You can directly hit the kbd:[Submit] button to see the results.
Again, we don't need to provide any input, because the action doesn't require any.

image:guides/dashboard/call_pluginaction.png[]

As expected, the plugin responds with the latest hello message that was posted to the blockchain application.

image:guides/dashboard/call_pluginaction_success.png[]

The Dashboard plugin provides various more features, most of them very self-explanatory.
For example, you can create new accounts, see all incoming transactions and forged blocks, or see general node and network information.
