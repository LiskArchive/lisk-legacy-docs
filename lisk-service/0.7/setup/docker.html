<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installation with Docker :: Lisk documentation</title>
    <link rel="canonical" href="https://liskhq.github.io/lisk-docs/lisk-service/setup/docker.html">
    <link rel="prev" href="../index.html">
    <link rel="next" href="source.html">
    <meta name="generator" content="Antora 3.1.1">

  <link id="theme" rel="stylesheet" title="Default" href="../../../_/css/site.css">
  <link rel="stylesheet" title="Dark" href="../../../_/css/dark-site.css">

    <script>var uiRootPath = '../../../_'</script>
    <script src="../../../_/js/vendor/medium-zoom.js"></script>
    <script type="text/javascript" id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="e4db29b5-cd94-4bcf-87e4-04f4ca564240" data-blockingmode="manual"></script>
    <!-- Matomo -->
    <script>
      var _paq = window._paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="https://lisk.matomo.cloud/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '2']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src='//cdn.matomo.cloud/lisk.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Code -->
    <!-- Matomo Tag Manager -->
    <script>
      var _mtm = window._mtm = window._mtm || [];
      _mtm.push({'mtm.startTime': (new Date().getTime()), 'event': 'mtm.Start'});
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src='https://cdn.matomo.cloud/lisk.matomo.cloud/container_RUW6y8yf.js'; s.parentNode.insertBefore(g,s);
    </script>
    <!-- End Matomo Tag Manager -->
<link rel="icon" href="../../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="top-logo">
        <a href="../../.." class="lisk-logo"></a>
        <a href="../../.." class="docs-logo"></a>
      </div>
      <!--<a class="navbar-item" href="https://liskhq.github.io/lisk-docs">Lisk documentation</a>-->
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">APIs</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../api/lisk-node-rpc.html">Lisk node RPC API</a>
            <a class="navbar-item" href="../../../api/lisk-service-http.html">Lisk Service HTTP
              API</a>
            <a class="navbar-item" href="../../../api/lisk-service-rpc.html">Lisk Service RPC
              API</a>
            <a class="navbar-item" href="../../../api/lisk-service-pubsub.html">Lisk Service
              Pub/Sub API</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Explorers</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://lisk.observer/" target="_blank">Lisk Observer</a>
            <a class="navbar-item" href="https://liskscan.com/" target="_blank">LiskScan</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../lisk-sdk/">Lisk SDK</a>
            <a class="navbar-item" href="../../../lisk-service/">Lisk Service</a>
            <a class="navbar-item" href="../../../lisk-core/">Lisk Core</a>
            <a class="navbar-item" href="https://lisk.com/wallet" target="_blank">Lisk Wallets</a>
          </div>
        </div>
        <button onclick="switch_style('toggle')" id="theme-toggle" class="theme-toggle navbar-item"></button>
        <!-- <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div> -->
      </div>
    </div>
  </nav>
</header><div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
  <div class="components-versions">
      <div class="page-components">
    <button class="component-menu-toggle" title="Show other documentations">Lisk Service</button>
    <div class="component-menu">
        <a class="component" href="../../../lisk-core/index.html">Lisk Core</a>
        <a class="component" href="../../../lisk-docs-manual/index.html">Lisk docs manual</a>
        <a class="component" href="../../../index.html">Lisk Documentation</a>
        <a class="component" href="../../../lisk-sdk/index.html">Lisk SDK</a>
        <a class="component is-current" href="../../index.html">Lisk Service</a>
    </div>
  </div>
    <span></span>
    <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">0.7 (beta)</button>
  <div class="version-menu">
    <a class="version" href="../../setup/docker.html">0.6.5 (latest)</a>
    <a class="version is-current" href="docker.html">0.7 (beta)</a>
  </div>
</div>
  </div>
  <span></span>
  <span></span>
  <a href="../../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Lisk Service</a></li>
    <li>Setup</li>
    <li><a href="docker.html">Installation with Docker</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-service/edit/1705-Update-Pm2-commands/docs/antora/modules/ROOT/pages/setup/docker.adoc"><img class="pencil">Edit this Page</a></div>
  </div>
<div class="body">
<div class="nav-container" data-component="lisk-service" data-version="0.7">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Lisk Service</a></h3>
<ul class="nav-list">
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Setup</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="docker.html">Installation with Docker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="source.html">Installation from source code</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../configuration/index.html">Configuration</a>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Management</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../management/docker.html">Docker commands</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../management/source.html">PM2 commands</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk Service</span>
    <span class="version">0.7 (beta)</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../lisk-core/index.html">Lisk Core</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-core/index.html">3.0.4 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-core/v4/index.html">4.0.0 (beta)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../lisk-docs-manual/index.html">Lisk docs manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-docs-manual/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../index.html">Lisk Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../index.html">default</a>
        </li>
        <li class="version">
          <a href="../../../beta/index.html">beta</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../lisk-sdk/index.html">Lisk SDK</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-sdk/index.html">5.2.2 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-sdk/v6/index.html">6.0.0 (beta)</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../index.html">Lisk Service</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../index.html">0.6.5 (latest)</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">0.7 (beta)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Installation with Docker</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>How to set up Lisk Service and connect it to a local Lisk Core node.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Pre-requisite</strong></p>
</div>
<div class="paragraph">
<p>Lisk Service is a web application middleware that allows interaction with various blockchain networks based on the Lisk protocol.
It is recommended to set up a blockchain node first, before setting up Lisk Service.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To set up a Lisk-Core node, see any of our setup guides, such as <a href="../../../lisk-core/v4/setup/npm.html" class="xref page">NPM setup</a>.</p>
</li>
<li>
<p>Alternatively, you can setup up a sidechain node to connect to Lisk Service.</p>
</li>
<li>
<p>Please make sure to set <code>system.keepEventsForHeights: -1</code> in the node config before synchronizing the node with the network.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up-lisk-service"><a class="anchor" href="#setting-up-lisk-service"></a>1. Setting up Lisk Service</h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>It is strongly recommended to synchronize your blockchain node with the network <strong>before</strong> starting the Lisk Service.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="prerequisites"><a class="anchor" href="#prerequisites"></a>1.1. Prerequisites</h3>
<div class="paragraph">
<p>The following dependencies are required to install and run Lisk Service with Docker.</p>
</div>
<div class="sect3">
<h4 id="development-tools"><a class="anchor" href="#development-tools"></a>1.1.1. Development tools</h4>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_ubuntu---debian"></a>Ubuntu / Debian</p>
</li>
<li>
<p><a id="tabset1_macos"></a>MacOS</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_ubuntu---debian">
<div class="paragraph">
<p>Install the <code>build-essential</code> package alongside several development tools.</p>
</div>
<div class="paragraph">
<p>For example, use <code>apt</code> if running Ubuntu as shown in the following command below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">apt install build-essential git</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_macos">
<div class="paragraph">
<p><strong>Brew</strong></p>
</div>
<div class="paragraph">
<p>Install <a href="https://brew.sh/">Brew</a> by following <a href="https://brew.sh/">the most recent instruction</a>.</p>
</div>
<div class="paragraph">
<p>If you already have Brew installed, ensure it is working and is the latest version.</p>
</div>
<div class="listingblock">
<div class="title">Update current brew installation</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">brew update</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Verify the brew installation</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">brew doctor</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Xcode</strong></p>
</div>
<div class="paragraph">
<p>Install <a href="https://developer.apple.com/xcode/">Xcode</a> essentials coming from Apple.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">xcode-select --install</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="docker-docker-compose"><a class="anchor" href="#docker-docker-compose"></a>1.1.2. Docker &amp; Docker compose</h4>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset2_ubuntu---debian"></a>Ubuntu / Debian</p>
</li>
<li>
<p><a id="tabset2_macos"></a>MacOS</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset2_ubuntu---debian">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Please refer to the <a href="https://docs.docker.com/engine/install" target="_blank" rel="noopener">Docker installation for Ubuntu</a>.</p>
</li>
<li>
<p>To install Docker Compose, please refer to <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener">Install Docker Compose</a>.</p>
</li>
<li>
<p>To configure Docker so it can be run without <code>sudo</code> rights, follow: <a href="https://docs.docker.com/install/linux/linux-postinstall/" target="_blank" rel="noopener">Linux post install</a>.</p>
</li>
</ol>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_macos">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Please refer to <a href="https://docs.docker.com/docker-for-mac/install/" target="_blank" rel="noopener">Docker installation for Mac</a>. Please note that Docker for Mac already includes Docker Compose.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="open-necessary-ports"><a class="anchor" href="#open-necessary-ports"></a>1.1.3. Open necessary ports</h4>
<div class="paragraph">
<p>Ensure the port which allows external services communication with the Lisk Service APIs is open.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <strong>default</strong> API port for <strong>HTTP</strong> &amp; <strong>WebSocket</strong> is: <code>9901</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example: Opening port 9901 with ufw on Ubuntu</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo ufw allow 9901</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="installation-of-lisk-service"><a class="anchor" href="#installation-of-lisk-service"></a>1.2. Installation of Lisk Service</h3>
<div class="paragraph">
<p>Clone the <a href="https://github.com/LiskHQ/lisk-service" target="_blank" rel="noopener">lisk-service</a> GitHub repository and then navigate into the project folder.</p>
</div>
<div class="listingblock">
<div class="title">Execute in the directory where you want to store Lisk Service</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/LiskHQ/lisk-service.git
cd lisk-service
git checkout v0.7.0</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="build-lisk-service"><a class="anchor" href="#build-lisk-service"></a>2. Build Lisk Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To build Lisk Service from local files, first, navigate to the <code>lisk-service</code> repository on your system:</p>
</div>
<div class="listingblock">
<div class="title">Working directory: ./lisk-service/</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">make build</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lisk Service is now ready to use on your machine.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you skipped the step to configure Docker to run without <code><strong>sudo</strong></code> rights, you need to prepend <code><strong>sudo</strong></code> with aforementioned command: <code><strong>sudo make build</strong></code>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="connecting-lisk-service-to-a-blockchain-node"><a class="anchor" href="#connecting-lisk-service-to-a-blockchain-node"></a>3. Connecting Lisk Service to a blockchain node</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before running the application copy the default docker-compose environment file:</p>
</div>
<div class="listingblock">
<div class="title">Working directory: ./lisk-service/</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cp docker/example.env .env</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the next step, open <code>.env</code> to set the required environment variables.</p>
</div>
<div class="listingblock">
<div class="title">Working directory: ./lisk-service/</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">vim .env</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">.env</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Lisk ecosystem configuration
LISK_APP_WS=ws://host.docker.internal:7887</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>example.env</code> assumes that the blockchain node e.g. Lisk Core node is running on the host machine, and not inside of a Docker container.</p>
</div>
<div class="paragraph">
<p>When running a blockchain node inside of a Docker container, the following variable needs to refer to the container.
For this to work, the container running the blockchain node and the Lisk Service Blockchain Connector container must share the same docker network:</p>
</div>
<div class="listingblock">
<div class="title">.env</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Lisk ecosystem configuration
LISK_APP_WS="ws://&lt;your_docker_container&gt;:7887"</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For a complete list of supported environment variables check the <a href="../configuration/index.html" class="xref page">Lisk Service Configuration Reference</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="starting-lisk-service"><a class="anchor" href="#starting-lisk-service"></a>4. Starting Lisk Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the following command to start Lisk Service:</p>
</div>
<div class="listingblock">
<div class="title">Working directory: ./lisk-service/</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">make up</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stopping-lisk-service"><a class="anchor" href="#stopping-lisk-service"></a>5. Stopping Lisk Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can stop Lisk Service again with the following command:</p>
</div>
<div class="listingblock">
<div class="title">Working directory: ./lisk-service/</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">make down</code></pre>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../index.html">Lisk Service</a></span>
  <span class="next"><a href="source.html">Installation from source code</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="footerdiv">
    <p>© 2023 Lisk Foundation</p>
    <!-- <div class="community-section">
      <p class="community-section__text">Follow Lisk on: </p>
      <div class="community-section__icons"> -->
    <div class="community_icons">
        <a href="https://lisk.chat" title="Discord" target="_blank" class="footer_icon icon-discord"><p>Discord</p></a>
        <a href="https://dev.lisk.com" title="Discourse" target="_blank" class="footer_icon icon-discourse"><p>Discourse</p></a>
        <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer_icon icon-github"><p>GitHub</p></a>
  <!--    </div> -->
    </div>
  </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script async src="../../../_/js/vendor/glossary.js"></script>
<script async src="../../../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../../../_/js/vendor/swagger-ui.js"></script>
<script async src="../../../_/js/vendor/component-versions.js"></script>
<script src="../../../_/js/vendor/custom.js"></script>
  </body>
</html>
